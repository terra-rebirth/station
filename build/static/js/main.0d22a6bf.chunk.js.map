{"version":3,"sources":["auth/index.ts","auth/hooks/useAuth.ts","data/queries/wasm.ts","utils/data.ts","auth/scripts/is.ts","data/wallet.ts","data/queries/treasury.ts","components/general/Button.tsx","components/general/Copy.tsx","components/general/External.tsx","components/general/FinderLink.tsx","components/general/Internal.tsx","components/general/LinkButton.tsx","components/general/Pre.tsx","components/general/ValidatorLink.tsx","app/InitNetworks.tsx","utils/error.ts","txs/stake/StakeForm.tsx","app/sections/LatestTx/LatestTx.module.scss","components/feedback/State.tsx","components/feedback/Empty.tsx","components/feedback/Wrong.tsx","components/feedback/Forbidden.tsx","components/feedback/ErrorBoundary.tsx","components/feedback/Fetching.tsx","components/feedback/LoadingCircular.tsx","components/feedback/Modal.tsx","data/queries/tx.ts","config/lang.ts","styles/images/menu/Wallet.svg","app/ScrollToTop.tsx","data/settings/Theme.ts","auth/modules/Splash.tsx","app/components/Overlay.tsx","app/containers/Online.tsx","app/NetworkError.tsx","styles/images/LocalTerra.png","app/WithNodeInfo.tsx","data/queries/tendermint.ts","app/InitWallet.tsx","app/InitTheme.tsx","app/electron.tsx","app/ElectronVersion.tsx","styles/images/menu/NFT.svg","styles/images/menu/History.svg","styles/images/menu/Swap.svg","styles/images/menu/Stake.svg","styles/images/menu/Governance.svg","styles/images/menu/Contract.svg","data/Terra/TerraAPI.ts","data/queries/oracle.ts","pages/charts/components/ChartTooltip.tsx","pages/charts/components/Chart.tsx","pages/charts/components/ChartContainer.tsx","pages/charts/components/ButtonGroup.tsx","styles/images/exchanges/Binance.svg","pages/charts/LunaPriceChart.tsx","pages/dashboard/components/DashboardContent.tsx","pages/dashboard/LunaPrice.tsx","pages/dashboard/TaxRate.tsx","pages/dashboard/components/SelectDenom.tsx","pages/dashboard/Issuance.tsx","data/queries/distribution.ts","pages/dashboard/CommunityPool.tsx","pages/dashboard/components/DashboardTag.tsx","pages/dashboard/StakingRatio.tsx","pages/charts/components/Filter.tsx","pages/charts/components/Range.tsx","pages/charts/TxVolume.tsx","pages/charts/StakingReturn.tsx","pages/charts/TaxRewards.tsx","pages/charts/Wallets.tsx","pages/dashboard/Charts.tsx","pages/dashboard/Dashboard.tsx","data/settings/MinimumValue.ts","data/external/tfm.ts","styles/images/exchanges/KuCoin.svg","styles/images/exchanges/Huobi.svg","styles/images/exchanges/Kado.svg","pages/wallet/Buy.tsx","pages/wallet/AssetActions.tsx","pages/wallet/Asset.tsx","pages/wallet/SelectMinimumValue.tsx","pages/wallet/Coins.tsx","pages/wallet/IBCAsset.tsx","pages/wallet/CW20Asset.tsx","data/moneies/OpzAssets.ts","pages/custom/WithSearchInput.tsx","pages/custom/TokenItem.tsx","pages/custom/TokenList.tsx","data/queries/vesting.ts","pages/custom/ManageCustomTokens.tsx","pages/wallet/AddTokens.tsx","pages/wallet/Tokens.tsx","styles/images/TerraLine.svg","pages/wallet/VestingScheduleTable.tsx","pages/wallet/Vesting.tsx","app/containers/DelegationsPromote.tsx","pages/wallet/Rewards.tsx","styles/images/Terra.svg","pages/wallet/LinkEcosystem.tsx","pages/custom/ManageCustomMoneies.tsx","pages/wallet/AddMoneies.tsx","pages/wallet/Moneies.tsx","pages/wallet/Wallet.tsx","pages/custom/ManageCustomTokensCW721.tsx","pages/nft/NFTPlaceholder.tsx","pages/nft/NFTDetails.tsx","pages/nft/NFTAssetItem.tsx","pages/nft/NFTAssetGroup.tsx","pages/nft/NFTAssets.tsx","pages/nft/NFTMarketplace.tsx","pages/nft/NFT.tsx","data/Terra/TerraLCD.ts","app/containers/TxMessage.tsx","pages/history/HistoryMessage.tsx","pages/history/HistoryItemApi/HistoryItem.tsx","pages/history/HistoryListApi/HistoryList.tsx","pages/history/HistoryItemLcd/HistoryItem.tsx","pages/history/HistoryListLcd/HistoryList.tsx","pages/history/History.tsx","pages/stake/components/StakedCard.tsx","pages/stake/Delegations.tsx","pages/stake/Unbondings.tsx","pages/stake/RewardsTooltip.tsx","pages/stake/Rewards.tsx","pages/stake/Staked.tsx","styles/images/stake/TerraValidatorProfiles.svg","pages/stake/components/ProfileIcon.tsx","pages/stake/components/Uptime.tsx","pages/stake/components/ValidatorTag.tsx","pages/stake/Validators.tsx","pages/stake/Stake.tsx","data/queries/gov.ts","pages/gov/components/VoteProgress.tsx","pages/gov/ProposalVotes.tsx","pages/gov/ProposalHeader.tsx","pages/gov/ProposalItem.tsx","pages/gov/components/DataList.tsx","pages/gov/GovernanceParams.tsx","pages/gov/ProposalsByStatus.tsx","pages/gov/Proposals.tsx","pages/gov/Governance.tsx","pages/contract/ContractActions.tsx","pages/contract/ContractQuery.tsx","pages/contract/ContractItemActions.tsx","pages/contract/ContractDetails.tsx","pages/contract/ContractItem.tsx","pages/contract/Contract.tsx","pages/stake/useAddressParams.ts","pages/gov/components/Tilde.svg","pages/stake/ValidatorCompact.tsx","pages/stake/components/ValidatorNumbers.tsx","pages/stake/ValidatorSummary.tsx","pages/stake/ValidatorCommission.tsx","pages/stake/ValidatorVotes.tsx","pages/stake/ValidatorAddresses.tsx","pages/stake/ValidatorActions.tsx","pages/stake/ValidatorDetails.tsx","pages/gov/ProposalActions.tsx","pages/gov/ProposalDescription.tsx","pages/gov/ProposalSummary.tsx","txs/swap/classic/useSwapUtils.ts","pages/gov/components/Orb.tsx","pages/gov/ProposalDeposits.tsx","pages/gov/ProposalDepositors.tsx","pages/gov/ProposalVotesByValidator.tsx","pages/gov/ProposalParams.tsx","pages/gov/useProposalId.ts","pages/gov/ProposalDetails.tsx","data/settings/AddressBook.ts","txs/AddressBook/AddAddressBookItem.tsx","txs/AddressBook/CustomItem.tsx","txs/AddressBook/AddressBookList.tsx","txs/send/SendForm.tsx","txs/send/SendTx.tsx","txs/wasm/TransferCW721Form.tsx","txs/wasm/TransferCW721Tx.tsx","txs/swap/classic/SwapContext.tsx","txs/swap/classic/SingleSwapContext.tsx","txs/swap/classic/components/AssetFormItem.tsx","txs/swap/classic/components/SelectToken.tsx","txs/swap/classic/components/SlippageControl.tsx","data/queries/market.ts","txs/swap/classic/components/Price.tsx","txs/swap/classic/components/ExpectedPrice.tsx","txs/swap/classic/SwapForm.tsx","txs/swap/tfm/TFMPoweredBy.tsx","txs/swap/terra2/SwapContext2.tsx","txs/swap/terra2/SingleSwapContext2.tsx","txs/swap/terra2/useSwapUtils2.ts","txs/swap/terra2/components/AssetFormItem.tsx","txs/swap/terra2/components/SelectToken.tsx","txs/swap/terra2/components/SlippageControl.tsx","txs/gov/SubmitProposalForm.tsx","txs/swap/terra2/components/Price.tsx","txs/swap/terra2/components/ExpectedPrice.tsx","txs/swap/terra2/SwapForm2.tsx","txs/swap/SwapTx.tsx","txs/swap/classic/MultipleSwapContext.tsx","txs/swap/classic/SwapMultipleForm.tsx","txs/swap/classic/SwapMultipleTx.tsx","txs/stake/StakeTx.tsx","txs/stake/WithdrawRewardsForm.tsx","txs/stake/WithdrawRewardsTx.tsx","txs/stake/WithdrawCommissionForm.tsx","txs/stake/WithdrawCommissionTx.tsx","txs/earn/AnchorEarnForm.tsx","txs/gov/SubmitProposalTx.tsx","txs/gov/DepositForm.tsx","txs/gov/DepositTx.tsx","txs/gov/VoteForm.tsx","txs/gov/VoteTx.tsx","txs/wasm/StoreCodeForm.tsx","txs/wasm/StoreCodeTx.tsx","txs/IBCHelperContext.tsx","txs/wasm/InstantiateContractForm.tsx","txs/wasm/InstantiateContractTx.tsx","txs/wasm/ExecuteContractForm.tsx","txs/wasm/ExecuteContractTx.tsx","txs/wasm/MigrateContractForm.tsx","txs/wasm/MigrateContractTx.tsx","txs/wasm/UpdateAdminContractForm.tsx","txs/wasm/UpdateAdminContractTx.tsx","styles/images/AnchorEarn/AnchorEarnLogo.svg","data/external/anchor.ts","auth/modules/manage/ExportWalletForm.tsx","styles/images/AnchorEarn/AnchorEarnLogo.tsx","app/containers/AnchorEarnPromote.tsx","txs/earn/AnchorEarnTx.tsx","pages/multisig/utils/useDefaultValues.ts","pages/multisig/SignMultisigTxPage.tsx","auth/scripts/validate.ts","auth/modules/create/CreateMultisigWalletForm.tsx","auth/modules/manage/ConfirmModal.tsx","pages/multisig/PostMultisigTxPage.tsx","data/queries/auth.ts","auth/modules/select/UnlockForm.tsx","auth/modules/select/UnlockPage.tsx","auth/ledger/AccessWithLedgerForm.tsx","auth/ledger/AccessWithLedgerPage.tsx","auth/modules/create/CreateWalletForm.tsx","auth/modules/create/CreatedWallet.tsx","auth/modules/create/CreateWalletWizard.tsx","auth/modules/create/Quiz.tsx","auth/modules/create/NewWalletForm.tsx","auth/modules/create/NewWalletPage.tsx","auth/modules/create/SelectAddress.tsx","auth/modules/create/RecoverWalletForm.tsx","auth/modules/create/RecoverWalletPage.tsx","auth/modules/create/ImportWalletPage.tsx","auth/modules/create/NewMultisigWalletForm.tsx","auth/modules/create/NewMultisigWalletPage.tsx","auth/components/AuthList.tsx","auth/modules/manage/ConnectedWallet.tsx","auth/modules/manage/ManageWallets.tsx","auth/modules/manage/GoBack.tsx","app/sections/LatestTx/LatestTx.tsx","auth/modules/manage/ExportWalletPage.tsx","auth/modules/manage/ChangePasswordForm.tsx","auth/modules/manage/ChangePasswordPage.tsx","auth/modules/manage/DeleteWalletForm.tsx","auth/modules/manage/DeleteWalletPage.tsx","auth/modules/Auth.tsx","auth/networks/ManageNetworksForm.tsx","auth/networks/ManageNetworksPage.tsx","auth/networks/AddNetworkForm.tsx","auth/networks/AddNetworkPage.tsx","pages/Settings.tsx","pages/labs/Pairs.tsx","pages/labs/Labs.tsx","txs/stake/DonateAllVestingTokensForm.tsx","txs/stake/DonateAllVestingTokensTx.tsx","app/routes.tsx","app/sections/Nav/Nav.tsx","app/sections/LastHeight/LastHeight.tsx","data/Terra/TerraObserver.ts","app/sections/Links/Links.tsx","app/sections/Aside/Aside.tsx","app/sections/NetworkName/NetworkName.tsx","app/components/HeaderIconButton.tsx","app/sections/Refresh.tsx","app/sections/NetworkSetting.tsx","app/sections/LanguageSetting.tsx","app/sections/Preferences.tsx","app/sections/SelectTheme/SelectTheme.tsx","app/sections/ValidatorButton.tsx","app/sections/DevTools.tsx","app/InitBankBalance.tsx","app/App.tsx","index.tsx","components/token/TokenCard.module.scss","utils/env.ts","components/form/Form.module.scss","components/layout/Layout.module.scss","components/feedback/Modal.module.scss","components/form/Input.module.scss","pages/nft/NFTAssetItem.module.scss","txs/swap/classic/components/SelectToken.module.scss","txs/swap/terra2/components/SelectToken.module.scss","components/token/Read.tsx","components/token/TokenIcon.tsx","components/token/Token.tsx","components/token/TokenCard.tsx","auth/scripts/env.ts","data/settings/CustomNetworks.ts","utils/style.ts","data/external/tns.ts","styles/themes/Light/preview.svg","styles/themes/Light/Broadcasting.png","styles/themes/Dark/Broadcasting.png","styles/themes/Blossom/Broadcasting.png","styles/themes/Moon/Broadcasting.png","styles/themes/Whale/Broadcasting.png","styles/themes/Madness/Broadcasting.png","styles/themes/Light/favicon.svg","styles/themes/Dark/favicon.svg","styles/themes/Blossom/favicon.svg","styles/themes/Moon/favicon.svg","styles/themes/Whale/favicon.svg","styles/themes/Madness/favicon.svg","styles/themes/Dark/preview.svg","styles/themes/Blossom/preview.svg","styles/themes/Moon/preview.svg","styles/themes/Whale/preview.svg","styles/themes/Madness/preview.svg","styles/themes/themes.tsx","components/general/Internal.module.scss","styles/variable.ts","pages/gov/ProposalVotes.module.scss","pages/stake/ValidatorCompact.module.scss","pages/gov/ProposalVotesByValidator.module.scss","txs/swap/classic/components/AssetFormItem.module.scss","txs/swap/terra2/components/AssetFormItem.module.scss","txs/stake/WithdrawRewardsForm.module.scss","app/sections/Nav/Nav.module.scss","utils/shuffle.ts","auth/components/AuthButton.tsx","components/layout/Card.module.scss","components/layout/Page.module.scss","components/layout/Tabs.module.scss","components/layout/PaginationButtons.module.scss","components/layout/Table.module.scss","pages/gov/ProposalDeposits.module.scss","txs/swap/classic/components/SlippageControl.module.scss","txs/swap/terra2/components/SlippageControl.module.scss","app/sections/LastHeight/LastHeight.module.scss","styles/images/icons/DropUp.svg","components/layout/Container.tsx","components/layout/Layout.tsx","components/layout/Grid.tsx","components/layout/Card.tsx","components/layout/Page.tsx","components/layout/ExtraActions.tsx","components/layout/Tabs.tsx","styles/images/icons/DropDown.svg","components/layout/Table.tsx","styles/images/community/Medium.svg","styles/images/community/Discord.svg","styles/images/community/Telegram.svg","styles/images/community/Twitter.svg","styles/images/community/Github.svg","components/layout/Contacts.tsx","components/layout/Flex.tsx","utils/hooks/useInterval.ts","auth/components/MultisigBadge.tsx","auth/hooks/usePreconfigured.ts","auth/modules/select/SelectPreconfigured.tsx","auth/modules/select/SwitchWallet.tsx","components/display/List.module.scss","components/form/Checkbox.module.scss","components/form/Toggle.module.scss","components/token/Read.module.scss","components/token/Token.module.scss","pages/gov/components/VoteProgress.module.scss","app/sections/SelectTheme/SelectTheme.module.scss","auth/scripts/encrypt.ts","auth/scripts/decrypt.ts","components/general/Copy.module.scss","pages/dashboard/Dashboard.module.scss","pages/multisig/utils/placeholder.ts","utils/coin.ts","components/layout/Grid.module.scss","components/layout/Flex.module.scss","components/form/FormHelp.module.scss","components/form/Select.module.scss","components/form/Radio.module.scss","app/components/PopoverNone.module.scss","app/ElectronVersion.module.scss","pages/wallet/Asset.module.scss","app/containers/DelegationsPromote.module.scss","pages/wallet/Rewards.module.scss","pages/nft/NFTAssetGroup.module.scss","pages/gov/ProposalHeader.module.scss","pages/stake/components/ValidatorNumbers.module.scss","pages/gov/components/Orb.module.scss","app/sections/Links/Links.module.scss","utils/num.ts","components/display/Details.tsx","components/display/Dl.tsx","components/display/List.tsx","components/display/Tag.tsx","utils/date.ts","components/display/Tooltip.tsx","components/display/ToNow.tsx","data/queries/lcdClient.ts","auth/hooks/useAddress.ts","auth/hooks/useNetwork.ts","auth/scripts/network.ts","data/queries/bank.ts","data/queries/staking.ts","utils/hooks/useTimeout.ts","components/layout/PaginationButtons.tsx","app/components/PopoverNone.tsx","auth/components/QRCode.tsx","txs/wasm/TaxParams.tsx","pages/multisig/ReadTx.tsx","app/sections/Connected/WalletQR.tsx","app/sections/Connected/Connected.tsx","app/sections/ConnectWallet.tsx","components/feedback/State.module.scss","components/general/Pre.module.scss","components/layout/Contacts.module.scss","components/form/TextArea.module.scss","auth/modules/select/SwitchWallet.module.scss","txs/Tx.module.scss","pages/charts/components/ChartTooltip.module.scss","pages/charts/components/ChartContainer.module.scss","pages/charts/components/ButtonGroup.module.scss","pages/custom/TokenItem.module.scss","pages/nft/NFTPlaceholder.module.scss","pages/stake/Validators.module.scss","pages/gov/components/DataList.module.scss","pages/gov/ProposalsByStatus.module.scss","pages/stake/ValidatorActions.module.scss","txs/AddressBook/CustomItem.module.scss","txs/gov/VoteForm.module.scss","app/containers/AnchorEarnPromote.module.scss","auth/modules/create/Quiz.module.scss","auth/components/AuthList.module.scss","config/constants.ts","pages/multisig/utils/useToPostMultisigTx.ts","txs/Tx.tsx","components/general/Button.module.scss","components/layout/ExtraActions.module.scss","components/display/Tag.module.scss","utils/localStorage.ts","components/form/RadioButton.module.scss","components/form/Upload.module.scss","components/form/RadioGroup.module.scss","components/token/TokenIcon.module.scss","auth/components/AuthButton.module.scss","app/sections/Connected/Connected.module.scss","pages/dashboard/components/DashboardContent.module.scss","pages/dashboard/Charts.module.scss","pages/custom/TokenList.module.scss","pages/history/HistoryMessage.module.scss","pages/history/HistoryItemLcd/HistoryItem.module.scss","pages/stake/components/StakedCard.module.scss","pages/contract/ContractDetails.module.scss","pages/contract/ContractItem.module.scss","txs/swap/tfm/TFMPoweredBy.module.scss","txs/swap/classic/SwapMultipleForm.module.scss","auth/modules/create/SelectAddress.module.scss","app/components/HeaderIconButton.module.scss","txs/utils.ts","data/Terra/TerraAssets.ts","components/form/Form.tsx","components/form/FormHelp.tsx","components/form/Input.tsx","components/form/TextArea.tsx","components/form/Select.tsx","components/form/Radio.tsx","components/form/RadioButton.tsx","components/form/Checkbox.tsx","components/form/Toggle.tsx","components/form/Upload.tsx","components/form/Paste.tsx","components/form/RadioGroup.tsx","components/form/Submit.tsx","data/token.tsx","data/queries/ibc.ts","txs/validate.ts","data/Terra/TerraFCD.ts","txs/TxContext.tsx","data/settings/Currency.ts","auth/scripts/keystore.ts","data/query.ts","auth/hooks/useAvailable.tsx","components/layout/Container.module.scss","components/feedback/Fetching.module.scss","components/general/FinderLink.module.scss","components/display/Details.module.scss","components/display/Dl.module.scss","auth/modules/Splash.module.scss","app/components/Overlay.module.scss","app/containers/Online.module.scss","app/NetworkError.module.scss","utils/createContext.ts","pages/dashboard/components/DashboardTag.module.scss","pages/charts/components/Range.module.scss","pages/wallet/Coins.module.scss","data/settings/CustomTokens.ts","pages/wallet/Vesting.module.scss","pages/nft/NFTAssets.module.scss","pages/nft/NFTMarketplace.module.scss","pages/history/HistoryItemApi/HistoryItem.module.scss","pages/stake/components/ProfileIcon.module.scss","pages/gov/ProposalItem.module.scss","pages/stake/ValidatorAddresses.module.scss","txs/swap/classic/SwapForm.module.scss","txs/swap/terra2/SwapForm.module.scss","pages/multisig/SignMultisigTxForm.tsx","pages/multisig/PostMultisigTxForm.tsx","auth/modules/create/ImportWalletForm.tsx","auth/modules/manage/GoBack.module.scss","app/sections/Aside/Aside.module.scss","app/sections/NetworkName/NetworkName.module.scss"],"names":["walletState","atom","key","default","getWallet","useAuth","isClassic","useIsClassic","lcd","useLCDClient","available","useAvailable","useRecoilState","wallet","setWallet","wallets","getStoredWallets","connect","useCallback","name","storedWallet","getStoredWallet","address","lock","Error","is","multisig","storeWallet","connectPreconfigured","connectLedger","index","bluetooth","ledger","connectedWallet","useMemo","local","getConnectedWallet","disconnect","clearWallet","undefined","lockWallet","getKey","password","getDecryptedKey","getLedgerKey","BluetoothTransport","create","LEDGER_TRANSPORT_TIMEOUT","transport","LedgerKey","chainID","useChainID","txOptions","tx","createSignature","auth","accountInfo","doc","SignDoc","config","getAccountNumber","getSequenceNumber","auth_info","body","createSignatureAmino","pk","PasswordError","RawKey","Buffer","from","sign","accountNumberAndSequence","accountNumber","account_number","sequence","signMode","SignatureV2","SignMode","SIGN_MODE_LEGACY_AMINO_JSON","unsignedTx","options","signTx","preconfigured","MnemonicKey","mnemonic","createAndSignTx","post","signedTx","broadcastSync","result","isTxError","raw_log","encodeEncryptedWallet","data","encrypted_key","encrypt","encode","JSON","stringify","validatePassword","testPassword","error","signBytes","bytes","ecdsaSign","signature","recid","toString","public_key","publicKey","toAmino","value","useContractInfo","useQuery","queryKey","wasm","contractInfo","RefetchOptions","INFINITY","enabled","AccAddress","validate","useInitMsg","d","init_msg","useGetContractQuery","contract","query","contractQuery","queryFn","useTokenInfoCW20","token","getQuery","token_info","useTokenInfoCW721","token_id","nft_info","token_uri","uri","getIpfsGateway","axios","get","extension","useGetTokenBalanceQuery","useAddress","balance","DEFAULT","retry","useTokenBalance","useTokenBalances","tokens","useQueries","map","useCW721Tokens","owner","src","startsWith","replace","toBase64","object","parseJSON","parse","validateMsg","msg","parsed","isLocal","isMultisig","isPreconfigured","single","useTaxRate","disabled","treasury","taxRate","useGetQueryTaxCap","denom","taxCap","isNativeToken","amount","String","isDenom","useTaxCap","getQueryTaxCap","useTaxCaps","denoms","isDenomLuna","isDenomTerra","getShouldTax","cx","classNames","bind","styles","Button","forwardRef","ref","children","props","icon","loading","size","color","outline","block","attrs","className","getClassName","type","button","Copy","t","useTranslation","useState","copied","setCopied","useTimeout","onCopy","fontSize","ExternalLink","href","validateLink","target","rel","onClick","e","stopPropagation","ExternalIconLink","item","url","URL","includes","protocol","FinderLink","short","rest","validator","networkName","useNetworkName","path","link","FINDER","join","truncate","InternalButton","render","InternalLink","chevron","style","LinkButton","Pre","height","title","copy","text","gap","header","pre","ValidatorLink","internal","validators","useValidators","moniker","getFindMoniker","to","createContext","useNetworks","NetworksProvider","InitNetworks","networks","setNetworks","list","useCustomNetworks","useEffect","fetchChains","baseURL","ASSETS","chains","localterra","preconfigure","fromPairs","getErrorMessage","isAxiosError","response","message","StakeAction","StakeForm","tab","destination","balances","delegations","bankBalance","useBankBalance","findMoniker","delegationsOptions","filter","validator_address","REDELEGATE","defaultSource","findDelegation","find","initialGasDenom","getInitialGasDenom","form","useForm","mode","defaultValues","source","register","trigger","watch","setValue","handleSubmit","errors","formState","input","toAmount","createTx","coin","Coin","msgs","MsgBeginRedelegate","DELEGATE","MsgDelegate","UNBOND","MsgUndelegate","getAmount","estimationTxValues","toInput","onChangeMax","onSuccess","label","queryKeys","staking","unbondings","distribution","rewards","max","fee","submit","onSubmit","fn","required","extra","valueAsNumber","onFocus","reset","inputMode","placeholder","getPlaceholder","autoFocus","module","exports","State","component","content","Empty","Wrong","Forbidden","initialState","ErrorBoundary","state","this","fallback","getIsForbidden","Component","status","WithFetching","isFetching","showFetching","setShowFetching","progress","LinearProgress","sx","position","Fetching","wrong","LoadingCircular","CircularProgress","ReactModal","setAppElement","Modal","footer","closeIcon","onRequestClose","confirm","maxHeight","modal","overlayClassName","overlay","close","main","getMaxHeightStyle","useModal","ModalProvider","ModalButton","pathname","useLocation","renderButton","modalKey","isModalOpen","setIsModalOpen","isOpen","latestTxState","txhash","isBroadcastingState","useTxInfo","setIsBroadcasting","useSetRecoilState","queryClient","useQueryClient","txInfo","retryDelay","onSettled","forEach","invalidateQueries","History","bank","flatten","obj","initial","Object","entries","reduce","prev","next","assign","Languages","cs","translation","de","en","es","fr","it","pl","pt","ru","zh","i18n","use","LanguageDetector","initReactI18next","init","resources","debug","_path","ScrollToTop","window","scrollTo","themeNameState","getLocalSetting","SettingKey","Theme","useFindTheme","themes","theme","DefaultTheme","useTheme","useRecoilValue","useThemeAnimation","animation","useThemeState","prevName","setThemeName","prevTheme","findTheme","useValidateTheme","set","nextTheme","document","classList","remove","add","setFavicon","favicon","setLocalSetting","useDelegations","always","staked","calcDelegationsTotal","BigNumber","gte","unlock","validateTheme","getElementById","Splash","sandbox","screen","alt","width","Overlay","Online","useOnlineStatus","navigator","onLine","onlineStatus","setOnlineStatus","goOnline","goOffline","addEventListener","removeEventListener","NetworkError","useNetworkState","network","setNetwork","isLocalTerra","location","reload","WithNodeInfo","useNetwork","tendermint","nodeInfo","useNodeInfo","isLoading","isError","InitWallet","useOnNetworkChange","useWallet","WalletStatus","INITIALIZING","client","isPreconfiguredWallet","isWallet","shouldDisconnect","QueryClient","InitTheme","setTheme","valid","electron","sendSync","require","ipcRenderer","getElectron","DOWNLOAD","links","ElectronVersion","version","semver","lt","grid","card","bordered","download","_excluded","_extends","i","arguments","length","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgWallet","_ref","svgRef","titleId","xmlns","viewBox","id","_path2","_path3","ForwardRef","SvgNft","SvgHistory","SvgSwap","SvgStake","SvgGovernance","SvgContract","Aggregate","AggregateStakingReturn","AggregateWallets","useActiveDenoms","oracle","activeDenoms","sortDenoms","useExchangeRates","exchangeRates","useOracleParams","params","parameters","useMemoizedPrices","currency","prices","uluna","base","toPrice","sortCoins","acc","price","Number","useMemoizedCalcValue","useCurrency","memoizedPrices","ChartInterval","useTerraAPIURL","mainnet","terraAPIURL","useIsTerraAPIAvailable","useTerraAPI","shouldFallback","TerraAPI","useTerraValidators","useTerraValidator","getCalcVotingPowerRate","TerraValidators","totalVotePower","sum","voting_power","toNumber","totalTokens","operator_address","ChartTooltip","payload","active","formatDate","date","toLocaleDateString","y","tooltip","CHART_HEIGHT","Chart","formatY","filled","ticks","tickFormat","formatTooltipDate","padding","COLORS","STROKE","variable","MUTED","BORDER","renderChart","bar","BarChart","Bar","dataKey","fill","animationDuration","area","AreaChart","Area","stroke","strokeWidth","fillOpacity","ResponsiveContainer","XAxis","minTickGap","tick","tickFormatter","format","tickMargin","tickSize","YAxis","axisLine","orientation","Tooltip","cursor","CartesianGrid","vertical","LOADING","margin","ChartContainer","range","total","unit","formatValue","slice","convert","datetime","Date","v","ButtonGroup","_circle","selected","onChange","group","isSelected","LunaPriceChart","chartInterval","setChartInterval","interval","useLunaPriceChart","auto","values","formatNumber","comma","integer","toLocaleString","DashboardContent","LunaPrice","open","TaxRate","fixed","SelectDenom","isDenomTerraNative","valueConfig","prefix","Issuance","useSupply","calcValue","sort","a","b","useRewards","Coins","useCommunityPool","communityPool","getConnectedMoniker","validatorAddress","ValAddress","fromAccAddress","description","calcRewardsValues","calc","coins","has","byValidator","CommunityPool","DashboardTag","tag","StakingRatio","useStakingPool","stakingPool","stakingPoolState","supply","supplyState","combineState","bonded","bonded_tokens","issuance","ratio","readAmount","Filter","Range","includeLastDay","setSelected","TxVolume","setDenom","PERIODIC","setType","useTxVolume","sliced","h","head","l","last","CUMULATIVE","minus","small","readDenom","capitalize","StakingReturn","ANNUALIZED","useStakingReturn","DAILY","readPercent","TaxRewards","useTaxRewards","priceState","Wallets","TOTAL","walletsType","setWalletsType","useWallets","dataState","sumActiveWallets","sumActiveWalletsState","isCumulative","NEW","ACTIVE","Charts","charts","trisect","Dashboard","minimumValueState","MinimumValue","useMinimumValue","minimumValue","setMinimumValue","queryTFMTokens","is_token_liquid","SvgBinance","cy","r","SvgKuCoin","SvgHuobi","exchanges","getKadoLink","queryString","qs","apiKey","onPayCurrency","onPayAmount","onRevCurrency","onToAddress","product","offPayCurrency","offRevCurrency","skipNulls","Kado","AssetActions","symbol","isWalletEmpty","useIsWalletEmpty","getIsSwappableToken","useGetIsSwappableToken","buyList","useBuyList","groups","pairs","useCW20Pairs","TFMTokens","uniq","assets","contract_addr","Asset","hideActions","asset","details","SelectMinimumValue","useTerraNativeLength","useCoins","all","filtered","select","readNativeDenom","calcValueByUST","nativeTokenValues","$","sortByDenom","IBCAsset","CW20Asset","useOpzAssetsByNetwork","callback","TerraAssets","useOpzIBCWhitelist","useOpzCW20Whitelist","sortWhitelistCW20","shuffleByProtocol","sorted","toPairs","decimals","array","shuffledPair","shuffle","groupBy","mergeAll","WithSearchInput","setInput","TokenItem","added","onAdd","onRemove","isNil","TokenList","VestingAccountTypes","getIsAdded","results","renderTokenItem","empty","tokenItem","whitelist","keyword","ibc","useCustomTokensIBC","cw20","useCustomTokensCW20","cw20s","ibcs","opzibc","opzcw20","cw20arr","opzcw20arr","cw20arr_","some","obj_","ibcarr","opzibcarr","ibcarr_","merged","listedItem","tokenInfo","responseItem","base_denom","toLowerCase","word","manage","ManageCustomTokens","useIBCWhitelist","ibcWhitelistState","useCW20Whitelist","cw20WhitelistState","AddTokens","Tokens","res","tokenObj","getLunaAmount","getVested","schedule","cur","toNow","plus","start","end","getTime","current","now","div","times","getCurrentAmount","parseVestingSchedule","Continuous","base_vesting_account","start_time","original_vesting","end_time","isFuture","isPast","vested","Delayed","vesting_periods","queryAccounts","account","useAccount","isVestingAccount","VestingScheduleTable","columns","_","__","hidden","Boolean","dataIndex","align","dataSource","Vesting","DelegationsPromote","horizontal","Rewards","rewardsState","delegationsState","useUnbondings","unbondingsState","rewardsValues","delegationTotal","unbondingsTotal","calcUnbondingsTotal","number","SvgTerraLine","LinkEcosystem","flex","arr","ManageCustomMoneies","AddMoneies","Moneies","Wallet","useCustomTokensCW721","initMsg","ManageCustomTokensCW721","useCW721Whitelist","NFTPlaceholderItem","zIndex","setError","image","onError","List","setStart","useInterval","n","NFTPlaceholder","byProtocol","NFTDetails","NFTAssetItem","compact","SIZE","large","search","NFTAssetGroup","marketplace","renderExtra","mainClassName","bg","NFTAssets","NFTMarketplace","useCW721Marketplace","NFT","useTerraLCDURL","terraLCDURL","useIsTerraLCDAvailable","ValidatorAddress","TerraAddress","contracts","useCW20Contracts","connectedAddress","toArray","toData","TxMessage","sentence","endsWith","validateTokens","split","every","HistoryMessage","success","msgType","canonicalMsg","sentenceCase","HistoryItemApi","timestamp","collapsed","memo","HistoryListApi","fetchAccountHistory","pageParam","offset","useInfiniteQuery","getNextPageParam","fetchNextPage","hasNextPage","isFetchingNextPage","pages","getPages","HistoryItem","HistoryItemLcd","messages","code","ruleset","createActionRuleSet","logMatcher","createLogMatcherForActions","matchedMsg","getTxCanonicalMsgs","matchedLog","transformed","flat","getCanonicalMsgs","HistoryListLcd","tx_responses","availableApi","availableLcd","HistoryList","StakedCard","Delegations","validatorsState","sorter","Unbondings","flattenUnbondings","placement","RewardsTooltip","exchangeRatesState","Staked","SvgTerra","_path4","_path5","_path6","ProfileIcon","Uptime","ValidatorStatus","bondStatusFromJSON","BondStatus","BOND_STATUS_BONDED","ValidatorJailed","Validators","undelegations","undelegationsState","TerraValidatorsState","activeValidators","calcRate","getIsUnbonded","indexOfTerraValidator","findIndex","TerraValidator","rank","voting_power_rate","byRank","setByRank","count","getIsBonded","renderCount","sub","checked","onSort","initialSorterKey","jailed","rowKey","defaultSortOrder","localeCompare","contact","delegated","undelegated","picture","email","muted","commission","commission_rates","rate","time_weighted_uptime","rewards_30d","BOND_STATUS_UNBONDED","Stake","useDepositParams","gov","depositParams","depositParameters","useTallyParams","tallyParams","tallyParameters","useGetProposalStatusItem","Proposal","Status","PROPOSAL_STATUS_VOTING_PERIOD","PROPOSAL_STATUS_DEPOSIT_PERIOD","PROPOSAL_STATUS_PASSED","PROPOSAL_STATUS_REJECTED","PROPOSAL_STATUS_FAILED","PROPOSAL_STATUS_UNSPECIFIED","UNRECOGNIZED","useProposalStatusItem","getProposalStatusItem","useProposal","proposal","useDeposits","deposits","useGetVoteOptionItem","param","Vote","Option","VOTE_OPTION_YES","VOTE_OPTION_NO","VOTE_OPTION_NO_WITH_VETO","VOTE_OPTION_ABSTAIN","VOTE_OPTION_UNSPECIFIED","getItem","Flag","left","flag","line","VoteProgress","percent","track","ProposalVotes","getVoteOptionItem","proposalState","tally","useTally","tallyState","tallyParamsState","pool","poolState","tallies","calcTallies","isPassing","voting_end_time","flagLabel","quorum","threshold","voted","span","option","byVoted","x","byStaked","yes","abstain","no","no_with_veto","determinantThreshold","o","thresholdX","isBelowQuorum","gt","yesRatio","noRatio","lte","ProposalHeader","submit_time","useParseProposalType","meta","ProposalItem","showVotes","DataList","GovernanceParams","votingParams","votingParameters","useVotingParams","minDeposit","min_deposit","contents","daysFromNanoseconds","max_deposit_period","voting_period","second","intervalToDuration","days","DefaultGovernancePaginationState","stack","governancePaginationState","ProposalsByStatus","useTerraAssets","whitelistData","whitelistState","showAll","setShowAll","paginationState","setPaginationState","pageStack","page","paginationOptions","proposals","proposal_status","Pagination","keepPreviousData","useProposals","proposalData","paginationData","renderPagination","recordTotal","Math","ceil","prevPage","reverse","nextPage","next_key","handleNext","pagination","PaginationButtons","onPrev","onNext","Proposals","getTranslation","tabs","Governance","ContractActions","ContractQuery","useContract","invalid","getContractQuery","setQuery","isEmpty","normal","submitting","ContractItemActions","admin","ContractDetails","code_id","creator","wrapper","ContractItem","ContractProvider","Contract","setAddress","useAddressParams","useParams","SvgTerraValidatorProfiles","xmlSpace","ValidatorCompact","useValidator","website","wrap","TERRA_VALIDATORS","contacts","parseContacts","toLink","slug","telegram","twitter","ValidatorNumber","ValidatorNumbers","numbers","ValidatorSummary","selfDelegation","self","calcSelfDelegation","ValidatorCommission","update_time","max_change_rate","max_rate","commissions","ValidatorVotes","votes","useVotingPowerRate","votingPowerRate","votingPowerRateState","proposal_id","ValidatorAddresses","addresses","fromValAddress","ValidatorActions","useDelegation","delegation","delegationState","isSuccess","renderDelegationsValue","availableActions","getAvailableStakeActions","action","renderDelegationsActions","renderRewardsValue","renderRewardsActions","ValidatorDetails","useGoBackOnError","ProposalActions","ProposalDescription","showOriginal","setShowOriginal","urlRegex","parts","showCheckbox","part","match","isWhitelisted","renderPart","xss","hostname","ProposalSummary","contentData","s","charAt","toUpperCase","SvgTilde","SwapMode","Orb","min","orb","tilde","ProposalDeposits","depositsState","depositParamsState","deposited","minimum","getProposalDeposited","deposit_end_time","ProposalDepositors","ProposalVotesByValidator","tooltipContents","setTab","delegatedOnly","setDelegatedOnly","useTerraProposal","TerraProposal","TerraProposalState","getList","getHasVoted","voter","getCount","inner","ProposalParams","veto_threshold","useProposalId","ProposalDetails","addressBookListState","AddressBook","useAddressBook","setList","validateName","updateList","newItem","trim","AddAddressBookItem","recipient","useTnsAddress","resolvedAddress","tnsState","exists","bracket","CustomItem","onDelete","desc","delete","AddressBookList","renderModalButton","SendForm","onClickAddressBookItem","setFocus","execute_msg","transfer","MsgSend","MsgExecuteContract","taxRequired","bridge","Tx","SAMPLE_ADDRESS","readOnly","brackets","SendTx","useSearchParams","cw20Balance","useTokenItem","TxContext","TransferCW721Form","transfer_nft","TransferCW721Tx","searchParams","useSwap","SwapProvider","SwapContext","activeDenomsState","cw20PairsState","useTerraContracts","contractsState","useSwapUtils","context","findPair","dex","offerAsset","askAsset","pair","getIsOnchainAvailable","getIsTerraswapAvailable","getIsAstroportAvailable","getIsRouteswapAvaialble","r0","r1","getAvailableSwapModes","validateAssets","functions","ONCHAIN","TERRASWAP","ASTROPORT","ROUTESWAP","getSwapMode","getOnchainParams","minimum_receive","assert","getAssertRequired","assertLimitOrder","assert_limit_order","offer_coin","ask_denom","getAssertMessage","offerCoin","swap","MsgSwap","simulateOnchain","getRate","market","swapRate","offerRate","askRate","spread","getTerraswapParams","belief_price","max_spread","fromNative","offer_asset","toAsset","simulation","executeMsg","send","simulateTerraswap","terraswap","astroport","return_amount","commission_amount","parsePool","calcXyk","getAstroportParams","simulateAstroport","getRouteswapParams","createSwap","offer_asset_info","toAssetInfo","ask_asset_info","terra_swap","native_swap","offer_denom","routeswap","route","operations","swapOperations","offer_amount","simulate_swap_operations","execute","execute_swap_operations","simulateRouteswap","getSimulateFunction","getMsgsFunction","getIsSwapAvailable","getSimulateQuery","validateParams","modes","queries","Promise","allSettled","responses","reason","zipObj","profitable","findProfitable","pairPool","toTokenItem","offerPool","askPool","returnAmount","integerValue","ROUND_FLOOR","spreadAmount","commissionAmount","TERRASWAP_COMMISSION_RATE","spread_amount","useSingleSwap","SingleSwapProvider","SingleSwapContext","customTokens","ibcWhitelist","cw20Whitelist","terraswapAvailableList","isDenomIBC","cw20TokensBalanceRequired","cw20TokensBalancesState","cw20TokensBalances","readIBCDenom","findTokenItem","findDecimals","calcExpected","slippageInput","offerDecimals","askDecimals","dp","ROUND_DOWN","calcMinimumReceive","pow","simulatedValue","minRatio","AssetFormItem","border","AssetInput","autoComplete","AssetReadOnly","SelectTokenGroup","showName","singleColumn","SelectTokenItem","useSelectToken","hideBalance","selectToken","SelectTokenProvider","SelectToken","addonAfter","checkbox","setIsOpen","toggle","setKeyword","items","byKeyword","k","SlippageControl","warning","warn","useMarketParams","Price","ExpectedPrice","minSpread","useSwapSpread","tobinTax","useTobinTax","renderPrice","renderExpectedPrice","renderOnchain","renderTerraswap","renderRouteswap","isFinite","renderByMode","marketParams","min_stability_spread","oracleParams","tobin_tax","SwapForm","utils","initialOfferAsset","getOptions","getOptionList","slippageParams","offerTokenItem","askTokenItem","swapAssets","availableSwapModes","isSwapAvailable","simulateQuery","simulationResults","simulatedRatio","onSelectAsset","availableSwapMode","resetField","getMsgs","expected","simulate","onPost","renderExpected","validateSlippageParams","slippageDisabled","approx","TFMPoweredBy","useSwap2","SwapContext2","console","log","useSingleSwap2","SingleSwapContext2","_list","mergedSet","Set","arrays","element","Array","mergeArrays","ProposalType","useSwapUtils2","SwapForm2","SwapTx","useMultipleSwap","MultipleSwapProvider","MultipleSwapContext","taxRateState","taxCapsState","taxCaps","SwapMultipleForm","simulatable","tax","cap","calcMax","gasAmount","simulated","isSimulating","selectable","setState","offers","parseFloat","excludeGasDenom","renderTable","expectedValue","expectedTotal","SwapMultipleTx","StakeTx","initialTab","useBalances","balancesState","getDisabled","renderTab","defaultActiveKey","WithdrawRewardsForm","IBCWhitelist","selectedTotal","selectedValidatorsText","operatorAddress","MsgWithdrawDelegatorReward","querykeys","actions","isListedIBC","WithdrawRewardsTx","IBCWhitelistState","hasRewards","hasDelegations","WithdrawCommissionForm","MsgWithdrawValidatorCommission","validatorCommission","useValidatorCommission","withdrawAddress","useWithdrawAddress","renderCommission","defaultValue","WithdrawCommissionTx","AnchorEarnAction","DEFAULT_PAREMETER_CHANGE","subspace","SubmitProposalForm","defaultCoinItem","control","useFieldArray","fields","append","coinsFieldArray","shouldAppendChange","PARAMS","changes","deposit","MsgSubmitProposal","SPEND","spend","CommunityPoolSpendProposal","ParameterChangeProposal","EXECUTE","runAs","contractAddress","getCoins","ExecuteContractProposal","TextProposal","getContent","TEXT","ESTIMATE","TITLE","DESCRIPTION","selectBefore","before","agoraURL","SubmitProposalTx","communityPoolState","DepositForm","MsgDeposit","DepositTx","Options","VoteForm","MsgVote","VoteTx","StoreCodeForm","file","setFile","store","readFile","MsgStoreCode","onUpload","resolve","reject","reader","FileReader","readAsDataURL","onload","encoded","repeat","onerror","StoreCodeTx","useIBCHelper","IBCHelperProvider","IBCHelperContext","InstantiateContractForm","defaultItem","MsgInstantiateContract","isInteger","InstantiateContractTx","ExecuteContractForm","ExecuteContractTx","MigrateContractForm","migrate_msg","MsgMigrateContract","MigrateContractTx","UpdateAdminContractForm","new_admin","MsgUpdateContractAdmin","AnchorEarnForm","DEPOSIT","useAnchorGetMsgs","WITHDRAW","Anchor","TotalDeposit","AddressProviderFromJson","anchor","columbus5","Earn","fabricateMarketDepositStableCoin","fabricateMarketRedeemStable","MARKET_DENOMS","queryMarketEpochState","bombay12","UUSD","useAddresses","classic","testnet","useAddressProvider","useAnchorEarn","addressProvider","SvgAnchorEarnLogo","opacity","Mode","AnchorEarnLogo","AnchorEarnPromote","earn","APY","getAPY","useAnchorAPY","apy","AnchorEarnTx","getTotalDeposit","useAnchorTotalDeposit","totalDepositState","MarketEpochState","exchange_rate","useAnchorExchangeRate","exchangeRateState","getAvailableAnchorEarnActions","useDefaultValues","decodeURIComponent","SignMultisigTxPage","SignMultisigTxForm","alphanumeric","test","seed","wordlist","CreateMultisigWalletForm","onCreated","isValid","fieldArray","paste","lines","getPublicKey","getPublicKeys","setSubmitting","publicKeys","LegacyAminoMultisigPublicKey","ConfirmModal","PostMultisigTxPage","useAccountInfo","publicKeyFromNetwork","setPublicKeyFromNetwork","errorMessage","setErrorMessage","signatures","pubkeys","pubKey","PostMultisigTxForm","UnlockForm","navigate","useNavigate","unlockWallet","UnlockPage","AccessWithLedgerForm","setIsLoading","accAddress","AccessWithLedgerPage","CreateWalletForm","useCreateWallet","setStep","generated","setValues","CreatedWallet","CreateWalletProvider","DefaultValues","CreateWalletWizard","defaultMnemonic","beforeCreate","step","hash","createdWallet","setCreatedWallet","createWallet","coinType","mk","addWallet","privateKey","Quiz","createQuiz","quiz","hint","win","answers","setAnswers","incorrect","setIncorrect","numeral","AuthButton","update","$set","answer","deck","draw","NewWalletForm","NewWalletPage","SelectAddress","bip","unbondingDelegations","account118","renderDetails","RecoverWalletForm","RecoverWalletPage","ImportWalletPage","ImportWalletForm","NewMultisigWalletForm","setPublicKey","NewMultisigWalletPage","AuthList","ConnectedWallet","SwitchWallet","ManageWallets","toExport","toPassword","toDelete","toSignMultisig","toPostMultisig","disconnectWallet","useManageWallet","GoBack","ExportWalletForm","QR","setEncoded","QRCode","KEY","break","ExportWalletPage","ChangePasswordForm","done","setDone","changePassword","oldPassword","newPassword","ChangePasswordPage","DeleteWalletForm","deleteWallet","DeleteWalletPage","Auth","ManageNetworksForm","ManageNetworksPage","AddNetwork","AddNetworkPage","AddNetworkForm","Settings","GasAdjustment","Pairs","Labs","DonateAllVestingTokensForm","MsgDonateAllVestingTokens","DonateAllVestingTokensTx","accountState","ICON_SIZE","useNav","menu","routes","UpdateAdminContractTx","useRoutes","Nav","useCloseMenuOnNavigate","mobileIsMenuOpenState","logo","isActive","LastHeight","ws","useRef","setBlock","connected","setConnected","WebSocket","OBSERVER","onopen","subscribe","chain_id","onclose","onmessage","event","useTerraObserver","indicator","Links","community","discord","medium","github","tutorial","TUTORIAL","Aside","aside","NetworkName","HeaderIconButton","Prefreneces","NetworkSetting","networkOptions","useNetworkOptions","LanguageSetting","language","changeLanguage","Preferences","condition","PopoverNone","Selector","preview","unlocked","locked","SelectTheme","info","TxIndicator","latestTx","setLatestTx","minimized","setMinimized","initLatestTx","redirectAfterTx","time","useTimeText","FAILURE","SUCCESS","thickness","danger","txLink","hashDetails","queued","LatestTx","run","setNow","minutes","seconds","str","padStart","ValidatorButton","DevTools","resetQueries","InitBankBalance","useInitialBankBalance","App","ConnectWallet","connectorOpts","BRIDGE","getChainOptions","then","chainOptions","process","Read","decimal","renderSymbol","ReadPercent","formatPercent","ReadMultiple","TokenIcon","setIsError","defaultIcon","getIcon","sizes","Token","TokenCard","valueCurrency","detail","TokenCardGrid","REACT_APP_SANDBOX","userAgent","customNetworksState","CustomNetworks","customNetworks","setCustomNetworks","newNetwork","overflowY","TNS","registry","tnsRegistry","get_record","resolver","get_terra_address","node","useTnsName","reverseRecord","tnsReverseRecord","get_name","namehash","remainder","keccak256","concat","Uint8Array","SvgPreview","AnimationLight","FaviconLight","AnimationDark","FaviconDark","AnimationBlossom","FaviconBlossom","AnimationMoon","FaviconMoon","AnimationWhale","FaviconWhale","AnimationMadness","FaviconMadness","getComputedStyle","getPropertyValue","temporaryValue","randomIndex","currentIndex","floor","random","Container","container","Sidebar","sidebar","Header","Actions","Content","Layout","isMenuOpen","layout","Row","row","Col","col","Grid","rows","gridTemplateColumns","gridTemplateRows","Auto","component0","component1","Card","cardClassName","Flex","Page","ExtraActions","Tabs","reversed","activeKey","setActiveKey","SvgDropUp","SvgDropDown","Table","setPage","initIndex","sorterIndex","setSorterIndex","sortOrder","setSortOrder","table","column","getCaretAttrs","caret","asc","columnIndex","p","SvgMedium","SvgDiscord","SvgTelegram","SvgTwitter","SvgGithub","icons","Contacts","InlineFlex","inline","FlexColumn","delay","savedCallback","setInterval","clearInterval","MultisigBadge","usePreconfigured","SelectPreconfigured","localWallets","pass","salt","CryptoJS","lib","WordArray","PBKDF2","keySize","iterations","iv","encrypted","AES","pad","Pkcs7","CBC","decrypt","transitmessage","enc","Hex","substr","substring","Utf8","SAMPLE_ENCODED_TX","SAMPLE_SIGNATURE","compareIs","compareIsDenomIBC","native_token","toToken","Details","Dl","dl","ListGroup","Tag","formatDistanceToNowStrict","addSuffix","Popover","arrow","maxWidth","interactive","TooltipIcon","ToNow","setKey","LCDClient","useConnectedWallet","terraAddress","networkState","localStorage","getStoredNetwork","setItem","storeNetwork","BankBalanceProvider","spendableBalances","v1","BOND_STATUS_UNBONDING","v2","v3","uniqBy","getFindValidator","sumEntries","entry","completion_time","initial_balance","setTimeout","clearTimeout","renderFooter","bgColor","fgColor","renderAs","useTaxParams","TaxParamsProvider","TaxParamsContext","ReadTx","decode","decodeTx","WalletQR","Connected","popover","CopyStyles","showAddressAndPubKey","availableConnections","availableInstallations","identifier","STATION","LAZY_LIMIT","terraFCDURL","DEFAULT_GAS_ADJUSTMENT","CLASSIC_DEFAULT_GAS_ADJUSTMENT","useToPostMultisigTx","encodedTx","isMax","setIsMax","gasDenom","setGasDenom","isBroadcasting","gasPrices","useTx","taxParams","taxes","calcTaxes","shouldTax","taxCapState","taxState","simulationTx","gasAdjustmentSetting","ClassicGasAdjustment","gasAdjustment","availablePost","feeDenoms","gas_limit","refetchOnWindowFocus","estimatedGas","estimatedGasState","getGasAmount","gasPrice","ROUND_CEIL","gasFee","getNativeMax","taxAmount","calcMinimumTaxAmount","failed","passwordRequired","setPassword","toPostMultisigTx","gasCoins","fromData","taxCoin","taxCoins","sanitizeTaxes","feeCoins","Fee","submittingLabel","balanceAfterTx","insufficient","availableGasDenoms","walletError","connectType","ConnectType","READONLY","submitButton","UserDenied","CreateTxFailed","TxFailed","descriptions","renderTaxes","gas","uusd","useTxKey","isSystemDarkMode","matchMedia","matches","DefaultCustomTokensItem","cw721","DefaultCustomTokens","DefaultSettings","Currency","CustomTokens","WithdrawAs","localItem","padEnd","useTerraAssetsByNetwork","Form","FormArrow","FormGroup","FormItem","FormHelp","FormWarning","FormError","Input","after","SearchInput","TextArea","textarea","EditorInput","editor","Value","Select","Radio","RadioButton","radio","Checkbox","Toggle","Upload","files","htmlFor","Paste","handleClick","clipboard","readText","RadioGroup","Submit","matchToken","customTokenItem","cw20WhitelistResult","listedCW20TokenItem","shouldQueryCW20","tokenInfoItem","listedIBCTokenItem","shouldQueryIBC","denomTrace","ibcTransfer","useIBCBaseDenom","WithTokenItem","symbolClassic","lessThan","optional","validateRecipient","Blob","char","useTerraFCDURL","TxProvider","txKey","useGasPrices","TaxParams","user","removeItem","storeWallets","staleTime","Infinity","isIdle","mirror","parentKey","ctx","React","c","useContext","Provider","customTokensState","useCustomTokens","setCustomTokens","oldItem","setSignature","decoded","toBytes","string","getSignature","MultiSignature","appendSignatureV2s","descriptor","toSignatureDescriptor","appendSignatures","isEncodedJSON"],"mappings":"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","file":"static/js/main.0d22a6bf.chunk.js","sourcesContent":["export { default as useAuth } from \"./hooks/useAuth\"\nexport { default as isWallet } from \"./scripts/is\"\n","import { useCallback, useMemo } from \"react\"\nimport { atom, useRecoilState } from \"recoil\"\nimport { encode } from \"js-base64\"\nimport { CreateTxOptions, Tx, isTxError } from \"@terra-money/terra.js\"\nimport { AccAddress, SignDoc } from \"@terra-money/terra.js\"\nimport { MnemonicKey, RawKey, SignatureV2 } from \"@terra-money/terra.js\"\nimport { LedgerKey } from \"@terra-money/ledger-terra-js\"\nimport BluetoothTransport from \"@ledgerhq/hw-transport-web-ble\"\nimport { LEDGER_TRANSPORT_TIMEOUT } from \"config/constants\"\nimport { useChainID } from \"data/wallet\"\nimport { useIsClassic } from \"data/query\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\nimport is from \"../scripts/is\"\nimport { PasswordError } from \"../scripts/keystore\"\nimport { getDecryptedKey, testPassword } from \"../scripts/keystore\"\nimport { getWallet, storeWallet } from \"../scripts/keystore\"\nimport { clearWallet, lockWallet } from \"../scripts/keystore\"\nimport { getStoredWallet, getStoredWallets } from \"../scripts/keystore\"\nimport encrypt from \"../scripts/encrypt\"\nimport useAvailable from \"./useAvailable\"\n\nconst walletState = atom({\n  key: \"wallet\",\n  default: getWallet(),\n})\n\nconst useAuth = () => {\n  const isClassic = useIsClassic()\n  const lcd = useLCDClient()\n  const available = useAvailable()\n\n  const [wallet, setWallet] = useRecoilState(walletState)\n  const wallets = getStoredWallets()\n\n  /* connect */\n  const connect = useCallback(\n    (name: string) => {\n      const storedWallet = getStoredWallet(name)\n      const { address, lock } = storedWallet\n\n      if (lock) throw new Error(\"Wallet is locked\")\n\n      const wallet = is.multisig(storedWallet)\n        ? { name, address, multisig: true }\n        : { name, address }\n\n      storeWallet(wallet)\n      setWallet(wallet)\n    },\n    [setWallet]\n  )\n\n  const connectPreconfigured = useCallback(\n    (wallet: PreconfiguredWallet) => {\n      storeWallet(wallet)\n      setWallet(wallet)\n    },\n    [setWallet]\n  )\n\n  const connectLedger = useCallback(\n    (address: AccAddress, index = 0, bluetooth = false) => {\n      const wallet = { address, ledger: true as const, index, bluetooth }\n      storeWallet(wallet)\n      setWallet(wallet)\n    },\n    [setWallet]\n  )\n\n  /* connected */\n  const connectedWallet = useMemo(() => {\n    if (!is.local(wallet)) return\n    return wallet\n  }, [wallet])\n\n  const getConnectedWallet = useCallback(() => {\n    if (!connectedWallet) throw new Error(\"Wallet is not defined\")\n    return connectedWallet\n  }, [connectedWallet])\n\n  /* disconnected */\n  const disconnect = useCallback(() => {\n    clearWallet()\n    setWallet(undefined)\n  }, [setWallet])\n\n  const lock = useCallback(() => {\n    const { name } = getConnectedWallet()\n    lockWallet(name)\n    disconnect()\n  }, [disconnect, getConnectedWallet])\n\n  /* helpers */\n  const getKey = (password: string) => {\n    const { name } = getConnectedWallet()\n    return getDecryptedKey({ name, password })\n  }\n\n  const getLedgerKey = async () => {\n    if (!is.ledger(wallet)) throw new Error(\"Ledger device is not connected\")\n    const { index, bluetooth } = wallet\n    const transport = bluetooth\n      ? await BluetoothTransport.create(LEDGER_TRANSPORT_TIMEOUT)\n      : undefined\n\n    return LedgerKey.create(transport, index)\n  }\n\n  /* manage: export */\n  const encodeEncryptedWallet = (password: string) => {\n    const { name, address } = getConnectedWallet()\n    const key = getKey(password)\n    const data = { name, address, encrypted_key: encrypt(key, password) }\n    return encode(JSON.stringify(data))\n  }\n\n  /* form */\n  const validatePassword = (password: string) => {\n    try {\n      const { name } = getConnectedWallet()\n      return testPassword({ name, password })\n    } catch (error) {\n      return \"Incorrect password\"\n    }\n  }\n\n  /* tx */\n  const chainID = useChainID()\n\n  const create = async (txOptions: CreateTxOptions) => {\n    if (!wallet) throw new Error(\"Wallet is not defined\")\n    const { address } = wallet\n    return await lcd.tx.create([{ address }], txOptions)\n  }\n\n  const createSignature = async (\n    tx: Tx,\n    address: AccAddress,\n    password = \"\"\n  ) => {\n    if (!wallet) throw new Error(\"Wallet is not defined\")\n\n    const accountInfo = await lcd.auth.accountInfo(address)\n\n    const doc = new SignDoc(\n      lcd.config.chainID,\n      accountInfo.getAccountNumber(),\n      accountInfo.getSequenceNumber(),\n      tx.auth_info,\n      tx.body\n    )\n\n    if (is.ledger(wallet)) {\n      const key = await getLedgerKey()\n      return await key.createSignatureAmino(doc, isClassic)\n    } else {\n      const pk = getKey(password)\n      if (!pk) throw new PasswordError(\"Incorrect password\")\n      const key = new RawKey(Buffer.from(pk, \"hex\"))\n      return await key.createSignatureAmino(doc, isClassic)\n    }\n  }\n\n  const sign = async (txOptions: CreateTxOptions, password = \"\") => {\n    if (!wallet) throw new Error(\"Wallet is not defined\")\n\n    if (is.ledger(wallet)) {\n      const key = await getLedgerKey()\n      const wallet = lcd.wallet(key)\n      const { account_number: accountNumber, sequence } =\n        await wallet.accountNumberAndSequence()\n      const signMode = SignatureV2.SignMode.SIGN_MODE_LEGACY_AMINO_JSON\n      const unsignedTx = await create(txOptions)\n      const options = { chainID, accountNumber, sequence, signMode }\n      return await key.signTx(unsignedTx, options, isClassic)\n    } else if (is.preconfigured(wallet)) {\n      const key = new MnemonicKey({ mnemonic: wallet.mnemonic })\n      return await lcd.wallet(key).createAndSignTx(txOptions)\n    } else {\n      const pk = getKey(password)\n      if (!pk) throw new PasswordError(\"Incorrect password\")\n      const key = new RawKey(Buffer.from(pk, \"hex\"))\n      const wallet = lcd.wallet(key)\n      return await wallet.createAndSignTx(txOptions)\n    }\n  }\n\n  const signBytes = (bytes: Buffer, password = \"\") => {\n    if (!wallet) throw new Error(\"Wallet is not defined\")\n\n    if (is.ledger(wallet)) {\n      throw new Error(\"Ledger can not sign arbitrary data\")\n    } else {\n      const pk = getKey(password)\n      if (!pk) throw new PasswordError(\"Incorrect password\")\n      const key = new RawKey(Buffer.from(pk, \"hex\"))\n      const { signature, recid } = key.ecdsaSign(bytes)\n      if (!signature) throw new Error(\"Signature is undefined\")\n      return {\n        recid,\n        signature: Buffer.from(signature).toString(\"base64\"),\n        public_key: key.publicKey?.toAmino().value as string,\n      }\n    }\n  }\n\n  const post = async (txOptions: CreateTxOptions, password = \"\") => {\n    if (!wallet) throw new Error(\"Wallet is not defined\")\n    const signedTx = await sign(txOptions, password)\n    const result = await lcd.tx.broadcastSync(signedTx)\n    if (isTxError(result)) throw new Error(result.raw_log)\n    return result\n  }\n\n  return {\n    wallet,\n    wallets,\n    getConnectedWallet,\n    getLedgerKey,\n    connectedWallet,\n    connect,\n    connectPreconfigured,\n    connectLedger,\n    disconnect,\n    lock,\n    available,\n    encodeEncryptedWallet,\n    validatePassword,\n    createSignature,\n    create,\n    signBytes,\n    sign,\n    post,\n  }\n}\n\nexport default useAuth\n","import { useQueries, useQuery } from \"react-query\"\nimport axios from \"axios\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useAddress } from \"../wallet\"\nimport { useLCDClient } from \"./lcdClient\"\n\n/* contract info */\nexport const useContractInfo = (address: TerraAddress) => {\n  const lcd = useLCDClient()\n  return useQuery(\n    [queryKey.wasm.contractInfo, address],\n    () => lcd.wasm.contractInfo(address),\n    { ...RefetchOptions.INFINITY, enabled: AccAddress.validate(address) }\n  )\n}\n\nexport const useInitMsg = <T>(address: TerraAddress) => {\n  const lcd = useLCDClient()\n  return useQuery<T>(\n    [queryKey.wasm.contractInfo, \"initMsg\", address],\n    async () => {\n      const d = await lcd.wasm.contractInfo(address)\n      return d.init_msg\n    },\n    { ...RefetchOptions.INFINITY, enabled: AccAddress.validate(address) }\n  )\n}\n\n/* contract query */\nexport const useGetContractQuery = () => {\n  const lcd = useLCDClient()\n\n  return <T>(contract?: AccAddress, query?: object) => ({\n    queryKey: [queryKey.wasm.contractQuery, contract, query],\n    queryFn: async () => {\n      if (!(contract && query)) return\n      return await lcd.wasm.contractQuery<T>(contract, query)\n    },\n    enabled: !!contract && AccAddress.validate(contract),\n  })\n}\n\nexport const useContractQuery = <T>(contract?: AccAddress, query?: object) => {\n  const getQuery = useGetContractQuery()\n  return useQuery(getQuery<T>(contract, query))\n}\n\n/* token info */\nexport const useTokenInfoCW20 = (token: TerraAddress, enabled = true) => {\n  const getQuery = useGetContractQuery()\n  return useQuery({\n    ...getQuery<CW20TokenInfoResponse>(token, { token_info: {} }),\n    ...RefetchOptions.INFINITY,\n    enabled: AccAddress.validate(token) && enabled,\n  })\n}\n\nexport const useTokenInfoCW721 = (contract: AccAddress, token_id: string) => {\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.wasm.contractQuery, contract, token_id],\n    async () => {\n      const data = await lcd.wasm.contractQuery<NFTTokenItem>(contract, {\n        nft_info: { token_id },\n      })\n\n      const { token_uri } = data\n      const uri = getIpfsGateway(token_uri)\n      if (!token_uri || !uri) return data\n\n      try {\n        const { data: extension } = await axios.get(uri)\n        return { ...data, extension: { ...data.extension, ...extension } }\n      } catch {\n        return data\n      }\n    },\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\n/* token balance */\nconst useGetTokenBalanceQuery = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return (token: AccAddress) => ({\n    queryKey: [queryKey.wasm.contractQuery, token, { balance: address }],\n    queryFn: async () => {\n      if (!address) return \"0\"\n      const { balance } = await lcd.wasm.contractQuery<{ balance: Amount }>(\n        token,\n        { balance: { address } }\n      )\n\n      return balance\n    },\n    ...RefetchOptions.DEFAULT,\n    retry: false, // Tokens that are not implemented fail to get the balance.\n    enabled: AccAddress.validate(token),\n  })\n}\n\nexport const useTokenBalance = (token: AccAddress) => {\n  const getQuery = useGetTokenBalanceQuery()\n  return useQuery(getQuery(token))\n}\n\nexport const useTokenBalances = (tokens: AccAddress[]) => {\n  const getQuery = useGetTokenBalanceQuery()\n  return useQueries(tokens.map(getQuery))\n}\n\nexport const useCW721Tokens = (contract: AccAddress) => {\n  const address = useAddress()\n  const getQuery = useGetContractQuery()\n\n  return useQuery(\n    getQuery<{ tokens: string[] }>(contract, { tokens: { owner: address } })\n  )\n}\n\n/* helpers */\nexport const getIpfsGateway = (src: any = \"\") => {\n  if (typeof src === \"string\") {\n    return src.startsWith(\"ipfs://\")\n      ? src.replace(\"ipfs://\", \"https://cloudflare-ipfs.com/ipfs/\")\n      : src.startsWith(\"https://\") || src.startsWith(\"data:\")\n      ? src\n      : undefined\n  } else {\n    return\n  }\n}\n","export const toBase64 = (object: object) => {\n  try {\n    return Buffer.from(JSON.stringify(object)).toString(\"base64\")\n  } catch (error) {\n    return \"\"\n  }\n}\n\nexport const parseJSON = (query: string) => {\n  try {\n    return JSON.parse(query)\n  } catch {\n    return\n  }\n}\n\nexport const validateMsg = (msg: string): object | undefined => {\n  const parsed = parseJSON(msg)\n  if (!parsed) return\n  return parsed\n}\n","const isLocal = (wallet?: Wallet): wallet is LocalWallet => {\n  if (!wallet) return false\n  return \"name\" in wallet\n}\n\nconst isMultisig = (wallet?: Wallet): wallet is MultisigWallet => {\n  if (!isLocal(wallet)) return false\n  return \"multisig\" in wallet\n}\n\nconst isPreconfigured = (wallet?: Wallet): wallet is PreconfiguredWallet => {\n  if (!isLocal(wallet)) return false\n  return \"mnemonic\" in wallet\n}\n\nconst isSingle = (wallet?: Wallet): wallet is SingleWallet => {\n  if (!isLocal(wallet)) return false\n  return !isPreconfigured(wallet) && !isMultisig(wallet)\n}\n\nconst isLedger = (wallet?: Wallet): wallet is LedgerWallet => {\n  if (!wallet) return false\n  return \"ledger\" in wallet\n}\n\nconst is = {\n  local: isLocal,\n  preconfigured: isPreconfigured,\n  multisig: isMultisig,\n  single: isSingle,\n  ledger: isLedger,\n}\n\nexport default is\n","export * from \"auth/hooks/useNetwork\"\nexport { default as useAddress } from \"auth/hooks/useAddress\"\n","import { useQueries, useQuery } from \"react-query\"\nimport { isDenom, isDenomLuna, isDenomTerra } from \"@terra.kitchen/utils\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useLCDClient } from \"./lcdClient\"\n\nexport const useTaxRate = (disabled = false) => {\n  const lcd = useLCDClient()\n  return useQuery(\n    [queryKey.treasury.taxRate],\n    async () => {\n      const taxRate = await lcd.treasury.taxRate()\n      return taxRate.toString() || \"0\"\n    },\n    { ...RefetchOptions.INFINITY, enabled: !disabled }\n  )\n}\n\nconst useGetQueryTaxCap = (disabled = false) => {\n  const lcd = useLCDClient(),\n    { config: { isClassic } } = useLCDClient()\n  return (denom?: Denom) => ({\n    queryKey: [queryKey.treasury.taxCap, denom],\n    queryFn: async () => {\n      if (!denom || !isClassic || !isNativeToken(denom)) return \"0\"\n\n      try {\n        const taxCap = await lcd.treasury.taxCap(denom)\n        return taxCap.amount.toString()\n      } catch {\n        return String(1e6)\n      }\n    },\n    ...RefetchOptions.INFINITY,\n    enabled: isDenom(denom) && !disabled,\n  })\n}\n\nexport const useTaxCap = (denom?: Denom) => {\n  const getQueryTaxCap = useGetQueryTaxCap()\n  return useQuery(getQueryTaxCap(denom))\n}\n\nexport const useTaxCaps = (denoms: Denom[], disabled = false) => {\n  const getQueryTaxCap = useGetQueryTaxCap(disabled)\n  return useQueries(denoms.map(getQueryTaxCap))\n}\n\nexport const isNativeToken = (token?: Token) =>\n  isDenomLuna(token) || isDenomTerra(token)\n\n/* utils */\nexport const getShouldTax = (token?: Token, isClassic?: boolean) =>\n  isClassic && isNativeToken(token)\n","import { ButtonHTMLAttributes, ForwardedRef, ReactNode } from \"react\"\nimport { forwardRef } from \"react\"\nimport classNames from \"classnames/bind\"\nimport { LoadingCircular } from \"../feedback\"\nimport styles from \"./Button.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nexport interface ButtonConfig {\n  icon?: ReactNode\n  size?: \"small\"\n  color?: \"default\" | \"primary\" | \"danger\"\n  outline?: boolean\n  block?: boolean\n  loading?: boolean\n  disabled?: boolean\n}\n\ntype Props = ButtonConfig & ButtonHTMLAttributes<HTMLButtonElement>\n\nconst Button = forwardRef(\n  ({ children, ...props }: Props, ref?: ForwardedRef<HTMLButtonElement>) => {\n    const { icon, size, color, outline, block, loading, ...attrs } = props\n    const className = classNames(getClassName(props), props.className)\n\n    return (\n      <button type=\"button\" {...attrs} className={className} ref={ref}>\n        {loading ? <LoadingCircular size={16} /> : icon}\n        {children}\n      </button>\n    )\n  }\n)\n\nexport default Button\n\n/* helpers */\nexport const getClassName = (props: ButtonConfig) => {\n  const { size, outline, block, disabled, loading } = props\n  const color = props.color ?? (!outline && \"default\")\n  return cx(styles.button, size, color, { outline, block, disabled, loading })\n}\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { CopyToClipboard } from \"react-copy-to-clipboard\"\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\"\nimport useTimeout from \"utils/hooks/useTimeout\"\nimport styles from \"./Copy.module.scss\"\n\nconst Copy = (props: CopyToClipboard.Props) => {\n  const { t } = useTranslation()\n  const [copied, setCopied] = useState(false)\n\n  useTimeout(() => setCopied(false), copied ? 1000 : 0)\n\n  return (\n    <CopyToClipboard {...props} onCopy={() => setCopied(true)}>\n      <button type=\"button\" className={styles.button}>\n        <ContentCopyIcon fontSize=\"inherit\" />\n        {copied ? t(\"Copied\") : t(\"Copy\")}\n      </button>\n    </CopyToClipboard>\n  )\n}\n\nexport default Copy\n","import { ForwardedRef, forwardRef, HTMLProps, ReactNode } from \"react\"\nimport CallMadeIcon from \"@mui/icons-material/CallMade\"\nimport styles from \"./Internal.module.scss\"\n\ninterface ExternalLinkProps extends HTMLProps<HTMLAnchorElement> {\n  icon?: boolean\n}\n\nexport const ExternalLink = forwardRef(\n  ({ icon, children, href, ...attrs }: ExternalLinkProps, ref: ForwardedRef<HTMLAnchorElement>) => {\n    if (!validateLink(href)) return null\n\n    return (\n      <a\n        {...attrs}\n        href={href}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        onClick={(e) => e.stopPropagation()}\n        ref={ref}\n      >\n        {children}\n        {icon && <CallMadeIcon fontSize=\"inherit\" />}\n      </a>\n    )\n  },\n)\n\ninterface ExternalIconLinkProps extends HTMLProps<HTMLAnchorElement> {\n  icon?: ReactNode\n}\n\nexport const ExternalIconLink = forwardRef(\n  (\n    { icon, children, href, ...attrs }: ExternalIconLinkProps,\n    ref: ForwardedRef<HTMLAnchorElement>,\n  ) => {\n    if (!validateLink(href)) return null\n\n    return (\n      <a\n        {...attrs}\n        className={styles.item}\n        href={href}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        onClick={(e) => e.stopPropagation()}\n        ref={ref}\n      >\n        <span className={styles.icon}>{icon}</span>\n        {children}\n      </a>\n    )\n  },\n)\n\nexport const validateLink = (href?: string) => {\n  if (!href) return false\n\n  try {\n    const url = new URL(href)\n    return [\"https:\", \"mailto:\"].includes(url.protocol)\n  } catch {\n    return false\n  }\n}\n","import { ForwardedRef, HTMLAttributes, PropsWithChildren } from \"react\"\nimport { forwardRef } from \"react\"\nimport classNames from \"classnames\"\nimport { truncate } from \"@terra.kitchen/utils\"\nimport { FINDER } from \"config/constants\"\nimport { useNetworkName } from \"data/wallet\"\nimport { ExternalLink } from \"./External\"\nimport styles from \"./FinderLink.module.scss\"\n\ninterface Props extends HTMLAttributes<HTMLAnchorElement> {\n  value?: string\n\n  /* path (default: address) */\n  block?: boolean\n  tx?: boolean\n  validator?: boolean\n\n  /* customize */\n  short?: boolean\n}\n\nconst FinderLink = forwardRef(\n  (\n    { children, short, ...rest }: PropsWithChildren<Props>,\n    ref: ForwardedRef<HTMLAnchorElement>,\n  ) => {\n    const { block, tx, validator, ...attrs } = rest\n    const networkName = useNetworkName()\n    const path = tx\n      ? \"tx\"\n      : block\n      ? \"block\"\n      : validator\n      ? \"validator\"\n      : \"address\"\n\n    const value = rest.value ?? children\n    const link = [FINDER, networkName, path, value].join(\"/\")\n    const className = classNames(attrs.className, styles.link)\n\n    return (\n      <ExternalLink {...attrs} href={link} className={className} ref={ref} icon>\n        {short && typeof children === \"string\" ? truncate(children) : children}\n      </ExternalLink>\n    )\n  },\n)\n\nexport default FinderLink\n","import { HTMLAttributes, ReactNode } from \"react\"\nimport { Link, LinkProps } from \"react-router-dom\"\nimport classNames from \"classnames/bind\"\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\"\nimport styles from \"./Internal.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  icon?: ReactNode\n  chevron?: boolean\n  disabled?: boolean\n}\n\ninterface InternalButtonProps\n  extends Props,\n    HTMLAttributes<HTMLButtonElement> {}\n\nexport const InternalButton = (props: InternalButtonProps) => {\n  return <button {...render(props)} type=\"button\" />\n}\n\ninterface InternalLinkProps extends Props, LinkProps {}\n\nexport const InternalLink = (props: InternalLinkProps) => {\n  return props.disabled ? (\n    <span {...render(props)} />\n  ) : (\n    <Link {...render(props)} />\n  )\n}\n\n/* helpers */\nfunction render<T extends InternalLinkProps | InternalButtonProps>(props: T) {\n  const { icon, chevron, className, children, disabled, ...attrs } = props\n\n  return {\n    ...attrs,\n    className: cx(styles.item, { disabled }, className),\n    children: (\n      <>\n        <span className={styles.icon}>{icon}</span>\n        {children}\n        {chevron && (\n          <span className={styles.chevron}>\n            <ChevronRightIcon style={{ fontSize: 16 }} />\n          </span>\n        )}\n      </>\n    ),\n  }\n}\n","import { Link, LinkProps } from \"react-router-dom\"\nimport classNames from \"classnames\"\nimport { ButtonConfig, getClassName } from \"./Button\"\n\ntype Props = ButtonConfig & LinkProps\n\nconst LinkButton = (props: Props) => {\n  const { icon, size, color, outline, block, children, ...attrs } = props\n  const className = classNames(getClassName(props), props.className)\n\n  return attrs.disabled ? (\n    <span {...attrs} className={className}>\n      {icon}\n      {children}\n    </span>\n  ) : (\n    <Link {...attrs} className={className}>\n      {icon}\n      {children}\n    </Link>\n  )\n}\n\nexport default LinkButton\n","import classNames from \"classnames/bind\"\nimport { Grid } from \"../layout\"\nimport Copy from \"./Copy\"\nimport styles from \"./Pre.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  title?: string\n  children: any\n  copy?: boolean\n\n  /* style */\n  height?: number\n\n  /* white-space */\n  normal?: boolean\n  break?: boolean\n}\n\nconst Pre = ({ height, title, children, copy, ...props }: Props) => {\n  const text =\n    typeof children === \"object\" ? JSON.stringify(children, null, 2) : children\n\n  return (\n    <Grid gap={4}>\n      {(title || copy) && (\n        <header className={styles.header}>\n          <h1>{title}</h1>\n          {copy && <Copy text={text} />}\n        </header>\n      )}\n\n      <pre style={{ height }} className={cx(styles.pre, props)}>\n        {text}\n      </pre>\n    </Grid>\n  )\n}\n\nexport default Pre\n","import { ValAddress } from \"@terra-money/terra.js\"\nimport { getFindMoniker, useValidators } from \"data/queries/staking\"\nimport { FinderLink } from \"../general\"\nimport { InternalLink } from \"./Internal\"\n\ninterface Props {\n  address: ValAddress\n  internal?: boolean\n}\n\nconst ValidatorLink = ({ address, internal }: Props) => {\n  const { data: validators } = useValidators()\n\n  const render = () => {\n    if (!validators) return null\n    const moniker = getFindMoniker(validators)(address)\n    return internal ? (\n      <InternalLink to={`/validator/${address}`}>{moniker}</InternalLink>\n    ) : (\n      <FinderLink value={address} validator>\n        {moniker}\n      </FinderLink>\n    )\n  }\n\n  return render()\n}\n\nexport default ValidatorLink\n","import { PropsWithChildren, useEffect, useState } from \"react\"\nimport { fromPairs } from \"ramda\"\nimport axios from \"axios\"\nimport { ASSETS } from \"config/constants\"\nimport createContext from \"utils/createContext\"\nimport { useCustomNetworks } from \"data/settings/CustomNetworks\"\n\nexport const [useNetworks, NetworksProvider] =\n  createContext<CustomNetworks>(\"useNetworks\")\n\nconst InitNetworks = ({ children }: PropsWithChildren<{}>) => {\n  const [networks, setNetworks] = useState<CustomNetworks>()\n  const { list } = useCustomNetworks()\n\n  useEffect(() => {\n    const fetchChains = async () => {\n      const { data: chains } = await axios.get<TerraNetworks>(\"/chains.json\", {\n        baseURL: ASSETS,\n      })\n\n      const networks = {\n        ...chains,\n        localterra: { ...chains.localterra, preconfigure: true },\n      }\n\n      setNetworks({\n        ...networks,\n        ...fromPairs(list.map((item) => [item.name, item])),\n      })\n    }\n\n    fetchChains()\n  }, [list])\n\n  if (!networks) return null\n  return <NetworksProvider value={networks}>{children}</NetworksProvider>\n}\n\nexport default InitNetworks\n","import axios, { AxiosError } from \"axios\"\n\nexport const getErrorMessage = (\n  error?: Error | AxiosError | unknown\n): string | undefined => {\n  if (!error) return\n\n  if (axios.isAxiosError(error))\n    return (error as AxiosError<any>).response?.data.message ?? error.message\n\n  if (error instanceof Error) return error.message\n}\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { AccAddress, Coin, Coins, ValAddress } from \"@terra-money/terra.js\"\nimport { Delegation, Validator } from \"@terra-money/terra.js\"\nimport { MsgDelegate, MsgUndelegate } from \"@terra-money/terra.js\"\nimport { MsgBeginRedelegate } from \"@terra-money/terra.js\"\nimport { toAmount } from \"@terra.kitchen/utils\"\nimport { getAmount } from \"utils/coin\"\nimport { queryKey } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { getFindMoniker } from \"data/queries/staking\"\nimport { Grid } from \"components/layout\"\nimport { Form, FormItem, FormWarning, Input, Select } from \"components/form\"\nimport { getPlaceholder, toInput } from \"../utils\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\ninterface TxValues {\n  source?: ValAddress\n  input?: number\n}\n\nexport enum StakeAction {\n  DELEGATE = \"delegate\",\n  REDELEGATE = \"redelegate\",\n  UNBOND = \"undelegate\",\n}\n\ninterface Props {\n  tab: StakeAction\n  destination: ValAddress\n  balances: Coins\n  validators: Validator[]\n  delegations: Delegation[]\n}\n\nconst StakeForm = (props: Props) => {\n  const { tab, destination, balances, validators, delegations } = props\n\n  const { t } = useTranslation()\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n  const findMoniker = getFindMoniker(validators)\n\n  const delegationsOptions = delegations.filter(\n    ({ validator_address }) =>\n      tab !== StakeAction.REDELEGATE || validator_address !== destination\n  )\n\n  const defaultSource = delegationsOptions[0]?.validator_address\n  const findDelegation = (address: AccAddress) =>\n    delegationsOptions.find(\n      ({ validator_address }) => validator_address === address\n    )\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const form = useForm<TxValues>({\n    mode: \"onChange\",\n    defaultValues: { source: defaultSource },\n  })\n\n  const { register, trigger, watch, setValue, handleSubmit, formState } = form\n  const { errors } = formState\n  const { source, input } = watch()\n  const amount = toAmount(input)\n\n  /* tx */\n  const createTx = useCallback(\n    ({ input, source }: TxValues) => {\n      if (!address) return\n\n      const amount = toAmount(input)\n      const coin = new Coin(\"uluna\", amount)\n\n      if (tab === StakeAction.REDELEGATE) {\n        if (!source) return\n        const msg = new MsgBeginRedelegate(address, source, destination, coin)\n        return { msgs: [msg] }\n      }\n\n      const msgs = {\n        [StakeAction.DELEGATE]: [new MsgDelegate(address, destination, coin)],\n        [StakeAction.UNBOND]: [new MsgUndelegate(address, destination, coin)],\n      }[tab]\n\n      return { msgs }\n    },\n    [address, destination, tab]\n  )\n\n  /* fee */\n  const balance = {\n    [StakeAction.DELEGATE]: getAmount(balances, \"uluna\"),\n    [StakeAction.REDELEGATE]:\n      (source && findDelegation(source)?.balance.amount.toString()) ?? \"0\",\n    [StakeAction.UNBOND]:\n      findDelegation(destination)?.balance.amount.toString() ?? \"0\",\n  }[tab]\n\n  const estimationTxValues = useMemo(() => {\n    return {\n      input: toInput(2),\n      // to check redelegation stacks\n      source: tab === StakeAction.REDELEGATE ? source : undefined,\n    }\n  }, [source, tab])\n\n  const onChangeMax = useCallback(\n    async (input: number) => {\n      setValue(\"input\", input)\n      await trigger(\"input\")\n    },\n    [setValue, trigger]\n  )\n\n  const token = tab === StakeAction.DELEGATE ? \"uluna\" : \"\"\n  const tx = {\n    token,\n    amount,\n    balance,\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onChangeMax,\n    onSuccess: {\n      label: findMoniker(destination),\n      path: `/validator/${destination}`,\n    },\n    queryKeys: [\n      queryKey.staking.delegations,\n      queryKey.staking.unbondings,\n      queryKey.distribution.rewards,\n    ],\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ max, fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          {\n            {\n              [StakeAction.DELEGATE]: (\n                <FormWarning>\n                  {t(\n                    \"Leave enough amount of coins to pay fee for subsequent transactions\"\n                  )}\n                </FormWarning>\n              ),\n              [StakeAction.REDELEGATE]: (\n                <FormWarning>\n                  {t(\n                    \"21 days must pass after this transaction to redelegate to this validator again\"\n                  )}\n                </FormWarning>\n              ),\n              [StakeAction.UNBOND]: (\n                <Grid gap={4}>\n                  <FormWarning>\n                    {t(\n                      \"Maximum 7 undelegations can be in progress at the same time\"\n                    )}\n                  </FormWarning>\n                  <FormWarning>\n                    {t(\n                      \"No reward is distributed during 21 days undelegation period\"\n                    )}\n                  </FormWarning>\n                </Grid>\n              ),\n            }[tab]\n          }\n\n          {tab === StakeAction.REDELEGATE && (\n            <FormItem label={t(\"From\")}>\n              <Select\n                {...register(\"source\", {\n                  required:\n                    tab === StakeAction.REDELEGATE\n                      ? \"Source validator is required\"\n                      : false,\n                })}\n              >\n                {delegationsOptions\n                  ?.filter(\n                    ({ validator_address }) => validator_address !== destination\n                  )\n                  .map(({ validator_address }) => (\n                    <option value={validator_address} key={validator_address}>\n                      {findMoniker(validator_address)}\n                    </option>\n                  ))}\n              </Select>\n            </FormItem>\n          )}\n\n          <FormItem\n            label={t(\"Amount\")}\n            extra={max.render()}\n            error={errors.input?.message}\n          >\n            <Input\n              {...register(\"input\", {\n                valueAsNumber: true,\n                validate: validate.input(toInput(max.amount)),\n              })}\n              token=\"uluna\"\n              onFocus={max.reset}\n              inputMode=\"decimal\"\n              placeholder={getPlaceholder()}\n              autoFocus\n            />\n          </FormItem>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default StakeForm\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"minimized\":\"LatestTx_minimized__2T-tN\",\"link\":\"LatestTx_link__JJJsC\",\"close\":\"LatestTx_close__2bcXV\",\"details\":\"LatestTx_details__YLF1R\",\"queued\":\"LatestTx_queued__ZcUNZ\",\"messages\":\"LatestTx_messages__SIMDv\",\"hash\":\"LatestTx_hash__1Yew0\",\"success\":\"LatestTx_success__2AEiG\",\"danger\":\"LatestTx_danger__1V94K\"};","import { PropsWithChildren, ReactNode } from \"react\"\nimport { Flex, Grid } from \"../layout\"\nimport styles from \"./State.module.scss\"\n\ninterface Props {\n  icon?: ReactNode\n}\n\nconst State = ({ icon, children }: PropsWithChildren<Props>) => {\n  return (\n    <Grid gap={8} className={styles.component}>\n      <Flex className={styles.icon}>{icon}</Flex>\n      <section className={styles.content}>{children}</section>\n    </Grid>\n  )\n}\n\nexport default State\n","import { PropsWithChildren, ReactNode } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport InboxOutlinedIcon from \"@mui/icons-material/InboxOutlined\"\nimport State from \"./State\"\n\nconst Empty = ({ icon, children }: PropsWithChildren<{ icon?: ReactNode }>) => {\n  const { t } = useTranslation()\n\n  return (\n    <State icon={icon ?? <InboxOutlinedIcon fontSize=\"inherit\" />}>\n      {children ?? t(\"No results found\")}\n    </State>\n  )\n}\n\nexport default Empty\n","import { PropsWithChildren } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport State from \"./State\"\n\nconst Wrong = ({ children }: PropsWithChildren<{}>) => {\n  const { t } = useTranslation()\n  return <State>{children ?? t(\"Something went wrong\")}</State>\n}\n\nexport default Wrong\n","import { useTranslation } from \"react-i18next\"\nimport Wrong from \"./Wrong\"\n\nconst Forbidden = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Wrong>\n      {t(\n        \"This IP has been flagged for potential security violations. Change your network configuration.\"\n      )}\n    </Wrong>\n  )\n}\n\nexport default Forbidden\n","import { Component, PropsWithChildren, ReactNode } from \"react\"\nimport { AxiosError } from \"axios\"\nimport { getErrorMessage } from \"utils/error\"\nimport Wrong from \"./Wrong\"\nimport Forbidden from \"./Forbidden\"\n\ninterface Props {\n  fallback?: (error: Error) => ReactNode\n}\n\nexport interface State {\n  error: AxiosError | Error | null\n}\n\nconst initialState = { error: null } as State\n\nclass ErrorBoundary extends Component<PropsWithChildren<Props>, State> {\n  state = initialState\n\n  static getDerivedStateFromError(error: Error) {\n    return { error }\n  }\n\n  render() {\n    const { fallback, children } = this.props\n    const { error } = this.state\n\n    return !error ? (\n      children\n    ) : getIsForbidden(error) ? (\n      <Forbidden />\n    ) : (\n      fallback?.(error) ?? <Wrong>{getErrorMessage(error)}</Wrong>\n    )\n  }\n}\n\nexport default ErrorBoundary\n\n/* helpers */\nconst getIsForbidden = (error: AxiosError | Error) => {\n  if (\"response\" in error) return error.response?.status === 403\n}\n","import { PropsWithChildren, ReactNode, useState } from \"react\"\nimport LinearProgress from \"@mui/material/LinearProgress\"\nimport { getErrorMessage } from \"utils/error\"\nimport useTimeout from \"utils/hooks/useTimeout\"\nimport { Card } from \"../layout\"\nimport Wrong from \"./Wrong\"\nimport styles from \"./Fetching.module.scss\"\n\ninterface Props extends QueryState {\n  height?: number\n}\n\n// Use the component below to build layout on a page or a card\n// Use the preset component at the bottom of this file for use elsewhere\n\ninterface WithFetchingProps extends Props {\n  children: (progress?: ReactNode, wrong?: ReactNode) => ReactNode\n}\n\nexport const WithFetching = (props: WithFetchingProps) => {\n  const { isFetching, error, height = 4, children } = props\n  /* Do not indicate for responses within 100 ms */\n  const [showFetching, setShowFetching] = useState(false)\n  useTimeout(() => setShowFetching(!!isFetching), isFetching ? 100 : 0)\n  const progress = showFetching && isFetching\n\n  return (\n    <>\n      {children(\n        /* Strategy: Since progress is displayed even during refetching,\n           do not block the contents rendered with previous data */\n        progress ? (\n          <LinearProgress\n            color=\"inherit\"\n            className={styles.progress}\n            style={{ height }}\n            sx={{ position: \"absolute\" /* to overwrite */ }}\n          />\n        ) : undefined,\n        error ? <Wrong>{getErrorMessage(error)}</Wrong> : undefined\n      )}\n    </>\n  )\n}\n\nconst Fetching = ({ children, ...state }: PropsWithChildren<Props>) => {\n  return (\n    <WithFetching {...state}>\n      {(progress, wrong) => (\n        <>\n          {progress}\n          {wrong ? (\n            <Card>\n              <Wrong>{getErrorMessage(state.error)}</Wrong>\n            </Card>\n          ) : (\n            children\n          )}\n        </>\n      )}\n    </WithFetching>\n  )\n}\n\nexport default Fetching\n","import CircularProgress from \"@mui/material/CircularProgress\"\nimport { CircularProgressProps } from \"@mui/material/CircularProgress\"\n\nconst LoadingCircular = (props: CircularProgressProps) => {\n  return <CircularProgress color=\"inherit\" {...props} />\n}\n\nexport default LoadingCircular\n","import { PropsWithChildren, ReactNode, useEffect, useState } from \"react\"\nimport { useLocation } from \"react-router-dom\"\nimport ReactModal from \"react-modal\"\nimport classNames from \"classnames/bind\"\nimport CloseIcon from \"@mui/icons-material/Close\"\nimport { RenderButton } from \"types/components\"\nimport createContext from \"utils/createContext\"\nimport { getMaxHeightStyle } from \"utils/style\"\nimport styles from \"./Modal.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nReactModal.setAppElement(\"#station\")\n\ninterface ModalProps {\n  closeIcon?: ReactNode\n  icon?: ReactNode\n\n  /* content */\n  title?: ReactNode\n  footer?: (close: ReactModal.Props[\"onRequestClose\"]) => ReactNode\n\n  /* style */\n  confirm?: boolean\n  maxHeight?: boolean | number\n}\n\nexport interface Props extends ModalProps, ReactModal.Props {}\n\nconst Modal = (props: PropsWithChildren<Props>) => {\n  const { title, children, footer } = props\n  const { icon, closeIcon, onRequestClose, confirm, maxHeight } = props\n\n  return (\n    <ReactModal\n      {...props}\n      className={styles.modal}\n      overlayClassName={styles.overlay}\n    >\n      {onRequestClose && (\n        <button type=\"button\" className={styles.close} onClick={onRequestClose}>\n          {closeIcon ?? <CloseIcon fontSize=\"inherit\" />}\n        </button>\n      )}\n\n      {(title || icon) && (\n        <header className={styles.header}>\n          <section className={styles.icon}>{icon}</section>\n          <h1 className={cx(styles.title, { confirm })}>{title}</h1>\n        </header>\n      )}\n\n      {children && (\n        <section\n          className={styles.main}\n          style={getMaxHeightStyle(maxHeight, 320)}\n        >\n          {children}\n        </section>\n      )}\n\n      {footer && (\n        <footer className={styles.footer}>{footer(onRequestClose)}</footer>\n      )}\n    </ReactModal>\n  )\n}\n\nexport default Modal\n\n/* helper */\nexport const [useModal, ModalProvider] = createContext<() => void>(\"useModal\")\n\ninterface ModalButtonProps extends ModalProps {\n  renderButton: RenderButton\n  modalKey?: string\n}\n\nexport const ModalButton = (props: PropsWithChildren<ModalButtonProps>) => {\n  const { pathname } = useLocation()\n  const { renderButton, modalKey = pathname, ...rest } = props\n\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const open = () => setIsModalOpen(true)\n  const close = () => setIsModalOpen(false)\n\n  useEffect(() => {\n    close()\n  }, [modalKey])\n\n  return (\n    <ModalProvider value={close}>\n      {renderButton(open)}\n      <Modal {...rest} isOpen={isModalOpen} onRequestClose={close} />\n    </ModalProvider>\n  )\n}\n","import { QueryKey, useQuery, useQueryClient } from \"react-query\"\nimport { atom, useSetRecoilState } from \"recoil\"\nimport { queryKey } from \"../query\"\nimport { useLCDClient } from \"./lcdClient\"\n\ninterface LatestTx {\n  txhash: string\n  redirectAfterTx?: { label: string; path: string }\n  queryKeys?: QueryKey[]\n}\n\nexport const latestTxState = atom<LatestTx>({\n  key: \"latestTx\",\n  default: { txhash: \"\" },\n})\n\nexport const isBroadcastingState = atom({\n  key: \"isBroadcasting\",\n  default: false,\n})\n\nexport const useTxInfo = ({ txhash, queryKeys }: LatestTx) => {\n  const setIsBroadcasting = useSetRecoilState(isBroadcastingState)\n  const queryClient = useQueryClient()\n  const lcd = useLCDClient()\n\n  return useQuery([queryKey.tx.txInfo, txhash], () => lcd.tx.txInfo(txhash), {\n    enabled: !!txhash,\n    retry: true,\n    retryDelay: 1000,\n    onSettled: () => setIsBroadcasting(false),\n    onSuccess: () => {\n      queryKeys?.forEach((queryKey) => {\n        queryClient.invalidateQueries(queryKey)\n      })\n\n      queryClient.invalidateQueries(queryKey.History)\n      queryClient.invalidateQueries(queryKey.bank.balance)\n      queryClient.invalidateQueries(queryKey.tx.create)\n    },\n  })\n}\n","import { initReactI18next } from \"react-i18next\"\nimport i18n from \"i18next\"\nimport LanguageDetector from \"i18next-browser-languagedetector\"\nimport { Dictionary } from \"ramda\"\nimport { debug } from \"utils/env\"\n\nimport cs from \"locales/cs.json\"\nimport de from \"locales/de.json\"\nimport es from \"locales/es.json\"\nimport fr from \"locales/fr.json\"\nimport it from \"locales/it.json\"\n// import ko from \"locales/ko.json\"\nimport pl from \"locales/pl.json\"\nimport pt from \"locales/pt.json\"\nimport ru from \"locales/ru.json\"\nimport zh from \"locales/zh.json\"\n\nconst flatten = (obj: object, initial = {}): Dictionary<string> => {\n  return Object.entries(obj).reduce((prev, [key, value]) => {\n    if (!value) return prev\n    const next =\n      typeof value === \"string\" ? { [key]: value } : flatten(value, prev)\n    return Object.assign({}, prev, next)\n  }, initial)\n}\n\nexport const Languages = {\n  cs: { value: \"cs\", label: \"Čeština\", translation: flatten(cs) },\n  de: { value: \"de\", label: \"Deutsch\", translation: flatten(de) },\n  en: { value: \"en\", label: \"English\", translation: {} },\n  es: { value: \"es\", label: \"Español\", translation: flatten(es) },\n  fr: { value: \"fr\", label: \"Français\", translation: flatten(fr) },\n  it: { value: \"it\", label: \"Italiano\", translation: flatten(it) },\n  // ko: { value: \"ko\", label: \"한국어\", translation: flatten(ko) },\n  pl: { value: \"pl\", label: \"Polish\", translation: flatten(pl) },\n  pt: { value: \"pt\", label: \"Português\", translation: flatten(pt) },\n  ru: { value: \"ru\", label: \"Русский\", translation: flatten(ru) },\n  zh: { value: \"zh\", label: \"中文\", translation: flatten(zh) },\n}\n\ni18n.use(LanguageDetector).use(initReactI18next).init({\n  resources: Languages,\n  debug: !!debug.translation,\n})\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWallet(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 18v1c0 1.1-.9 2-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14c1.1 0 2 .9 2 2v1h-9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h9Zm-9-2h10V8H12v8Zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWallet);\nexport default __webpack_public_path__ + \"static/media/Wallet.47335a0a.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect } from \"react\"\nimport { useLocation } from \"react-router-dom\"\n\nconst ScrollToTop = () => {\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, [pathname])\n\n  return null\n}\n\nexport default ScrollToTop\n","import { useCallback } from \"react\"\nimport { atom, useRecoilState, useRecoilValue } from \"recoil\"\nimport BigNumber from \"bignumber.js\"\nimport { always } from \"ramda\"\nimport themes, { Theme } from \"styles/themes/themes\"\nimport { DefaultTheme, SettingKey } from \"utils/localStorage\"\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\nimport { debug } from \"utils/env\"\nimport { useAddress, useNetworkName } from \"data/wallet\"\nimport { calcDelegationsTotal, useDelegations } from \"../queries/staking\"\n\nexport const themeNameState = atom({\n  key: \"themeName\",\n  default: getLocalSetting<Theme[\"name\"]>(SettingKey.Theme),\n})\n\nexport const useFindTheme = () => {\n  return (name: string) => {\n    const item = themes.find((theme) => theme.name === name)\n    if (!item) return DefaultTheme\n    return item\n  }\n}\n\nexport const useTheme = () => {\n  const name = useRecoilValue(themeNameState)\n  const find = useFindTheme()\n  return find(name)\n}\n\nexport const useThemeFavicon = () => {\n  const { favicon } = useTheme()\n  return favicon\n}\n\nexport const useThemeAnimation = () => {\n  const { animation } = useTheme()\n  return animation\n}\n\nexport const useThemeState = () => {\n  const [prevName, setThemeName] = useRecoilState(themeNameState)\n  const findTheme = useFindTheme()\n  const prevTheme = findTheme(prevName)\n  const validate = useValidateTheme()\n\n  const set = useCallback(\n    (nextTheme: Theme) => {\n      if (!validate(nextTheme)) set(DefaultTheme)\n      if (prevTheme.name) document.body.classList.remove(prevTheme.name)\n      if (nextTheme.name) document.body.classList.add(nextTheme.name)\n      setFavicon(nextTheme.favicon)\n      setThemeName(nextTheme.name)\n      setLocalSetting<Theme[\"name\"]>(SettingKey.Theme, nextTheme.name)\n    },\n    [prevTheme, setThemeName, validate]\n  )\n\n  return [prevTheme, set] as const\n}\n\n/* validate */\nexport const validateTheme = (staked: string, theme?: Theme) => {\n  const item = themes.find((item) => item.name === theme?.name)\n  if (!item) return false\n  return new BigNumber(staked).gte(item.unlock)\n}\n\nexport const useValidateTheme = () => {\n  const networkName = useNetworkName()\n  const address = useAddress()\n  const { data: delegations } = useDelegations()\n  if (debug.theme || networkName !== \"mainnet\") return always(true)\n  if (!address || !delegations) return always(true)\n  const staked = calcDelegationsTotal(delegations)\n  return (theme: Theme) => validateTheme(staked, theme)\n}\n\n/* favicon */\nconst setFavicon = (href: string) => {\n  const favicon = document.getElementById(\"favicon\") as HTMLLinkElement\n  favicon.href = href\n}\n","import { useTranslation } from \"react-i18next\"\nimport { useThemeAnimation } from \"data/settings/Theme\"\nimport { FlexColumn } from \"components/layout\"\nimport { sandbox } from \"../scripts/env\"\nimport styles from \"./Splash.module.scss\"\n\nconst Splash = () => {\n  const { t } = useTranslation()\n  const animation = useThemeAnimation()\n\n  return !sandbox ? null : (\n    <FlexColumn gap={20} className={styles.screen}>\n      <img src={animation} alt=\"\" width={80} height={80} />\n      <h1>{t(\"Initializing app...\")}</h1>\n    </FlexColumn>\n  )\n}\n\nexport default Splash\n","import { PropsWithChildren } from \"react\"\nimport styles from \"./Overlay.module.scss\"\n\nconst Overlay = ({ children }: PropsWithChildren<{}>) => {\n  return <div className={styles.overlay}>{children}</div>\n}\n\nexport default Overlay\n","import { useEffect, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport WifiOffIcon from \"@mui/icons-material/WifiOff\"\nimport Overlay from \"../components/Overlay\"\nimport styles from \"./Online.module.scss\"\n\nconst Online = () => {\n  const { t } = useTranslation()\n  const online = useOnlineStatus()\n  if (online) return null\n  return (\n    <Overlay>\n      <article>\n        <WifiOffIcon style={{ fontSize: 56 }} />\n        <h1 className={styles.title}>{t(\"No internet connection\")}</h1>\n        <p>{t(\"Check the internet connection and retry\")}</p>\n      </article>\n    </Overlay>\n  )\n}\n\nexport default Online\n\n/* hooks */\nconst getOnlineStatus = () => {\n  return typeof navigator !== \"undefined\" &&\n    typeof navigator.onLine === \"boolean\"\n    ? navigator.onLine\n    : true\n}\n\nconst useOnlineStatus = () => {\n  const [onlineStatus, setOnlineStatus] = useState(getOnlineStatus())\n\n  const goOnline = () => setOnlineStatus(true)\n  const goOffline = () => setOnlineStatus(false)\n\n  useEffect(() => {\n    window.addEventListener(\"online\", goOnline)\n    window.addEventListener(\"offline\", goOffline)\n\n    return () => {\n      window.removeEventListener(\"online\", goOnline)\n      window.removeEventListener(\"offline\", goOffline)\n    }\n  }, [])\n\n  return onlineStatus\n}\n","import { useTranslation } from \"react-i18next\"\nimport Logo from \"styles/images/LocalTerra.png\"\nimport { useNetworkState } from \"data/wallet\"\nimport { Button, ExternalLink } from \"components/general\"\nimport { FlexColumn } from \"components/layout\"\nimport styles from \"./NetworkError.module.scss\"\n\nconst NetworkError = () => {\n  const { t } = useTranslation()\n  const [network, setNetwork] = useNetworkState()\n\n  const isLocalTerra = network === \"localterra\"\n\n  return (\n    <FlexColumn gap={20}>\n      <img src={Logo} alt={t(\"Logo\")} width={60} height={60} />\n\n      <article>\n        <h1 className={styles.title}>\n          {network === \"mainnet\"\n            ? t(\"Too many requests. Try again later.\")\n            : isLocalTerra\n            ? t(\"LocalTerra is not running\")\n            : t(`${network} is not running`)}\n        </h1>\n\n        {isLocalTerra && (\n          <ExternalLink href=\"https://github.com/terra-money/localterra\">\n            {t(\"Learn more\")}\n          </ExternalLink>\n        )}\n      </article>\n\n      {network === \"mainnet\" ? (\n        <Button onClick={() => window.location.reload()} size=\"small\" outline>\n          {t(\"Refresh\")}\n        </Button>\n      ) : (\n        <Button onClick={() => setNetwork(\"mainnet\")} size=\"small\" outline>\n          {t(\"Back to mainnet\")}\n        </Button>\n      )}\n    </FlexColumn>\n  )\n}\n\nexport default NetworkError\n","export default \"data:image/png;base64,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\"","import { PropsWithChildren } from \"react\"\nimport { useNodeInfo } from \"data/queries/tendermint\"\nimport Overlay from \"./components/Overlay\"\nimport NetworkError from \"./NetworkError\"\n\nconst WithNodeInfo = ({ children }: PropsWithChildren<{}>) => {\n  const { isLoading, isError } = useNodeInfo()\n\n  if (isError) {\n    return (\n      <Overlay>\n        <NetworkError />\n      </Overlay>\n    )\n  }\n\n  if (isLoading) return null\n  return <>{children}</>\n}\n\nexport default WithNodeInfo\n","import { useQuery } from \"react-query\"\nimport axios from \"axios\"\nimport { useNetwork } from \"data/wallet\"\nimport { queryKey, RefetchOptions } from \"../query\"\n\nexport const useNodeInfo = () => {\n  const { lcd } = useNetwork()\n\n  return useQuery(\n    [queryKey.tendermint.nodeInfo],\n    async () => {\n      const { data } = await axios.get(\"node_info\", { baseURL: lcd })\n      return data\n    },\n    { ...RefetchOptions.INFINITY }\n  )\n}\n","import { PropsWithChildren, useEffect, useMemo } from \"react\"\nimport { QueryClient, QueryClientProvider } from \"react-query\"\nimport { WalletStatus } from \"@terra-money/wallet-types\"\nimport { useWallet } from \"@terra-money/use-wallet\"\nimport { useNetwork, useNetworkName } from \"data/wallet\"\nimport { isWallet, useAuth } from \"auth\"\nimport Splash from \"auth/modules/Splash\"\nimport Online from \"./containers/Online\"\nimport WithNodeInfo from \"./WithNodeInfo\"\n\nconst InitWallet = ({ children }: PropsWithChildren<{}>) => {\n  useOnNetworkChange()\n  const { status } = useWallet()\n  const queryClient = useQueryClient()\n  const networkName = useNetworkName()\n\n  return status === WalletStatus.INITIALIZING ? (\n    <Splash />\n  ) : (\n    <QueryClientProvider client={queryClient} key={networkName}>\n      <WithNodeInfo>{children}</WithNodeInfo>\n      <Online />\n    </QueryClientProvider>\n  )\n}\n\nexport default InitWallet\n\n/* hooks */\nconst useOnNetworkChange = () => {\n  const { preconfigure } = useNetwork()\n  const { wallet, disconnect } = useAuth()\n  const isPreconfiguredWallet = isWallet.preconfigured(wallet)\n  const shouldDisconnect = !preconfigure && isPreconfiguredWallet\n\n  useEffect(() => {\n    if (shouldDisconnect) disconnect()\n  }, [disconnect, shouldDisconnect])\n}\n\nconst useQueryClient = () => {\n  const name = useNetworkName()\n\n  return useMemo(() => {\n    if (!name) throw new Error()\n    return new QueryClient()\n  }, [name])\n}\n","import { useEffect } from \"react\"\nimport { DefaultTheme } from \"utils/localStorage\"\nimport { useThemeState, useValidateTheme } from \"data/settings/Theme\"\n\nconst InitTheme = () => {\n  const [theme, setTheme] = useThemeState()\n  const validate = useValidateTheme()\n  const valid = validate(theme)\n\n  useEffect(() => {\n    setTheme(valid ? theme : DefaultTheme)\n  }, [valid, theme, setTheme])\n\n  return null\n}\n\nexport default InitTheme\n","declare global {\n  interface Window {\n    require: NodeRequire\n    electron: any\n  }\n}\n\nconst getElectron = () => {\n  try {\n    if (window.electron) {\n      return window.electron.sendSync\n    } else {\n      const { ipcRenderer } = window.require(\"electron\")\n      return ipcRenderer.sendSync\n    }\n  } catch {\n    return\n  }\n}\n\nconst electron = getElectron()\n\nexport default electron\n\n/* Download links */\nconst DOWNLOAD =\n  \"https://github.com/terra-money/station-desktop/releases/download\"\n\nexport const links = [\n  {\n    title: \"Windows\",\n    list: [\n      {\n        label: \"Installer\",\n        link: `${DOWNLOAD}/v1.2.0/Terra.Station.Setup.1.2.0.exe`,\n      },\n    ],\n  },\n  {\n    title: \"Mac\",\n    list: [\n      {\n        label: \"Apple silicon\",\n        link: `${DOWNLOAD}/v1.2.0/Terra.Station-1.2.0-arm64.dmg`,\n      },\n      {\n        label: \"Intel chip\",\n        link: `${DOWNLOAD}/v1.2.0/Terra.Station-1.2.0.dmg`,\n      },\n    ],\n  },\n  {\n    title: \"Linux\",\n    list: [\n      {\n        label: \"Debian\",\n        link: `${DOWNLOAD}/v1.2.0/Terra.Station_1.2.0_amd64.deb`,\n      },\n      {\n        label: \"Red hat\",\n        link: `${DOWNLOAD}/v1.2.0/Terra.Station-1.2.0.x86_64.rpm`,\n      },\n    ],\n  },\n]\n","import { useTranslation } from \"react-i18next\"\nimport semver from \"semver\"\nimport DownloadIcon from \"@mui/icons-material/Download\"\nimport { Card, Grid } from \"components/layout\"\nimport Overlay from \"./components/Overlay\"\nimport electron, { links } from \"./electron\"\nimport styles from \"./ElectronVersion.module.scss\"\n\nconst REQUIRED_VERSION = \"1.2.0\"\n\nconst ElectronVersion = () => {\n  const { t } = useTranslation()\n  if (!electron) return null\n\n  const version = electron(\"version\")\n  const shouldUpdate = semver.lt(version, REQUIRED_VERSION)\n\n  if (!shouldUpdate) return null\n  return (\n    <Overlay>\n      <Grid gap={8}>\n        <h1 className={styles.title}>{t(\"Update required\")}</h1>\n\n        <div className={styles.grid}>\n          {links.map(({ title, list }) => (\n            <Card\n              title={title}\n              className={styles.card}\n              size=\"small\"\n              bordered\n              key={title}\n            >\n              <ul>\n                {list.map(({ label, link }) => (\n                  <li key={link}>\n                    <a href={link} className={styles.link} download>\n                      <DownloadIcon fontSize=\"small\" />\n                      {label}\n                    </a>\n                  </li>\n                ))}\n              </ul>\n            </Card>\n          ))}\n        </div>\n      </Grid>\n    </Overlay>\n  )\n}\n\nexport default ElectronVersion\n","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.722 15.967c0 .373-.2.717-.524.905l-6.622 3.824a1.049 1.049 0 0 1-1.046 0l-6.624-3.824a1.046 1.046 0 0 1-.522-.905V8.318c0-.373.2-.718.522-.904L11.53 3.59a1.043 1.043 0 0 1 1.046 0l6.622 3.824c.324.186.524.53.524.904v7.649Zm1.326-9.777L12.71 1.376a1.312 1.312 0 0 0-1.314 0L3.057 6.19A1.313 1.313 0 0 0 2.4 7.328v9.629c0 .469.25.903.657 1.139l8.339 4.814c.407.234.907.234 1.314 0l8.338-4.814c.408-.236.657-.67.657-1.14V7.329c0-.47-.25-.904-.657-1.138Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.1 12.164a.973.973 0 0 0-1.304-.03l-1.693 1.46a.436.436 0 0 1-.622-.053l-2.29-2.773a.973.973 0 0 0-1.367-.132L6.258 12.74a.343.343 0 0 0-.126.266v2.066c0 .288.154.555.403.699l5.115 2.952c.25.144.556.144.806 0l5.116-2.953a.802.802 0 0 0 .402-.698v-.99a.343.343 0 0 0-.107-.25l-1.768-1.668Z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.581 9.09a1.474 1.474 0 1 1-2.949 0 1.474 1.474 0 0 1 2.95 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNft);\nexport default __webpack_public_path__ + \"static/media/NFT.9c153889.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHistory(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.056 2.4c-5.067 0-9.249 3.84-9.8 8.761h-2.01a.404.404 0 0 0-.31.666l2.966 3.491c.162.19.455.19.617 0l2.964-3.49a.404.404 0 0 0-.307-.667h-1.86c.54-3.792 3.801-6.721 7.74-6.721 4.77 0 8.558 4.291 7.705 9.216-.539 3.11-3.004 5.65-6.097 6.272-2.814.568-5.591-.385-7.428-2.43a.427.427 0 0 0-.588-.056l-.917.743a.437.437 0 0 0-.059.625c2.428 2.74 6.181 3.952 9.927 2.999 3.658-.93 6.494-4.015 7.16-7.732C23.874 7.843 19.089 2.4 13.056 2.4\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m16.105 15.9-3.48-1.462a1.02 1.02 0 0 1-.625-.94V7.2h2.039v5.62l2.856 1.2-.79 1.88Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHistory);\nexport default __webpack_public_path__ + \"static/media/History.449bd748.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSwap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.3 13.2c-.2-.2-.4 0-.4.2v2.5H3.2c-.1 0-.2.1-.2.2v1.7c0 .1.1.2.2.2h13.7v2.5c0 .2.3.3.4.2l3.7-3.6c.1-.1.1-.3 0-.4l-3.7-3.5z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.7 3.3c.2-.2.4 0 .4.2V6h13.7c.1 0 .2.1.2.2V8c0 .1-.1.2-.2.2H7.2v2.5c0 .2-.3.3-.4.2L3 7.3c-.1-.1-.1-.2 0-.4l3.7-3.6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSwap);\nexport default __webpack_public_path__ + \"static/media/Swap.70de460a.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStake(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.085 9.848h-1.89l.021-.73c-1.917-.245-3.247-1.085-3.137-2.083.11-1 1.497-1.84 3.253-2.09l.023-.793 1.632-.003.012.745c1.051.083 2.015.374 2.712.834l-1.241.498c-.512-.34-1.27-.535-2.088-.534-1.418.003-2.611.604-2.662 1.341-.049.738 1.146 1.336 2.664 1.336.987 0 1.89-.26 2.352-.677l1.49.408c-.627.578-1.803.966-3.152 1.066l.011.682Zm8.155-2.835C21.24 4.797 17.157 3 12.12 3 7.084 3 3 4.797 3 7.013l.001.007v1.03c0 2.215 4.082 4.012 9.12 4.012 5.036 0 9.119-1.797 9.119-4.013l-.001-.01h.001V7.013Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.12 14.518c-4.67 0-8.513-1.544-9.049-3.536a1.762 1.762 0 0 0-.071.475l.001.007H3v1.029c0 2.217 4.084 4.012 9.12 4.012 5.037 0 9.12-1.795 9.12-4.012l-.001-.01v-1.026c0-.161-.027-.32-.07-.475-.535 1.992-4.38 3.536-9.049 3.536\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.12 18.962c-4.67 0-8.513-1.545-9.049-3.537a1.762 1.762 0 0 0-.071.476l.001.006H3v1.029c0 2.217 4.084 4.013 9.12 4.013 5.037 0 9.12-1.796 9.12-4.013l-.001-.01v-1.025c0-.162-.027-.32-.07-.476-.535 1.992-4.38 3.537-9.049 3.537\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStake);\nexport default __webpack_public_path__ + \"static/media/Stake.bdc74a43.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGovernance(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19a2 2 0 0 0 2-2v-4l-3-3Zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95L17 7.95Zm-4.24-5.66L6.39 8.66a.996.996 0 0 0 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36a.996.996 0 0 0 0-1.41L14.16 2.3a.975.975 0 0 0-1.4-.01Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGovernance);\nexport default __webpack_public_path__ + \"static/media/Governance.f97601d5.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgContract(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.7 3.3c.4 0 .8.3.9.8v11.6c0 .4-.3.8-.8.9H3.4c-.4 0-.8-.3-.9-.8V7.6h2.2c1 0 1.9-.8 2-1.8V3.3h5zm3 9.2c.1 0 .3.1.4.2l.1.1 1 1.3c.2-.1.3-.1.5-.1.7 0 1.3.6 1.3 1.3 0 .7-.6 1.3-1.3 1.3s-1.3-.6-1.3-1.3V15l-.9-1.3h-.9v-1.1h1.1zm-7.2-.1H3.7v1.5h3.8v-1.5zM17 8.8c.7 0 1.3.6 1.3 1.3 0 .7-.6 1.3-1.3 1.3-.5 0-.9-.3-1.1-.6l-.1-.1h-2.3V9.6h2.3c.3-.5.7-.8 1.2-.8zm-5.6.7H3.7V11h7.7V9.5zm5.2-6.1c.7 0 1.3.6 1.3 1.3S17.3 6 16.6 6h-.4l-1.1 1.5c-.1.1-.2.2-.4.2h-1.3V6.5h.9l1-1.3c-.1-.1-.1-.3-.1-.5.1-.8.7-1.3 1.4-1.3zm-11.1 0v2.2c0 .4-.3.8-.7.8H2.5l3-3z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgContract);\nexport default __webpack_public_path__ + \"static/media/Contract.81ce6d4c.svg\";\nexport { ForwardRef as ReactComponent };","import { useMemo } from \"react\"\nimport { useQuery } from \"react-query\"\nimport axios, { AxiosError } from \"axios\"\nimport BigNumber from \"bignumber.js\"\nimport { OracleParams, ValAddress } from \"@terra-money/terra.js\"\nimport { TerraValidator } from \"types/validator\"\nimport { TerraProposalItem } from \"types/proposal\"\nimport { useNetwork } from \"data/wallet\"\nimport { useOracleParams } from \"data/queries/oracle\"\nimport { useNetworks } from \"app/InitNetworks\"\nimport { queryKey, RefetchOptions } from \"../query\"\n\nimport { terraAPIURL } from \"../../config/constants\"\n\nexport enum Aggregate {\n  PERIODIC = \"periodic\",\n  CUMULATIVE = \"cumulative\",\n}\n\nexport enum AggregateStakingReturn {\n  DAILY = \"daily\",\n  ANNUALIZED = \"annualized\",\n}\n\nexport enum AggregateWallets {\n  TOTAL = \"total\",\n  NEW = \"new\",\n  ACTIVE = \"active\",\n}\n\n/*terra API map*/\n//\nexport const useTerraAPIURL = (mainnet?: true) => {\n  const network = useNetwork()\n  const networks = useNetworks()\n  return mainnet\n    ? terraAPIURL(networks[\"mainnet\"].name)\n    : terraAPIURL(network.name)\n}\n//\nexport const useIsTerraAPIAvailable = () => {\n  const url = useTerraAPIURL()\n  return !!url\n}\n//\nexport const useTerraAPI = <T>(path: string, params?: object, fallback?: T) => {\n  const baseURL = useTerraAPIURL()\n  const available = useIsTerraAPIAvailable()\n  const shouldFallback = !available && fallback\n\n  return useQuery<T, AxiosError>(\n    [queryKey.TerraAPI, baseURL, path, params],\n    async () => {\n      if (shouldFallback) return fallback\n      const { data } = await axios.get(path, { baseURL, params })\n      return data\n    },\n    { ...RefetchOptions.INFINITY, enabled: !!(baseURL || shouldFallback) }\n  )\n}\n\n/*\nexport const useTerraAPIURL = (mainnet?: true) => {\n  const network = useNetwork()\n  const networks = useNetworks()\n  return mainnet ? networks[\"mainnet\"].api : network.api\n}\n\nexport const useIsTerraAPIAvailable = () => {\n  const url = useTerraAPIURL()\n  return !!url\n}\n\nexport const useTerraAPI = <T>(path: string, params?: object, fallback?: T) => {\n  const baseURL = useTerraAPIURL()\n  const available = useIsTerraAPIAvailable()\n  const shouldFallback = !available && fallback\n\n  return useQuery<T, AxiosError>(\n    [queryKey.TerraAPI, baseURL, path, params],\n    async () => {\n      if (shouldFallback) return fallback\n      const { data } = await axios.get(path, { baseURL, params })\n      return data\n    },\n    { ...RefetchOptions.INFINITY, enabled: !!(baseURL || shouldFallback) }\n  )\n}\n\n*/\n\n/* charts */\nexport enum ChartInterval {\n  \"1m\" = \"1m\",\n  \"5m\" = \"5m\",\n  \"15m\" = \"15m\",\n  \"30m\" = \"30m\",\n  \"1h\" = \"1h\",\n  \"1d\" = \"1d\",\n}\n\nexport const useLunaPriceChart = (denom: Denom, interval: ChartInterval) => {\n  return useTerraAPI<ChartDataItem[]>(`chart/price/${denom}`, { interval })\n}\n\nexport const useTxVolume = (denom: Denom, type: Aggregate) => {\n  return useTerraAPI<ChartDataItem[]>(`chart/tx-volume/${denom}/${type}`)\n}\n\nexport const useStakingReturn = (type: AggregateStakingReturn) => {\n  return useTerraAPI<ChartDataItem[]>(`chart/staking-return/${type}`)\n}\n\nexport const useTaxRewards = (type: Aggregate) => {\n  return useTerraAPI<ChartDataItem[]>(`chart/tax-rewards/${type}`)\n}\n\nexport const useWallets = (walletsType: AggregateWallets) => {\n  return useTerraAPI<ChartDataItem[]>(`chart/wallets/${walletsType}`)\n}\n\nexport const useSumActiveWallets = () => {\n  return useTerraAPI<Record<string, string>>(`chart/wallets/active/sum`)\n}\n\n/* validators */\nexport const useTerraValidators = () => {\n  return useTerraAPI<TerraValidator[]>(\"validators\", undefined, [])\n}\n\nexport const useTerraValidator = (address: ValAddress) => {\n  return useTerraAPI<TerraValidator>(`validators/${address}`)\n}\n\nexport const useTerraProposal = (id: number) => {\n  return useTerraAPI<TerraProposalItem[]>(`proposals/${id}`)\n}\n\n/* helpers */\nexport const getCalcVotingPowerRate = (TerraValidators: TerraValidator[]) => {\n  const totalVotePower = BigNumber.sum(\n    ...TerraValidators.map(({ voting_power = 0 }) => voting_power)\n  ).toNumber()\n\n  const totalTokens = BigNumber.sum(\n    ...TerraValidators.map(({ tokens = 0 }) => tokens)\n  ).toNumber()\n\n  return (address: ValAddress) => {\n    const validator = TerraValidators.find(\n      ({ operator_address }) => operator_address === address\n    )\n\n    if (!validator) return\n    const { voting_power, tokens } = validator\n    return voting_power\n      ? Number(voting_power) / totalVotePower\n      : Number(tokens) / totalTokens\n  }\n}\n\nexport const calcSelfDelegation = (validator?: TerraValidator) => {\n  if (!validator) return\n  const { self, tokens } = validator\n  return self ? Number(self) / Number(tokens) : undefined\n}\n\nexport const getCalcUptime = ({ slash_window }: OracleParams) => {\n  return (validator?: TerraValidator) => {\n    if (!validator) return\n    const { miss_counter } = validator\n    return miss_counter ? 1 - Number(miss_counter) / slash_window : undefined\n  }\n}\n\nexport const useVotingPowerRate = (address: ValAddress) => {\n  const { data: TerraValidators, ...state } = useTerraValidators()\n  const calcRate = useMemo(() => {\n    if (!TerraValidators) return\n    return getCalcVotingPowerRate(TerraValidators)\n  }, [TerraValidators])\n\n  const data = useMemo(() => {\n    if (!calcRate) return\n    return calcRate(address)\n  }, [address, calcRate])\n\n  return { data, ...state }\n}\n\nexport const useUptime = (validator: TerraValidator) => {\n  const { data: oracleParams, ...state } = useOracleParams()\n\n  const calc = useMemo(() => {\n    if (!oracleParams) return\n    return getCalcUptime(oracleParams)\n  }, [oracleParams])\n\n  const data = useMemo(() => {\n    if (!calc) return\n    return calc(validator)\n  }, [calc, validator])\n\n  return { data, ...state }\n}\n","import { useCallback, useMemo } from \"react\"\nimport { useQuery } from \"react-query\"\nimport { getAmount, sortCoins, sortDenoms } from \"utils/coin\"\nimport { toPrice } from \"utils/num\"\nimport { queryKey, RefetchOptions, useIsClassic } from \"../query\"\nimport { useCurrency } from \"../settings/Currency\"\nimport { useLCDClient } from \"./lcdClient\"\n\nexport const useActiveDenoms = () => {\n  const lcd = useLCDClient()\n  const isClassic = useIsClassic()\n\n  return useQuery(\n    [queryKey.oracle.activeDenoms, isClassic],\n    async () => {\n      if (isClassic) {\n        const activeDenoms = await lcd.oracle.activeDenoms()\n        return sortDenoms([\"uluna\", ...activeDenoms])\n      } else {\n        return [\"uluna\"]\n      }\n    },\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\nexport const useExchangeRates = () => {\n  const lcd = useLCDClient()\n  const isClassic = useIsClassic()\n\n  return useQuery(\n    [queryKey.oracle.exchangeRates, isClassic],\n    async () => {\n      if (isClassic) return await lcd.oracle.exchangeRates()\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useOracleParams = () => {\n  const lcd = useLCDClient()\n  const isClassic = useIsClassic()\n\n  return useQuery(\n    [queryKey.oracle.params, isClassic],\n    async () => {\n      if (isClassic) return await lcd.oracle.parameters()\n    },\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\n/* helpers */\ntype Prices = Record<Denom, Price>\nexport const useMemoizedPrices = (currency: Denom) => {\n  const isClassic = useIsClassic()\n  const { data: exchangeRates, ...state } = useExchangeRates()\n\n  const prices = useMemo((): Prices | undefined => {\n    if (!isClassic) return { uluna: 1 }\n\n    if (!exchangeRates) return\n    const base = toPrice(getAmount(exchangeRates, currency, \"1\"))\n\n    return {\n      uluna: base,\n      ...sortCoins(exchangeRates, currency).reduce((acc, { amount, denom }) => {\n        const price = toPrice(Number(base) / Number(amount))\n        return { ...acc, [denom]: price }\n      }, {}),\n    }\n  }, [currency, exchangeRates, isClassic])\n\n  return { data: prices, ...state }\n}\n\nexport type CalcValue = (params: CoinData) => number | undefined\nexport const useMemoizedCalcValue = (denom?: Denom) => {\n  const currency = useCurrency()\n  const { data: memoizedPrices } = useMemoizedPrices(denom ?? currency)\n\n  return useCallback<CalcValue>(\n    ({ amount, denom }) => {\n      if (!memoizedPrices) return\n      return Number(amount) * Number(memoizedPrices[denom] ?? 0)\n    },\n    [memoizedPrices]\n  )\n}\n","import { ChartPoint } from \"./Chart\"\nimport styles from \"./ChartTooltip.module.scss\"\n\ninterface Props {\n  label: Date\n  payload: { payload: ChartPoint }[]\n  active: boolean\n  formatDate?: (date: Date) => string\n}\n\nconst ChartTooltip = (props: any) => {\n  const { label, payload, active } = props as Props\n  const { formatDate = (date) => date.toLocaleDateString() } = props as Props\n\n  if (!active) return null\n\n  const { y } = payload[0].payload\n\n  return (\n    <article className={styles.tooltip}>\n      <h1 className={styles.value}>{y}</h1>\n      <p className={styles.date}>{formatDate(label)}</p>\n    </article>\n  )\n}\n\nexport default ChartTooltip\n","import { ReactNode } from \"react\"\nimport { ResponsiveContainer } from \"recharts\"\nimport { AreaChart, Area, BarChart, Bar } from \"recharts\"\nimport { XAxis, YAxis, CartesianGrid, Tooltip } from \"recharts\"\nimport { format } from \"date-fns\"\nimport variable from \"styles/variable\"\nimport ChartTooltip from \"./ChartTooltip\"\n\nexport const CHART_HEIGHT = 240\nconst ANIMATION_DURATION = 100\nconst FONT_SIZE = 11\n\nexport interface ChartPoint {\n  t: Date\n  v: number\n  y: ReactNode\n}\n\nexport interface ChartProps {\n  type: \"bar\" | \"area\"\n  formatY: (value: string) => string\n  formatTooltipDate?: (date: Date) => string\n\n  /* customize */\n  ticks?: number[]\n  tickFormat?: string\n  padding?: number\n\n  /* filled bar */\n  filled?: boolean\n}\n\ninterface Props extends ChartProps {\n  data: ChartPoint[]\n}\n\nconst Chart = ({ type = \"area\", data, formatY, filled, ...props }: Props) => {\n  const { ticks, tickFormat, formatTooltipDate, padding } = props\n\n  const COLORS = {\n    // Call this fn inside the component to get the latest theme\n    STROKE: variable(\"--chart\"),\n    DEFAULT: variable(\"--button-default-bg\"),\n    MUTED: variable(\"--text-muted\"),\n    BORDER: variable(\"--card-border\"),\n  }\n\n  /* by chart type */\n  const renderChart = {\n    bar: (children: ReactNode) => (\n      <BarChart data={data}>\n        {children}\n        <Bar\n          dataKey=\"v\"\n          fill={COLORS.STROKE}\n          animationDuration={ANIMATION_DURATION}\n        />\n      </BarChart>\n    ),\n    area: (children: ReactNode) => (\n      <AreaChart data={data}>\n        {children}\n        <Area\n          dataKey=\"v\"\n          type=\"monotone\"\n          stroke={COLORS.STROKE}\n          strokeWidth={filled ? 0 : 2}\n          fill={COLORS.STROKE}\n          fillOpacity={filled ? 1 : 0.05}\n          animationDuration={ANIMATION_DURATION}\n        />\n      </AreaChart>\n    ),\n  }\n\n  return (\n    <ResponsiveContainer width=\"100%\" height={CHART_HEIGHT}>\n      {renderChart[type](\n        <>\n          <XAxis\n            dataKey=\"t\"\n            fontSize={FONT_SIZE}\n            minTickGap={30} // Margin between each text\n            tick={{ fill: COLORS.MUTED }} // Text color\n            tickFormatter={(t) =>\n              format(t, tickFormat ?? (data.length > 30 ? \"yyyy QQQ\" : \"MMM d\"))\n            }\n            tickMargin={8} // Padding between text and chart\n            tickSize={0} // Line between text and chart\n            height={24} // Space including padding\n          />\n          <YAxis\n            dataKey=\"v\"\n            axisLine={false} // Show the vertical line\n            fontSize={FONT_SIZE}\n            orientation=\"right\"\n            tick={{ fill: COLORS.MUTED }} // Text color\n            ticks={ticks}\n            tickFormatter={formatY}\n            tickMargin={4} // Padding between text and chart\n            tickSize={0} // Line between text and chart\n            width={padding ?? 40} // Space including padding\n          />\n          <Tooltip\n            cursor={{ fill: COLORS.BORDER, stroke: COLORS.BORDER }}\n            content={<ChartTooltip formatDate={formatTooltipDate} />}\n          />\n          <CartesianGrid stroke={COLORS.BORDER} vertical={false} />\n        </>\n      )}\n    </ResponsiveContainer>\n  )\n}\n\nexport default Chart\n","import { ReactNode } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames\"\nimport { useThemeAnimation } from \"data/settings/Theme\"\nimport { Flex } from \"components/layout\"\nimport { Wrong } from \"components/feedback\"\nimport Chart, { ChartProps, CHART_HEIGHT } from \"./Chart\"\nimport styles from \"./ChartContainer.module.scss\"\n\nexport const LOADING = {\n  width: CHART_HEIGHT / 2,\n  height: CHART_HEIGHT / 2,\n  style: { margin: CHART_HEIGHT / 4 },\n}\n\ninterface Props extends ChartProps {\n  /* response */\n  result?: ChartDataItem[]\n\n  /* filter */\n  range: number\n\n  /* total */\n  total?: Amount\n  unit?: string\n  formatValue: (value: string) => ReactNode\n}\n\nconst ChartContainer = (props: Props) => {\n  const { result, range, total, unit, formatValue } = props\n  const { t } = useTranslation()\n  const animation = useThemeAnimation()\n\n  const renderTotal = () => {\n    if (!total)\n      return (\n        <h1 className={classNames(styles.title, \"muted\")}>{t(\"Loading...\")}</h1>\n      )\n\n    return (\n      <h1 className={styles.title}>\n        {formatValue(total)} <small>{unit}</small>\n      </h1>\n    )\n  }\n\n  const render = () => {\n    if (!result) return <img src={animation} alt=\"\" {...LOADING} />\n    if (result.length < 3) return <Wrong>{t(\"Chart requires more data\")}</Wrong>\n    const data = result.slice(-1 * range).map(convert(formatValue))\n    return <Chart {...props} data={data} />\n  }\n\n  return (\n    <article className={styles.grid}>\n      {renderTotal()}\n      <Flex>{render()}</Flex>\n    </article>\n  )\n}\n\nexport default ChartContainer\n\n/* utils */\nexport const convert = (formatValue: Props[\"formatValue\"]) => {\n  return ({ datetime, value }: ChartDataItem) => {\n    return {\n      t: new Date(datetime),\n      v: Number(value),\n      y: formatValue(value),\n    }\n  }\n}\n","import classNames from \"classnames/bind\"\nimport { Flex } from \"components/layout\"\nimport styles from \"./ButtonGroup.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props<T> {\n  value: T\n  onChange: (value: T) => void\n  options: { value: T; label: string }[]\n}\n\nfunction ButtonGroup<T>({ value: selected, onChange, options }: Props<T>) {\n  return (\n    <Flex className={styles.group}>\n      {options.map(({ label, value }) => {\n        const isSelected = value === selected\n\n        return (\n          <button\n            className={cx(styles.item, { active: isSelected })}\n            onClick={() => onChange(value)}\n            key={label}\n          >\n            {label}\n          </button>\n        )\n      })}\n    </Flex>\n  )\n}\n\nexport default ButtonGroup\n","var _circle, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBinance(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 16,\n    cy: 16,\n    r: 16,\n    fill: \"#F3BA2F\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    d: \"m20.663 17.913 2.713 2.71L16 28l-7.377-7.377 2.716-2.708 4.66 4.66 4.664-4.662ZM13.247 16 16 13.247 18.753 16 16 18.753 13.247 16Zm12.041-2.711L28 16.001l-2.712 2.712-2.712-2.712 2.712-2.712Zm-18.576-.001 2.712 2.711-2.712 2.713L4 16l2.712-2.712ZM16 4l7.375 7.375-2.712 2.712L16 9.424l-4.661 4.661-2.712-2.712L16 4Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBinance);\nexport default __webpack_public_path__ + \"static/media/Binance.009febb4.svg\";\nexport { ForwardRef as ReactComponent };","import { useState } from \"react\"\nimport { formatNumber } from \"@terra.kitchen/utils\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { useThemeAnimation } from \"data/settings/Theme\"\nimport { ChartInterval, useLunaPriceChart } from \"data/Terra/TerraAPI\"\nimport { Flex, Grid } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport { convert, LOADING } from \"../charts/components/ChartContainer\"\nimport ButtonGroup from \"./components/ButtonGroup\"\nimport Chart from \"./components/Chart\"\n\nconst LunaPriceChart = () => {\n  const currency = useCurrency()\n  const denom = currency === \"uluna\" ? \"uusd\" : currency\n  const [chartInterval, setChartInterval] = useState(ChartInterval[\"15m\"])\n  const { data, isLoading } = useLunaPriceChart(denom, chartInterval)\n  const animation = useThemeAnimation()\n\n  const formatValue = (value: string) => (\n    <Read amount={Number(value) * 1e6} denom={denom} auto />\n  )\n\n  const tickFormat = {\n    \"1m\": \"h:mm aaa\",\n    \"5m\": \"h:mm aaa\",\n    \"15m\": \"h:mm aaa\",\n    \"30m\": \"h:mm aaa\",\n    \"1h\": \"h aaa\",\n    \"1d\": \"MMM d\",\n  }[chartInterval]\n\n  const render = () => {\n    if (isLoading) return <img src={animation} alt=\"\" {...LOADING} />\n    if (!data) return null\n    return (\n      <Chart\n        type=\"area\"\n        data={data.map(convert(formatValue))}\n        formatY={(value) => formatNumber(value, { comma: true, integer: true })}\n        formatTooltipDate={\n          chartInterval === \"1d\" ? undefined : (date) => date.toLocaleString()\n        }\n        tickFormat={tickFormat}\n        padding={data.find(({ value }) => Number(value) > 1000) ? 48 : 20}\n      />\n    )\n  }\n\n  return (\n    <Grid gap={28}>\n      <ButtonGroup\n        value={chartInterval}\n        onChange={setChartInterval}\n        options={Object.values(ChartInterval).map((value) => {\n          return { value, label: value }\n        })}\n      />\n\n      <Flex>{render()}</Flex>\n    </Grid>\n  )\n}\n\nexport default LunaPriceChart\n","import { ReactNode } from \"react\"\nimport { Grid } from \"components/layout\"\nimport styles from \"./DashboardContent.module.scss\"\n\ninterface Props {\n  value: ReactNode\n  footer?: ReactNode\n}\n\nconst DashboardContent = ({ value, footer }: Props) => {\n  return (\n    <Grid gap={32}>\n      <section className={styles.value}>{value}</section>\n      {footer && <footer className={styles.footer}>{footer}</footer>}\n    </Grid>\n  )\n}\n\nexport default DashboardContent\n","import { useTranslation } from \"react-i18next\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { useMemoizedPrices } from \"data/queries/oracle\"\nimport { Card } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport { ModalButton } from \"components/feedback\"\nimport LunaPriceChart from \"../charts/LunaPriceChart\"\nimport DashboardContent from \"./components/DashboardContent\"\nimport styles from \"./Dashboard.module.scss\"\n\nconst LunaPrice = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const denom = currency === \"uluna\" ? \"uusd\" : currency\n  const { data: prices, ...state } = useMemoizedPrices(denom)\n\n  const render = () => {\n    if (!prices) return\n    const { uluna: price } = prices\n    return (\n      <DashboardContent\n        value={<Read amount={String(price * 1e6)} denom={denom} auto />}\n        footer={\n          <ModalButton\n            title={t(\"Luna price\")}\n            renderButton={(open) => (\n              <button onClick={open}>{t(\"Show chart\")}</button>\n            )}\n          >\n            <LunaPriceChart />\n          </ModalButton>\n        }\n      />\n    )\n  }\n\n  return (\n    <Card\n      {...state}\n      title={t(\"Luna price\")}\n      className={styles.price}\n      size=\"small\"\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default LunaPrice\n","import { useTranslation } from \"react-i18next\"\nimport { useIsClassic } from \"data/query\"\nimport { useTaxRate } from \"data/queries/treasury\"\nimport { Card } from \"components/layout\"\nimport { ReadPercent } from \"components/token\"\nimport { TooltipIcon } from \"components/display\"\nimport DashboardContent from \"./components/DashboardContent\"\n\nconst TaxRate = () => {\n  const { t } = useTranslation()\n  const { data: taxRate, ...state } = useTaxRate(!useIsClassic())\n\n  const render = () => {\n    if (!taxRate) return null\n    return (\n      <DashboardContent\n        value={<ReadPercent fixed={3}>{taxRate}</ReadPercent>}\n      />\n    )\n  }\n\n  return (\n    <Card\n      {...state}\n      title={\n        <TooltipIcon\n          content={t(\n            \"Burn tax and other taxes that could be enabled on the network.\"\n          )}\n        >\n          {t(\"Tax rate\")}\n        </TooltipIcon>\n      }\n      size=\"small\"\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default TaxRate\n","import { useTranslation } from \"react-i18next\"\nimport { isDenomTerraNative } from \"@terra.kitchen/utils\"\nimport { WithTokenItem } from \"data/token\"\nimport { ModalButton } from \"components/feedback\"\nimport { TokenCard, TokenCardGrid } from \"components/token\"\n\ninterface Item extends CoinData {\n  value?: Value\n}\n\ninterface Props {\n  title: string\n  list: Item[]\n}\n\nconst SelectDenom = ({ title, list }: Props) => {\n  const { t } = useTranslation()\n\n  if (!(list.length > 1)) return null\n\n  return (\n    <ModalButton\n      title={title}\n      renderButton={(open) => <button onClick={open}>{t(\"Show all\")}</button>}\n    >\n      <TokenCardGrid maxHeight>\n        {list\n          .filter(({ denom }) => isDenomTerraNative(denom))\n          .map(({ amount, denom, value }) => (\n            <WithTokenItem token={denom} key={denom}>\n              {(item) => (\n                <TokenCard\n                  {...item}\n                  amount={amount}\n                  value={value}\n                  valueConfig={{ prefix: true }}\n                  name=\"\" // remove name\n                />\n              )}\n            </WithTokenItem>\n          ))}\n      </TokenCardGrid>\n    </ModalButton>\n  )\n}\n\nexport default SelectDenom\n","import { useTranslation } from \"react-i18next\"\nimport { useSupply } from \"data/queries/bank\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { Card } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport DashboardContent from \"./components/DashboardContent\"\nimport SelectDenom from \"./components/SelectDenom\"\n\nconst Issuance = () => {\n  const { t } = useTranslation()\n  const title = t(\"Issuance\")\n\n  const { data, ...state } = useSupply()\n  const calcValue = useMemoizedCalcValue()\n\n  const render = () => {\n    if (!data) return null\n\n    const amount = data.find((item) => item.denom === \"uluna\")?.amount ?? \"0\"\n    const value = <Read amount={amount} denom=\"uluna\" prefix />\n\n    const list = data\n      .map((item) => ({ ...item, value: calcValue(item) }))\n      .sort(({ value: a }, { value: b }) => Number(b) - Number(a))\n\n    return (\n      <DashboardContent\n        value={value}\n        footer={<SelectDenom title={title} list={list} />}\n      />\n    )\n  }\n\n  return (\n    <Card {...state} title={title} size=\"small\">\n      {render()}\n    </Card>\n  )\n}\n\nexport default Issuance\n","import { useQuery } from \"react-query\"\nimport BigNumber from \"bignumber.js\"\nimport { Coins, Rewards, ValAddress, Validator } from \"@terra-money/terra.js\"\nimport { has } from \"utils/num\"\nimport { sortCoins } from \"utils/coin\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useAddress } from \"../wallet\"\nimport { useLCDClient } from \"./lcdClient\"\nimport { CalcValue } from \"./oracle\"\n\nexport const useRewards = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.distribution.rewards, address],\n    async () => {\n      if (!address) return { total: new Coins(), rewards: {} }\n      return await lcd.distribution.rewards(address)\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useCommunityPool = () => {\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.distribution.communityPool],\n    () => lcd.distribution.communityPool(),\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\n/* commission */\nexport const useValidatorCommission = () => {\n  const lcd = useLCDClient()\n  const address = useAddress()\n\n  return useQuery(\n    [queryKey.distribution.validatorCommission],\n    async () => {\n      if (!address) return new Coins()\n      const validatorAddress = ValAddress.fromAccAddress(address)\n      return await lcd.distribution.validatorCommission(validatorAddress)\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useWithdrawAddress = () => {\n  const lcd = useLCDClient()\n  const address = useAddress()\n\n  return useQuery(\n    [queryKey.distribution.withdrawAddress],\n    async () => {\n      if (!address) return\n      return await lcd.distribution.withdrawAddress(address)\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\n/* hooks */\nexport const getConnectedMoniker = (\n  address?: string,\n  validators?: Validator[]\n) => {\n  if (!(address && validators)) return\n\n  const validatorAddress = ValAddress.fromAccAddress(address)\n  const validator = validators.find(\n    ({ operator_address }) => operator_address === validatorAddress\n  )\n\n  if (!validator) return\n\n  return validator.description.moniker\n}\n\n/* helpers */\nexport const calcRewardsValues = (\n  rewards: Rewards,\n  currency: Denom,\n  calcValue: CalcValue\n) => {\n  const calc = (coins: Coins) => {\n    const list = sortCoins(coins, currency).filter(({ amount }) => has(amount))\n    const sum = BigNumber.sum(\n      ...list.map((item) => calcValue(item) ?? 0)\n    ).toString()\n\n    return { sum, list }\n  }\n\n  const total = calc(rewards.total)\n  const byValidator = Object.entries(rewards.rewards)\n    .map(([address, coins]) => ({ ...calc(coins), address }))\n    .filter(({ sum }) => has(sum))\n    .sort(({ sum: a }, { sum: b }) => Number(b) - Number(a))\n\n  return { total, byValidator }\n}\n","import { useTranslation } from \"react-i18next\"\nimport { getAmount, sortCoins } from \"utils/coin\"\nimport { useCommunityPool } from \"data/queries/distribution\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { Card } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport SelectDenom from \"./components/SelectDenom\"\nimport DashboardContent from \"./components/DashboardContent\"\n\nconst CommunityPool = () => {\n  const { t } = useTranslation()\n  const title = t(\"Community pool\")\n\n  const { data, ...state } = useCommunityPool()\n  const calcValue = useMemoizedCalcValue()\n\n  const render = () => {\n    if (!data) return null\n\n    const amount = getAmount(data, \"uluna\")\n    const value = <Read amount={amount} denom=\"uluna\" prefix />\n\n    const list = sortCoins(data)\n      .map((item) => ({ ...item, value: calcValue(item) }))\n      .sort(({ value: a }, { value: b }) => Number(b) - Number(a))\n\n    return (\n      <DashboardContent\n        value={value}\n        footer={<SelectDenom title={title} list={list} />}\n      />\n    )\n  }\n\n  return (\n    <Card {...state} title={title} size=\"small\">\n      {render()}\n    </Card>\n  )\n}\n\nexport default CommunityPool\n","import { PropsWithChildren } from \"react\"\nimport styles from \"./DashboardTag.module.scss\"\n\nconst DashboardTag = ({ children }: PropsWithChildren<{}>) => {\n  return <span className={styles.tag}>{children}</span>\n}\n\nexport default DashboardTag\n","import { useTranslation } from \"react-i18next\"\nimport { readAmount } from \"@terra.kitchen/utils\"\nimport { combineState } from \"data/query\"\nimport { useSupply } from \"data/queries/bank\"\nimport { useStakingPool } from \"data/queries/staking\"\nimport { Card } from \"components/layout\"\nimport { ReadPercent } from \"components/token\"\nimport { Tooltip } from \"components/display\"\nimport DashboardContent from \"./components/DashboardContent\"\nimport DashboardTag from \"./components/DashboardTag\"\n\nconst StakingRatio = () => {\n  const { t } = useTranslation()\n\n  const { data: stakingPool, ...stakingPoolState } = useStakingPool()\n  const { data: supply, ...supplyState } = useSupply()\n  const state = combineState(stakingPoolState, supplyState)\n\n  const render = () => {\n    if (!(stakingPool && supply)) return null\n\n    const bonded = stakingPool.bonded_tokens.amount.toString()\n    const issuance = supply.find(({ denom }) => denom === \"uluna\")?.amount\n\n    if (!issuance) return null\n\n    const ratio = Number(bonded) / Number(issuance)\n    const tooltip = t(\"{{amount}} Luna staked\", {\n      amount: readAmount(bonded, { prefix: true, integer: true }),\n    })\n\n    return (\n      <DashboardContent\n        value={\n          <Tooltip content={tooltip}>\n            <ReadPercent>{ratio}</ReadPercent>\n          </Tooltip>\n        }\n        footer={\n          <DashboardTag>\n            {[t(\"Staked Luna\"), t(\"Total Luna\")].join(\" / \")}\n          </DashboardTag>\n        }\n      />\n    )\n  }\n\n  return (\n    <Card {...state} title={t(\"Staking ratio\")} size=\"small\">\n      {render()}\n    </Card>\n  )\n}\n\nexport default StakingRatio\n","import { PropsWithChildren } from \"react\"\nimport { Flex } from \"components/layout\"\n\nconst Filter = ({ children }: PropsWithChildren<{}>) => {\n  return <Flex gap={8}>{children}</Flex>\n}\n\nexport default Filter\n","import { ReactNode, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport ButtonGroup from \"./ButtonGroup\"\nimport styles from \"./Range.module.scss\"\n\ninterface Props {\n  initial?: number\n  includeLastDay?: boolean\n  children: (start: number) => ReactNode\n}\n\nconst Range = ({ initial, children, includeLastDay }: Props) => {\n  const { t } = useTranslation()\n  const [selected, setSelected] = useState(initial ?? 0)\n\n  const list = [\n    { label: t(\"From genesis\"), value: 0 },\n    { label: t(\"Last day\"), value: 3 },\n    { label: t(\"{{d}} days\", { d: 7 }), value: 7 },\n    { label: t(\"{{d}} days\", { d: 14 }), value: 14 },\n    { label: t(\"{{d}} days\", { d: 30 }), value: 30 },\n  ].filter(({ value }) => !(value === 3 && !includeLastDay))\n\n  return (\n    <article className={styles.grid}>\n      {children(selected)}\n      <ButtonGroup value={selected} onChange={setSelected} options={list} />\n    </article>\n  )\n}\n\nexport default Range\n","import { useCallback, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport BigNumber from \"bignumber.js\"\nimport { head, last } from \"ramda\"\nimport { capitalize } from \"@mui/material\"\nimport { isDenomTerraNative, readAmount, readDenom } from \"@terra.kitchen/utils\"\nimport { sortDenoms } from \"utils/coin\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { Aggregate, useTxVolume } from \"data/Terra/TerraAPI\"\nimport { useIsClassic } from \"data/query\"\nimport { useActiveDenoms } from \"data/queries/oracle\"\nimport { Select } from \"components/form\"\nimport { Card } from \"components/layout\"\nimport { TooltipIcon } from \"components/display\"\nimport ChartContainer from \"./components/ChartContainer\"\nimport Filter from \"./components/Filter\"\nimport Range from \"./components/Range\"\n\nconst TxVolume = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const isClassic = useIsClassic()\n\n  /* data */\n  const [denom, setDenom] = useState(isClassic ? \"uusd\" : \"uluna\")\n  const [type, setType] = useState<Aggregate>(Aggregate.PERIODIC)\n  const { data: activeDenoms } = useActiveDenoms()\n  const { data, ...state } = useTxVolume(denom, type)\n\n  /* render */\n  const renderFilter = () => {\n    if (!activeDenoms) return null\n    return (\n      <Filter>\n        <Select value={denom} onChange={(e) => setDenom(e.target.value)} small>\n          {sortDenoms(activeDenoms, currency)\n            .filter(isDenomTerraNative)\n            .map((denom) => (\n              <option value={denom} key={denom}>\n                {readDenom(denom)}\n              </option>\n            ))}\n        </Select>\n\n        <Select\n          value={type}\n          onChange={(e) => setType(e.target.value as Aggregate)}\n          small\n        >\n          {Object.values(Aggregate).map((type) => (\n            <option value={type} key={type}>\n              {capitalize(type)}\n            </option>\n          ))}\n        </Select>\n      </Filter>\n    )\n  }\n\n  const calcValue = useCallback(\n    (range: number) => {\n      if (!data) return\n\n      const sliced = data.slice(-1 * range).map(({ value }) => value)\n      const h = head(sliced)\n      const l = last(sliced)\n      const t = sliced[sliced.length - 2]\n\n      if (!(h && l && t)) return\n\n      if (range === 3)\n        return {\n          [Aggregate.CUMULATIVE]: new BigNumber(l).minus(t).toString(),\n          [Aggregate.PERIODIC]: l,\n        }[type]\n\n      return {\n        [Aggregate.CUMULATIVE]: new BigNumber(l).minus(h).toString(),\n        [Aggregate.PERIODIC]: BigNumber.sum(...sliced.slice(1)).toString(),\n      }[type]\n    },\n    [data, type]\n  )\n\n  const render = () => {\n    return (\n      <Range initial={3} includeLastDay>\n        {(range) => {\n          const filled = type === Aggregate.PERIODIC && !range\n          return (\n            <ChartContainer\n              type={type === Aggregate.CUMULATIVE || filled ? \"area\" : \"bar\"}\n              filled={filled}\n              result={data}\n              range={range}\n              total={calcValue(range)}\n              unit={readDenom(denom)}\n              formatValue={(value) => readAmount(value, { prefix: true })}\n              formatY={(value) =>\n                readAmount(value, { prefix: true, integer: true })\n              }\n            />\n          )\n        }}\n      </Range>\n    )\n  }\n\n  return (\n    <Card\n      {...state}\n      title={\n        <TooltipIcon\n          content={t(\n            \"The onchain transaction volume for the selected currency over the selected time period\"\n          )}\n        >\n          {t(\"Transaction volume\")}\n        </TooltipIcon>\n      }\n      extra={renderFilter()}\n      size=\"small\"\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default TxVolume\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { last } from \"ramda\"\nimport { capitalize } from \"@mui/material\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { AggregateStakingReturn } from \"data/Terra/TerraAPI\"\nimport { useStakingReturn } from \"data/Terra/TerraAPI\"\nimport { Select } from \"components/form\"\nimport { Card } from \"components/layout\"\nimport { TooltipIcon } from \"components/display\"\nimport { ReadPercent } from \"components/token\"\nimport ChartContainer from \"./components/ChartContainer\"\nimport Range from \"./components/Range\"\nimport Filter from \"./components/Filter\"\n\nconst StakingReturn = () => {\n  const { t } = useTranslation()\n\n  /* data */\n  const [type, setType] = useState<AggregateStakingReturn>(\n    AggregateStakingReturn.ANNUALIZED\n  )\n\n  const { data, ...state } = useStakingReturn(type)\n\n  /* render */\n  const renderFilter = () => {\n    return (\n      <Filter>\n        <Select\n          value={type}\n          onChange={(e) => setType(e.target.value as AggregateStakingReturn)}\n          small\n        >\n          {Object.values(AggregateStakingReturn).map((type) => (\n            <option value={type} key={type}>\n              {capitalize(type)}\n            </option>\n          ))}\n        </Select>\n      </Filter>\n    )\n  }\n\n  const unit = {\n    [AggregateStakingReturn.ANNUALIZED]: t(\"year\"),\n    [AggregateStakingReturn.DAILY]: t(\"day\"),\n  }\n\n  const render = () => {\n    if (!data) return null\n    return (\n      <Range>\n        {(range) => {\n          const filled = type === AggregateStakingReturn.DAILY && !range\n          return (\n            <ChartContainer\n              type={\n                type === AggregateStakingReturn.ANNUALIZED || filled\n                  ? \"area\"\n                  : \"bar\"\n              }\n              filled={filled}\n              result={data}\n              range={range}\n              total={data && last(data)?.value}\n              unit={`/ ${unit[type]}`}\n              formatValue={(value) => <ReadPercent>{value}</ReadPercent>}\n              formatY={(value) => readPercent(value, { fixed: 0 })}\n              ticks={\n                type === AggregateStakingReturn.ANNUALIZED && !range\n                  ? [0, 1, 2, 3]\n                  : undefined\n              }\n            />\n          )\n        }}\n      </Range>\n    )\n  }\n\n  return (\n    <Card\n      {...state}\n      title={\n        <TooltipIcon\n          content={t(\n            \"The annualized staking yield for Luna is based on gas rewards, minting rewards, and the price of Luna (annualized return = 10 day moving average return * 365).\"\n          )}\n        >\n          {t(\"Staking return\")}\n        </TooltipIcon>\n      }\n      size=\"small\"\n      extra={renderFilter()}\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default StakingReturn\n","import { useCallback, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport BigNumber from \"bignumber.js\"\nimport { head, last } from \"ramda\"\nimport { capitalize } from \"@mui/material\"\nimport { readAmount, readDenom } from \"@terra.kitchen/utils\"\nimport { combineState } from \"data/query\"\nimport { useMemoizedPrices } from \"data/queries/oracle\"\nimport { Aggregate, useTaxRewards } from \"data/Terra/TerraAPI\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { Select } from \"components/form\"\nimport { Card } from \"components/layout\"\nimport { TooltipIcon } from \"components/display\"\nimport ChartContainer from \"./components/ChartContainer\"\nimport Range from \"./components/Range\"\nimport Filter from \"./components/Filter\"\n\nconst TaxRewards = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n\n  /* data */\n  const [type, setType] = useState<Aggregate>(Aggregate.CUMULATIVE)\n  const { data, ...result } = useTaxRewards(type)\n  const { data: prices, ...priceState } = useMemoizedPrices(\"uusd\")\n  const state = combineState(result, priceState)\n\n  /* render */\n  const renderFilter = () => {\n    return (\n      <Filter>\n        <Select\n          value={type}\n          onChange={(e) => setType(e.target.value as Aggregate)}\n          small\n        >\n          {Object.values(Aggregate).map((type) => (\n            <option value={type} key={type}>\n              {capitalize(type)}\n            </option>\n          ))}\n        </Select>\n      </Filter>\n    )\n  }\n\n  const calcValue = useCallback(\n    (range: number) => {\n      if (!(data && prices)) return\n\n      const sliced = data.slice(-1 * range).map(({ value }) => value)\n      const h = head(sliced)\n      const l = last(sliced)\n\n      if (!(h && l)) return\n\n      const value = {\n        [Aggregate.CUMULATIVE]: new BigNumber(l).minus(h).toNumber(),\n        [Aggregate.PERIODIC]: BigNumber.sum(...sliced.slice(1)).toNumber(),\n      }[type]\n\n      const price = prices[currency]\n\n      return String(value / price)\n    },\n    [currency, data, prices, type]\n  )\n\n  const render = () => {\n    return (\n      <Range>\n        {(range) => {\n          const filled = type === Aggregate.PERIODIC && !range\n          return (\n            <ChartContainer\n              type={type === Aggregate.CUMULATIVE || filled ? \"area\" : \"bar\"}\n              filled={filled}\n              result={data}\n              total={calcValue(range)}\n              unit={readDenom(currency)}\n              range={range}\n              formatValue={(value) => readAmount(value, { prefix: true })}\n              formatY={(value) =>\n                readAmount(value, { prefix: true, integer: true })\n              }\n            />\n          )\n        }}\n      </Range>\n    )\n  }\n\n  return (\n    <Card\n      {...state}\n      title={\n        <TooltipIcon\n          content={t(\"Tax rewards distributed over the selected time period\")}\n        >\n          {t(\"Tax rewards\")}\n        </TooltipIcon>\n      }\n      extra={renderFilter()}\n      size=\"small\"\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default TaxRewards\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { last } from \"ramda\"\nimport BigNumber from \"bignumber.js\"\nimport { capitalize } from \"@mui/material\"\nimport { formatNumber } from \"@terra.kitchen/utils\"\nimport { combineState } from \"data/query\"\nimport { AggregateWallets, useSumActiveWallets } from \"data/Terra/TerraAPI\"\nimport { useWallets } from \"data/Terra/TerraAPI\"\nimport { Select } from \"components/form\"\nimport { Card } from \"components/layout\"\nimport { TooltipIcon } from \"components/display\"\nimport ChartContainer from \"./components/ChartContainer\"\nimport Range from \"./components/Range\"\nimport Filter from \"./components/Filter\"\n\nconst Wallets = () => {\n  const { t } = useTranslation()\n\n  /* data */\n  const [walletsType, setWalletsType] = useState(AggregateWallets.TOTAL)\n  const { data, ...dataState } = useWallets(walletsType)\n  const { data: sumActiveWallets, ...sumActiveWalletsState } =\n    useSumActiveWallets()\n\n  const state = combineState(dataState, sumActiveWalletsState)\n\n  /* render */\n  const renderFilter = () => {\n    return (\n      <Filter>\n        <Select\n          value={walletsType}\n          onChange={(e) => setWalletsType(e.target.value as AggregateWallets)}\n          small\n        >\n          {Object.values(AggregateWallets).map((type) => (\n            <option value={type} key={type}>\n              {capitalize(type)}\n            </option>\n          ))}\n        </Select>\n      </Filter>\n    )\n  }\n\n  const isCumulative = walletsType === AggregateWallets.TOTAL\n  const render = () => {\n    return (\n      <Range>\n        {(range) => {\n          const filled = !isCumulative && !range\n          const values = data?.slice(-1 * range).map(({ value }) => value)\n          const total = {\n            [AggregateWallets.TOTAL]: data && last(data)?.value,\n            [AggregateWallets.NEW]:\n              values && BigNumber.sum(...values).toString(),\n            [AggregateWallets.ACTIVE]: sumActiveWallets?.[range],\n          }[walletsType]\n\n          return (\n            <ChartContainer\n              type={isCumulative || filled ? \"area\" : \"bar\"}\n              filled={filled}\n              result={data}\n              range={range}\n              total={total}\n              unit={t(\"wallets\")}\n              formatValue={(value) => formatNumber(value, { prefix: true })}\n              formatY={(value) =>\n                formatNumber(value, { prefix: true, fixed: 1 })\n              }\n            />\n          )\n        }}\n      </Range>\n    )\n  }\n\n  return (\n    <Card\n      {...state}\n      title={\n        <TooltipIcon\n          content={t(\n            \"Number of total registered wallets in the selected period\"\n          )}\n        >\n          {t(\"Wallets\")}\n        </TooltipIcon>\n      }\n      extra={renderFilter()}\n      size=\"small\"\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default Wallets\n","import classNames from \"classnames/bind\"\nimport { useIsClassic } from \"data/query\"\nimport { useIsTerraAPIAvailable } from \"data/Terra/TerraAPI\"\nimport TxVolume from \"../charts/TxVolume\"\nimport StakingReturn from \"../charts/StakingReturn\"\nimport TaxRewards from \"../charts/TaxRewards\"\nimport Wallets from \"../charts/Wallets\"\nimport styles from \"./Charts.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst Charts = () => {\n  const isClassic = useIsClassic()\n  const available = useIsTerraAPIAvailable()\n  if (!available) return null\n\n  return (\n    <div className={cx(styles.charts, { trisect: true })}>\n      <TxVolume />\n      {isClassic ? <TaxRewards /> : <StakingReturn />}\n      <Wallets />\n    </div>\n  )\n}\n\nexport default Charts\n","import { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport { useIsClassic } from \"data/query\"\nimport { Col, Page } from \"components/layout\"\nimport LunaPrice from \"./LunaPrice\"\nimport TaxRate from \"./TaxRate\"\nimport Issuance from \"./Issuance\"\nimport CommunityPool from \"./CommunityPool\"\nimport StakingRatio from \"./StakingRatio\"\nimport Charts from \"./Charts\"\nimport styles from \"./Dashboard.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst Dashboard = () => {\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n\n  return (\n    <Page title={t(\"Dashboard\")}>\n      <Col>\n        <header className={cx(styles.header, { trisect: !isClassic })}>\n          {isClassic && <LunaPrice />}\n          {isClassic && <TaxRate />}\n          <Issuance />\n          <CommunityPool />\n          <StakingRatio />\n        </header>\n\n        <Charts />\n      </Col>\n    </Page>\n  )\n}\n\nexport default Dashboard\n","import { useTranslation } from \"react-i18next\"\nimport { atom, useRecoilState } from \"recoil\"\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\nimport { SettingKey } from \"utils/localStorage\"\n\nconst minimumValueState = atom({\n  key: \"minimumValueState\",\n  default: getLocalSetting<number>(SettingKey.MinimumValue),\n})\n\nexport const useMinimumValue = () => {\n  const { t } = useTranslation()\n  const [minimumValue, setMinimumValue] = useRecoilState(minimumValueState)\n\n  const set = (value: number) => {\n    setLocalSetting<number>(SettingKey.MinimumValue, value)\n    setMinimumValue(value)\n  }\n\n  const list = [\n    { value: 0, label: t(\"Show all\") },\n    { value: 1, label: t(\"Hide <$1\") },\n    { value: 10, label: t(\"Hide <$10\") },\n    { value: 100, label: t(\"Hide <$100\") },\n  ]\n\n  return [minimumValue, set, list] as const\n}\n","import { useQuery } from \"react-query\"\nimport axios from \"axios\"\nimport { RefetchOptions } from \"data/query\"\n\nconst baseURL = \"https://terra2-routing-api.tfm.dev\"\nexport const TFM_ROUTER =\n  \"terra19hz374h6ruwtzrnm8ytkae782uv79h9yt9tuytgvt94t26c4793qnfg7vn\"\n\ninterface TFMTokenItem {\n  contract_addr: string\n  decimals: number\n  id: number\n  name: string\n  symbol: string\n  is_token_liquid: boolean\n}\n\nexport const queryTFMTokens = async () => {\n  const { data } = await axios.get<TFMTokenItem[]>(\"/tokens\", { baseURL })\n  return data.filter(({ is_token_liquid }) => is_token_liquid)\n}\n\ninterface TFMRouteParams {\n  token0: string\n  token1: string\n  amount: string\n  exchange?: string\n  use_split: boolean\n}\n\ninterface TFMRouteResult {\n  alternatives: any\n  input_amount: number\n  price_impact: number\n  return_amount: number\n  routes: any[]\n}\n\nexport const queryTFMRoute = async (params: TFMRouteParams) => {\n  const { data } = await axios.get<TFMRouteResult>(\"/route\", {\n    baseURL,\n    params,\n  })\n  return data\n}\n\ninterface TFMSwapParams extends TFMRouteParams {\n  slippage?: string\n}\n\ninterface TFMSwapResult {\n  type: string\n  value: {\n    coins: { amount: string; denom: string }[]\n    contract: string\n    execute_msg: object\n    sender: string\n  }\n}\n\ninterface TFMSwapFailed {\n  message: string\n  success: false\n}\n\nexport const queryTFMSwap = async (params: TFMSwapParams) => {\n  const { data } = await axios.get<TFMSwapResult | TFMSwapFailed>(\"/swap\", {\n    baseURL,\n    params,\n  })\n\n  return data\n}\n\nexport const useTFMTokens = () => {\n  return useQuery(\"TFM Tokens\", queryTFMTokens, { ...RefetchOptions.INFINITY })\n}\n","var _circle, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgKuCoin(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 16,\n    cy: 16,\n    r: 16,\n    fill: \"#020A1C\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#23AF91\",\n    d: \"m12.91 15.992 5.223 5.224 3.297-3.297a1.49 1.49 0 0 1 2.106 2.106l-4.35 4.351a1.502 1.502 0 0 1-2.107 0l-6.276-6.278v3.732a1.49 1.49 0 0 1-2.983 0V10.15a1.492 1.492 0 0 1 2.982-.001v3.732l6.277-6.277a1.501 1.501 0 0 1 2.106 0l4.354 4.35a1.493 1.493 0 0 1-2.106 2.107l-3.297-3.297-5.226 5.228Zm5.226-1.493a1.493 1.493 0 1 0-.002 2.988 1.493 1.493 0 0 0 .002-2.989v.001Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgKuCoin);\nexport default __webpack_public_path__ + \"static/media/KuCoin.ee195119.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHuobi(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 16,\n    cy: 16,\n    r: 16,\n    fill: \"#060B2E\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ECECEC\",\n    d: \"M18.332 11.961c0-3.01-1.45-5.603-2.562-6.452 0 0-.077-.047-.077.077-.093 5.82-3.041 7.41-4.678 9.524-3.75 4.909-.262 10.28 3.288 11.269 1.992.555-.463-.988-.771-4.23-.37-3.936 4.8-6.93 4.8-10.188\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#3489EE\",\n    d: \"M20.277 13.952c-.015-.015-.046-.015-.077 0l-.015.016c-.062.725-.865 2.3-1.868 3.735-3.412 4.878-1.467 7.225-.37 8.49.632.741 0 0 1.59-.756.123-.062 3.087-1.636 3.41-5.202.325-3.473-1.882-5.65-2.67-6.283\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHuobi);\nexport default __webpack_public_path__ + \"static/media/Huobi.da18cdb3.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/Kado.666d8f95.svg\";","import { useTranslation } from \"react-i18next\"\nimport qs from \"qs\"\nimport { ReactComponent as Binance } from \"styles/images/exchanges/Binance.svg\"\nimport { ReactComponent as KuCoin } from \"styles/images/exchanges/KuCoin.svg\"\nimport { ReactComponent as Huobi } from \"styles/images/exchanges/Huobi.svg\"\nimport Kado from \"styles/images/exchanges/Kado.svg\"\nimport { useAddress } from \"data/wallet\"\n\nconst exchanges = [\n  {\n    children: \"Binance\",\n    href: \"https://www.binance.com/en/trade/LUNA_USDT\",\n    icon: <Binance width={24} height={24} />,\n  },\n  {\n    children: \"Huobi\",\n    href: \"https://www.huobi.com/en-us/exchange/luna_usdt/\",\n    icon: <Huobi width={24} height={24} />,\n  },\n  {\n    children: \"KuCoin\",\n    href: \"https://trade.kucoin.com/LUNA-USDT\",\n    icon: <KuCoin width={24} height={24} />,\n  },\n]\n\nconst KADO_API_KEY = \"c22391a1-594f-4354-a742-187adb1b91bf\"\nconst getKadoLink = (address?: string) => {\n  const KADO_URL = \"https://app.kado.money\"\n  const queryString = qs.stringify(\n    {\n      apiKey: KADO_API_KEY,\n      onPayCurrency: \"USD\",\n      onPayAmount: 200,\n      onRevCurrency: \"USDC\",\n      network: \"TERRA\",\n      onToAddress: address,\n      product: \"BUY\",\n      offPayCurrency: \"USDC\",\n      offRevCurrency: \"USD\",\n    },\n    { skipNulls: true }\n  )\n\n  return {\n    children: \"Kado\",\n    href: `${KADO_URL}/?${queryString}`,\n    icon: <img src={Kado} alt=\"Kado Ramp\" width={24} height={24} />,\n  }\n}\n\nexport const useBuyList = (symbol: string) => {\n  const { t } = useTranslation()\n  const address = useAddress()\n\n  if (symbol === \"Luna\") return [{ title: t(\"Exchanges\"), list: exchanges }]\n\n  if (symbol === \"axlUSDC\")\n    return [{ title: t(\"Fiat\"), list: [getKadoLink(address)] }]\n\n  return\n}\n","import { useTranslation } from \"react-i18next\"\nimport { flatten, uniq } from \"ramda\"\nimport MonetizationOnOutlinedIcon from \"@mui/icons-material/MonetizationOnOutlined\"\nimport ShortcutOutlinedIcon from \"@mui/icons-material/ShortcutOutlined\"\nimport RestartAltIcon from \"@mui/icons-material/RestartAlt\"\nimport OpenInNewIcon from \"@mui/icons-material/OpenInNew\"\nimport { isDenomTerraNative } from \"@terra.kitchen/utils\"\nimport { has } from \"utils/num\"\nimport { useIsClassic } from \"data/query\"\nimport { useNetworkName } from \"data/wallet\"\nimport { useIsWalletEmpty } from \"data/queries/bank\"\nimport { useCW20Pairs } from \"data/Terra/TerraAssets\"\nimport { useTFMTokens } from \"data/external/tfm\"\nimport { InternalButton, InternalLink, ExternalIconLink } from \"components/general\"\nimport { ExtraActions } from \"components/layout\"\nimport { ModalButton } from \"components/feedback\"\nimport { ListGroup } from \"components/display\"\nimport { useBuyList } from \"./Buy\"\nimport { Props } from \"./Asset\"\n\nconst AssetActions = ({ token, symbol, balance }: Props) => {\n  const { t } = useTranslation()\n  const isWalletEmpty = useIsWalletEmpty()\n  const isClassic = useIsClassic()\n  const networkName = useNetworkName()\n  const getIsSwappableToken = useGetIsSwappableToken()\n  const buyList = useBuyList(symbol)\n\n  return (\n    <ExtraActions>\n      {!isClassic && buyList && (\n        <ModalButton\n          title={t(\"Buy {{symbol}}\", { symbol })}\n          renderButton={(open) => (\n            <InternalButton\n              icon={<MonetizationOnOutlinedIcon style={{ fontSize: 18 }} />}\n              onClick={open}\n            >\n              {t(\"Buy\")}\n            </InternalButton>\n          )}\n          maxHeight={false}\n        >\n          <ListGroup groups={buyList} />\n        </ModalButton>\n      )}\n\n      {!isClassic && token.startsWith(\"ibc/\") && (\n        <ExternalIconLink\n          icon={<OpenInNewIcon style={{ fontSize: 18 }} />}\n          href={`https://bridge.terra.money`}\n        >\n          {t(\"Bridge\")}\n        </ExternalIconLink>\n      )}\n\n      <InternalLink\n        icon={<ShortcutOutlinedIcon style={{ fontSize: 18 }} />}\n        to={`/send?token=${token}`}\n        disabled={isWalletEmpty || !has(balance)}\n      >\n        {t(\"Send\")}\n      </InternalLink>\n\n      {networkName !== \"testnet\" && (\n        <InternalLink\n          icon={<RestartAltIcon style={{ fontSize: 18 }} />}\n          to=\"/swap\"\n          state={token}\n          disabled={isWalletEmpty || !has(balance) || !getIsSwappableToken(token)}\n        >\n          {t(\"Swap\")}\n        </InternalLink>\n      )}\n    </ExtraActions>\n  )\n}\n\nexport default AssetActions\n\n/* helpers */\nconst useGetIsSwappableToken = () => {\n  const networkName = useNetworkName()\n  const isClassic = useIsClassic()\n  const { data: pairs } = useCW20Pairs()\n  const { data: TFMTokens } = useTFMTokens()\n\n  return (token: TerraAddress) => {\n    if (isDenomTerraNative(token)) return true\n    if (networkName === \"testnet\") return false\n    if (isClassic) {\n      if (!pairs) return false\n      const terraswapAvailableList = uniq(flatten(Object.values(pairs)))\n      return terraswapAvailableList.find(({ assets }) => assets.includes(token))\n    } else {\n      if (!TFMTokens) return false\n      return TFMTokens.find(({ contract_addr }) => token === contract_addr)\n    }\n  }\n}\n","import { useTranslation } from \"react-i18next\"\nimport { WithFetching } from \"components/feedback\"\nimport { Read, TokenIcon } from \"components/token\"\nimport AssetActions from \"./AssetActions\"\nimport styles from \"./Asset.module.scss\"\n\nexport interface Props extends TokenItem, QueryState {\n  balance?: Amount\n  value?: Value\n  hideActions?: boolean\n}\n\nconst Asset = (props: Props) => {\n  const { token, icon, symbol, balance, value, hideActions, ...state } = props\n  const { t } = useTranslation()\n\n  return (\n    <article className={styles.asset} key={token}>\n      <section className={styles.details}>\n        <TokenIcon token={token} icon={icon} size={22} />\n\n        <div>\n          <h1 className={styles.symbol}>{symbol}</h1>\n          <h2 className={styles.amount}>\n            <WithFetching {...state} height={1}>\n              {(progress, wrong) => (\n                <>\n                  {progress}\n                  {wrong ? (\n                    <span className=\"danger\">\n                      {t(\"Failed to query balance\")}\n                    </span>\n                  ) : (\n                    <Read {...props} amount={balance} token=\"\" />\n                  )}\n                </>\n              )}\n            </WithFetching>\n          </h2>\n        </div>\n      </section>\n\n      {!hideActions && <AssetActions {...props} />}\n    </article>\n  )\n}\n\nexport default Asset\n","import { useMinimumValue } from \"data/settings/MinimumValue\"\nimport { Select } from \"components/form\"\n\nconst SelectMinimumValue = () => {\n  const [value, set, list] = useMinimumValue()\n\n  return (\n    <Select value={value} onChange={(e) => set(Number(e.target.value))} small>\n      {list.map(({ value, label }) => (\n        <option value={value} key={value}>\n          {label}\n        </option>\n      ))}\n    </Select>\n  )\n}\n\nexport default SelectMinimumValue\n","import { useTranslation } from \"react-i18next\"\nimport BoltIcon from \"@mui/icons-material/Bolt\"\nimport { has } from \"utils/num\"\nimport { getAmount, sortByDenom } from \"utils/coin\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { useMinimumValue } from \"data/settings/MinimumValue\"\nimport { readNativeDenom } from \"data/token\"\nimport { useIsClassic } from \"data/query\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useIsWalletEmpty, useTerraNativeLength } from \"data/queries/bank\"\nimport { useActiveDenoms } from \"data/queries/oracle\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { InternalLink } from \"components/general\"\nimport { Card, Flex, Grid } from \"components/layout\"\nimport { FormError } from \"components/form\"\nimport Asset from \"./Asset\"\nimport SelectMinimumValue from \"./SelectMinimumValue\"\nimport styles from \"./Coins.module.scss\"\n\nconst Coins = () => {\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n  const length = useTerraNativeLength()\n  const isWalletEmpty = useIsWalletEmpty()\n  const { data: denoms, ...state } = useActiveDenoms()\n  const coins = useCoins(denoms)\n\n  const render = () => {\n    if (!coins) return\n\n    const [all, filtered] = coins\n    const list = isClassic ? filtered : all\n\n    return (\n      <>\n        <Grid gap={12}>\n          {isWalletEmpty && (\n            <FormError>{t(\"Coins required to post transactions\")}</FormError>\n          )}\n\n          {isClassic && (\n            <Flex className={styles.select}>\n              {!isWalletEmpty && <SelectMinimumValue />}\n            </Flex>\n          )}\n\n          <section>\n            {list.map(({ denom, ...item }) => (\n              <Asset\n                {...readNativeDenom(denom, isClassic)}\n                {...item}\n                key={denom}\n              />\n            ))}\n          </section>\n        </Grid>\n      </>\n    )\n  }\n\n  const extra = isClassic && (\n    <InternalLink\n      icon={<BoltIcon style={{ fontSize: 18 }} />}\n      to=\"/swap/multiple\"\n      disabled={length < 2}\n    >\n      {t(\"Swap multiple coins\")}\n    </InternalLink>\n  )\n\n  return (\n    <Card {...state} title={t(\"Coins\")} extra={extra}>\n      <Grid gap={32}>{render()}</Grid>\n    </Card>\n  )\n}\n\nexport default Coins\n\n/* hooks */\nexport const useCoins = (denoms?: Denom[]) => {\n  const currency = useCurrency()\n  const bankBalance = useBankBalance()\n  const [minimumValue] = useMinimumValue()\n  const calcValue = useMemoizedCalcValue()\n  const calcValueByUST = useMemoizedCalcValue(\"uusd\")\n\n  if (!denoms) return\n\n  const nativeTokenValues = denoms\n    .map((denom) => {\n      const balance = getAmount(bankBalance, denom)\n      const value = calcValue({ amount: balance, denom }) ?? 0\n      const valueByUST = calcValueByUST({ amount: balance, denom }) ?? 0\n      return { denom, balance, value: value, $: valueByUST }\n    })\n    .filter(\n      ({ denom, balance }) => [\"uluna\", \"uusd\"].includes(denom) || has(balance)\n    )\n\n  const coins = sortByDenom(\n    nativeTokenValues,\n    currency,\n    ({ $: a }, { $: b }) => b - a\n  )\n\n  return [coins, coins.filter(({ $ }) => $ >= minimumValue * 1e6)] as const\n}\n","import { ReactNode } from \"react\"\nimport { getAmount } from \"utils/coin\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { WithTokenItem } from \"data/token\"\nimport { Props as AssetProps } from \"./Asset\"\n\ninterface Props {\n  denom: IBCDenom\n  children: (item: AssetProps) => ReactNode\n}\n\nconst IBCAsset = ({ denom, children: render }: Props) => {\n  const bankBalance = useBankBalance()\n  const balance = getAmount(bankBalance, denom)\n\n  return (\n    <WithTokenItem token={denom} key={denom}>\n      {(item) => render({ ...item, balance })}\n    </WithTokenItem>\n  )\n}\n\nexport default IBCAsset\n","import { ReactNode } from \"react\"\nimport { useTokenBalance } from \"data/queries/wasm\"\nimport { Props as AssetProps } from \"./Asset\"\n\ninterface Props extends TokenItem {\n  children: (item: AssetProps) => ReactNode\n}\n\nconst CW20Asset = ({ children: render, ...item }: Props) => {\n  const { token } = item\n  const { data: balance, ...state } = useTokenBalance(token)\n  return <>{render({ ...item, ...state, balance })}</>\n}\n\nexport default CW20Asset\n","import { useQuery } from \"react-query\"\nimport axios, { AxiosError } from \"axios\"\nimport { fromPairs, toPairs } from \"ramda\"\nimport { flatten, groupBy, map, mergeAll, values } from \"ramda\"\n//import { AccAddress } from \"@terra-money/terra.js\"\nimport { ASSETS } from \"config/constants\"\nimport shuffle from \"utils/shuffle\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useNetworkName } from \"../wallet\"\n\nconst config = { baseURL: ASSETS }\n\nexport const useOpzAssets = <T>(path: string, callback?: (data: T) => T) => {\n  return useQuery<T, AxiosError>(\n    [queryKey.TerraAssets, path],\n    async () => {\n      const { data } = await axios.get<T>(path, config)\n      return callback?.(data) ?? data\n    },\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\nexport const useOpzAssetsByNetwork = <T>(\n  path: string,\n  disabled = false,\n  callback?: (data: T) => T\n) => {\n  const networkName = useNetworkName()\n\n  return useQuery<T | undefined, AxiosError>(\n    [queryKey.TerraAssets, path, networkName],\n    async () => {\n      const { data } = await axios.get<Record<NetworkName, T>>(path, config)\n      if (!data[networkName]) return {} as T\n      return callback?.(data[networkName]) ?? data[networkName]\n    },\n    { ...RefetchOptions.INFINITY, enabled: !disabled }\n  )\n}\n\nexport const useOpzIBCWhitelist = () => {\n  return useOpzAssetsByNetwork<IBCWhitelist>(\"ibc/moneies.json\")\n}\n\nexport const useOpzCW20Whitelist = (disabled = false) => {\n  return useOpzAssetsByNetwork<CW20Whitelist>(\n    \"cw20/moneies.json\",\n    disabled,\n    (data) => sortWhitelistCW20(shuffleByProtocol(data))\n  )\n}\n\n/* helpers */\n\nconst sortWhitelistCW20 = (data: CW20Whitelist) => {\n  const sorted = toPairs(data).sort(\n    ([, a], [, b]) =>\n      Number(b.symbol === \"ANC\") - Number(a.symbol === \"ANC\") ||\n      Number(b.protocol === \"Anchor\") - Number(a.protocol === \"Anchor\") ||\n      Number(b.symbol === \"MIR\") - Number(a.symbol === \"MIR\") ||\n      Number(b.protocol === \"Mirror\") - Number(a.protocol === \"Mirror\")\n  )\n\n  return fromPairs(\n    sorted.map(([t, { decimals, ...item }]) => {\n      return [t, { ...item, decimals: decimals ?? 6 }]\n    })\n  )\n}\n\nexport const shuffleByProtocol = <T extends CW20Whitelist | CW721Whitelist>(\n  array: T\n) => {\n  const shuffledPair = shuffle(\n    toPairs(\n      groupBy(([, { protocol, name }]) => protocol ?? name, toPairs(array))\n    )\n  )\n\n  return mergeAll(flatten(map(fromPairs, values(fromPairs(shuffledPair)))))\n}\n","import { ReactNode, useState } from \"react\"\nimport { Grid } from \"components/layout\"\nimport { SearchInput } from \"components/form\"\n\ninterface Props {\n  gap?: number\n  children: (input: string) => ReactNode\n}\n\nconst WithSearchInput = ({ gap, children }: Props) => {\n  const [input, setInput] = useState(\"\")\n\n  return (\n    <Grid gap={gap ?? 20}>\n      <SearchInput\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        autoFocus\n      />\n      {children(input)}\n    </Grid>\n  )\n}\n\nexport default WithSearchInput\n","import { isNil } from \"ramda\"\nimport { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport CheckIcon from \"@mui/icons-material/Check\"\nimport { truncate } from \"@terra.kitchen/utils\"\nimport { FinderLink } from \"components/general\"\nimport { Token } from \"components/token\"\nimport styles from \"./TokenItem.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nexport interface TokenItemProps {\n  token: Token\n  title: string // ibc:symbol | cw20:symbol | cw721:name\n  icon?: string\n  contract?: TerraAddress // cw20 | cw721\n  decimals?: number\n  key: string\n}\n\ninterface Props extends TokenItemProps {\n  added: boolean\n  onAdd: () => void\n  onRemove: () => void\n}\n\nconst TokenItem = ({ added, onAdd, onRemove, ...props }: Props) => {\n  const { token, contract, decimals, ...rest } = props\n  const { t } = useTranslation()\n\n  const link = contract && (\n    <FinderLink value={contract}>\n      {truncate(contract)}\n      {!isNil(decimals) && `(${t(\"decimals\")}: ${decimals ?? \"6\"})`}\n    </FinderLink>\n  )\n\n  return (\n    <Token\n      {...rest}\n      className={styles.item}\n      token={token}\n      description={link}\n      extra={\n        <button\n          type=\"button\"\n          className={cx(styles.button, { added })}\n          onClick={added ? onRemove : onAdd}\n        >\n          {added ? (\n            <CheckIcon style={{ fontSize: 16 }} />\n          ) : (\n            <AddIcon style={{ fontSize: 16 }} />\n          )}\n        </button>\n      }\n    />\n  )\n}\n\nexport default TokenItem\n","import { Flex } from \"components/layout\"\nimport { Fetching, Empty } from \"components/feedback\"\nimport TokenItem, { TokenItemProps } from \"./TokenItem\"\nimport styles from \"./TokenList.module.scss\"\n\ninterface Props<T> extends QueryState {\n  results: T[]\n  renderTokenItem: (item: T) => TokenItemProps\n\n  /* manage tokens */\n  list: T[]\n  getIsAdded: (item: T) => boolean\n  add: (item: T) => void\n  remove: (item: T) => void\n}\n\nfunction TokenList<T extends { symbol: string }>(props: Props<T>) {\n  const { list, getIsAdded, add, remove, ...rest } = props\n  const { results, renderTokenItem, ...state } = rest\n  const empty = !state.isLoading && !results.length\n\n  return state.error || empty ? (\n    <Flex className={styles.results}>\n      <Empty />\n    </Flex>\n  ) : (\n    <Fetching {...state} height={2}>\n      <ul className={styles.results}>\n        {results\n          .sort((a, b) => Number(getIsAdded(b)) - Number(getIsAdded(a)))\n          .map((item) => {\n            const tokenItem = renderTokenItem(item)\n            return (\n              <li key={tokenItem.key}>\n                <TokenItem\n                  {...tokenItem}\n                  added={getIsAdded(item)}\n                  onAdd={() => add(item)}\n                  onRemove={() => remove(item)}\n                />\n              </li>\n            )\n          })}\n      </ul>\n    </Fetching>\n  )\n}\n\nexport default TokenList\n","import { useQuery } from \"react-query\"\nimport axios from \"axios\"\nimport BigNumber from \"bignumber.js\"\nimport { isFuture, isPast } from \"date-fns\"\nimport { last } from \"ramda\"\nimport { useAddress } from \"../wallet\"\nimport { useLCDClient } from \"./lcdClient\"\n\n/* types */\ninterface Coin {\n  denom: string\n  amount: string\n}\n\ninterface BaseResponse {\n  base_vesting_account: {\n    original_vesting: Coin[]\n    delegated_free: Coin[]\n    delegated_vesting: Coin[]\n    end_time: string\n  }\n}\n\nexport enum VestingAccountTypes {\n  Continuous = \"/cosmos.vesting.v1beta1.ContinuousVestingAccount\",\n  Delayed = \"/cosmos.vesting.v1beta1.DelayedVestingAccount\",\n  Periodic = \"/cosmos.vesting.v1beta1.PeriodicVestingAccount\",\n}\n\ninterface ContinuousResponse extends BaseResponse {\n  \"@type\": VestingAccountTypes.Continuous\n  start_time: string\n}\n\ninterface DelayedResponse extends BaseResponse {\n  \"@type\": VestingAccountTypes.Delayed\n}\n\ninterface PeriodicResponse extends BaseResponse {\n  \"@type\": VestingAccountTypes.Periodic\n  start_time: string\n  vesting_periods: { length: string; amount: Coin[] }[]\n}\n\nexport type Account = ContinuousResponse | DelayedResponse | PeriodicResponse\n\nexport interface ParsedVestingSchedule {\n  type: \"Continuous\" | \"Delayed\" | \"Periodic\"\n  schedule: VestingScheduleItem[]\n  amount: { total: string; vested: string }\n}\n\ninterface VestingScheduleItem {\n  start?: Date\n  end: Date\n  toNow: \"past\" | \"now\" | \"future\"\n  amount: string\n  ratio?: number\n}\n\n/* helpers */\nconst getLunaAmount = (coins: Coin[]) =>\n  coins.find(({ denom }) => denom === \"uluna\")?.amount ?? \"0\"\n\nconst getCurrentAmount = ({ start, end, amount }: VestingScheduleItem) => {\n  if (!start) throw new Error(\"Start date is not defined\")\n  const total = end.getTime() - start.getTime()\n  const current = Date.now() - start.getTime()\n  const ratio = new BigNumber(current).div(total)\n  return new BigNumber(amount).times(ratio).toString()\n}\n\nconst getVested = (schedule: VestingScheduleItem[]) =>\n  schedule.reduce((acc, cur) => {\n    const { toNow, amount } = cur\n\n    if (toNow === \"past\") return new BigNumber(acc).plus(amount).toString()\n    if (toNow === \"now\")\n      return new BigNumber(acc).plus(getCurrentAmount(cur)).toString()\n\n    return acc\n  }, \"0\")\n\n/* parse */\nexport const parseVestingSchedule = (\n  response: Account\n): ParsedVestingSchedule => {\n  if (response[\"@type\"] === VestingAccountTypes.Continuous) {\n    const { base_vesting_account, start_time } = response\n    const { original_vesting, end_time } = base_vesting_account\n\n    const start = new Date(Number(start_time) * 1000)\n    const end = new Date(Number(end_time) * 1000)\n    const toNow = isFuture(start) ? \"future\" : isPast(end) ? \"past\" : \"now\"\n    const amount = getLunaAmount(original_vesting)\n    const total = getLunaAmount(original_vesting)\n    const schedule = [{ start, end, toNow, amount } as const]\n\n    return {\n      type: \"Continuous\",\n      schedule,\n      amount: { total, vested: getVested(schedule) },\n    }\n  } else if (response[\"@type\"] === VestingAccountTypes.Delayed) {\n    const { base_vesting_account } = response\n    const { original_vesting, end_time } = base_vesting_account\n\n    const end = new Date(Number(end_time) * 1000)\n    const toNow = isPast(end) ? \"past\" : \"future\"\n    const amount = getLunaAmount(original_vesting)\n    const total = getLunaAmount(original_vesting)\n    const schedule = [{ end, toNow, amount } as const]\n\n    return {\n      type: \"Delayed\",\n      schedule,\n      amount: { total, vested: getVested(schedule) },\n    }\n  }\n\n  const { base_vesting_account, vesting_periods, start_time } = response\n  const { original_vesting } = base_vesting_account\n\n  const total = getLunaAmount(original_vesting)\n\n  const schedule = vesting_periods.reduce<VestingScheduleItem[]>(\n    (acc, { length, amount: coins }) => {\n      const start = last(acc)?.end ?? new Date(Number(start_time) * 1000)\n      const end = new Date(start.getTime() + Number(length) * 1000)\n      const toNow = isFuture(start) ? \"future\" : isPast(end) ? \"past\" : \"now\"\n      const amount = getLunaAmount(coins)\n      const ratio = Number(amount) / Number(total)\n      return [...acc, { start, end, toNow, amount, ratio }]\n    },\n    []\n  )\n\n  return {\n    type: \"Periodic\",\n    schedule,\n    amount: { total, vested: getVested(schedule) },\n  }\n}\n\n/* query */\nexport const queryAccounts = async (address: string, lcd: string) => {\n  const path = \"cosmos/auth/v1beta1/accounts\"\n  const { data } = await axios.get<{ account: Account }>(\n    [path, address].join(\"/\"),\n    { baseURL: lcd }\n  )\n\n  return data.account\n}\n\nexport const useAccount = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return useQuery([\"accounts\", address], async () => {\n    if (!address) return null\n    return await queryAccounts(address, lcd.config.URL)\n  })\n}\n\nexport const isVestingAccount = (data: any) => {\n  return Object.values(VestingAccountTypes).includes(data[\"@type\"])\n}\n","import { AccAddress } from \"@terra-money/terra.js\"\nimport { combineState } from \"data/query\"\nimport { useCustomTokensIBC } from \"data/settings/CustomTokens\"\nimport { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\nimport { useIBCWhitelist, useCW20Whitelist } from \"data/Terra/TerraAssets\"\nimport { useOpzCW20Whitelist, useOpzIBCWhitelist } from \"data/moneies/OpzAssets\"\nimport { useTokenInfoCW20 } from \"data/queries/wasm\"\nimport { Fetching } from \"components/feedback\"\nimport WithSearchInput from \"./WithSearchInput\"\nimport TokenList from \"./TokenList\"\n\ninterface Props {\n  whitelist: { ibc: IBCWhitelist; cw20: CW20Whitelist }\n  keyword: string\n}\n\nconst Component = ({ whitelist, keyword }: Props) => {\n  let ibc = useCustomTokensIBC()\n  let cw20 = useCustomTokensCW20()\n  let cw20s = whitelist.cw20\n  let ibcs = whitelist.ibc\n  const { data: opzibc } = useOpzIBCWhitelist()\n  const { data: opzcw20 } = useOpzCW20Whitelist()\n\n  if (cw20s && opzcw20) {\n    const cw20arr = Object.values<CW20TokenItem>(cw20s)\n    const opzcw20arr = Object.values<CW20TokenItem>(opzcw20)\n    const cw20arr_ = cw20arr.filter(\n      (obj) => !opzcw20arr.some((obj_) => obj.token === obj_.token)\n    )\n    cw20s = cw20arr_.reduce((result: Record<string, {}>, obj) => {\n      result[obj.token] = obj\n      return result\n    }, {}) as CW20Whitelist\n    cw20.list = cw20arr_\n  }\n\n  if (ibcs && opzibc) {\n    const ibcarr = Object.values<IBCTokenItem>(ibcs)\n    const opzibcarr = Object.values<IBCTokenItem>(opzibc)\n    const ibcarr_ = ibcarr.filter(\n      (obj) => !opzibcarr.some((obj_) => obj.denom === obj_.denom)\n    )\n    ibcs = ibcarr_.reduce((result: Record<string, {}>, obj) => {\n      result[obj.denom] = obj\n      return result\n    }, {}) as IBCWhitelist\n    ibc.list = ibcarr_\n  }\n\n  type AddedIBC = Record<string, IBCTokenItem>\n  type AddedCW20 = Record<TerraAddress, CW20TokenItem>\n  const added = {\n    ibc: ibc.list.reduce<AddedIBC>(\n      (acc, item) => ({ ...acc, [item.denom.replace(\"ibc/\", \"\")]: item }),\n      {}\n    ),\n    cw20: cw20.list.reduce<AddedCW20>(\n      (acc, item) => ({ ...acc, [item.token]: item }),\n      {}\n    ),\n  }\n\n  const merged = {\n    ...added.ibc,\n    ...added.cw20,\n    ...ibcs,\n    ...cw20s,\n  }\n\n  // if listed\n  const listedItem = merged[keyword]\n\n  // if not listed\n  const { data: tokenInfo, ...state } = useTokenInfoCW20(\n    !listedItem ? keyword : \"\"\n  )\n\n  const responseItem = tokenInfo ? { token: keyword, ...tokenInfo } : undefined\n\n  // conclusion\n  const result = listedItem ?? responseItem\n\n  const results = AccAddress.validate(keyword)\n    ? result\n      ? [result]\n      : []\n    : Object.values(merged).filter((item) => {\n        if (\"base_denom\" in item) {\n          // IBC\n          const { base_denom } = item\n          return base_denom.includes(keyword.toLowerCase())\n        } else {\n          // CW20\n          const { symbol, name } = item\n          return [symbol, name].some((word) =>\n            word?.toLowerCase().includes(keyword.toLowerCase())\n          )\n        }\n      })\n\n  const manage = {\n    list: [...ibc.list, ...cw20.list],\n    getIsAdded: (item: CustomTokenIBC | CustomTokenCW20) => {\n      if (\"base_denom\" in item) return ibc.getIsAdded(item)\n      else return cw20.getIsAdded(item)\n    },\n    add: (item: CustomTokenIBC | CustomTokenCW20) => {\n      if (\"base_denom\" in item) return ibc.add(item)\n      else return cw20.add(item)\n    },\n    remove: (item: CustomTokenIBC | CustomTokenCW20) => {\n      if (\"base_denom\" in item) return ibc.remove(item)\n      else return cw20.remove(item)\n    },\n  }\n\n  const renderTokenItem = (item: CustomTokenIBC | CustomTokenCW20) => {\n    if (\"base_denom\" in item) {\n      const { symbol, denom, ...rest } = item\n      return { ...rest, token: denom, title: symbol, key: denom }\n    } else {\n      const { token, symbol, ...rest } = item\n      return { ...rest, token, title: symbol, contract: token, key: token }\n    }\n  }\n\n  return (\n    <TokenList\n      {...state}\n      {...manage}\n      results={results}\n      renderTokenItem={renderTokenItem}\n    />\n  )\n}\n\nconst ManageCustomTokens = () => {\n  const { data: ibc, ...ibcWhitelistState } = useIBCWhitelist()\n  const { data: cw20, ...cw20WhitelistState } = useCW20Whitelist()\n\n  const state = combineState(ibcWhitelistState, cw20WhitelistState)\n\n  const render = () => {\n    if (!(ibc && cw20)) return null\n\n    return (\n      <WithSearchInput>\n        {(input) => <Component whitelist={{ ibc, cw20 }} keyword={input} />}\n      </WithSearchInput>\n    )\n  }\n\n  return (\n    <Fetching {...state} height={2}>\n      {render()}\n    </Fetching>\n  )\n}\n\nexport default ManageCustomTokens\n","import { useTranslation } from \"react-i18next\"\nimport { RenderButton } from \"types/components\"\nimport { ModalButton } from \"components/feedback\"\nimport ManageCustomTokens from \"../custom/ManageCustomTokens\"\n\ninterface Props {\n  children: RenderButton\n}\n\nconst AddTokens = ({ children: renderButton }: Props) => {\n  const { t } = useTranslation()\n\n  return (\n    <ModalButton title={t(\"Manage list\")} renderButton={renderButton}>\n      <ManageCustomTokens />\n    </ModalButton>\n  )\n}\n\nexport default AddTokens\n","import { useTranslation } from \"react-i18next\"\nimport { useCustomTokensIBC } from \"data/settings/CustomTokens\"\nimport { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\nimport { InternalButton } from \"components/general\"\nimport { Card } from \"components/layout\"\nimport IBCAsset from \"./IBCAsset\"\nimport CW20Asset from \"./CW20Asset\"\nimport AddTokens from \"./AddTokens\"\nimport Asset from \"./Asset\"\nimport { useCW20Whitelist, useIBCWhitelist } from \"data/Terra/TerraAssets\"\nimport { useOpzCW20Whitelist, useOpzIBCWhitelist } from \"data/moneies/OpzAssets\"\n\nconst Tokens = () => {\n  const { t } = useTranslation()\n  let { list: ibc } = useCustomTokensIBC()\n  let { list: cw20 } = useCustomTokensCW20()\n  const { data: ibcs } = useIBCWhitelist()\n  const { data: cw20s } = useCW20Whitelist()\n  const { data: opzibc } = useOpzIBCWhitelist()\n  const { data: opzcw20 } = useOpzCW20Whitelist()\n\n  const render = () => {\n    if (!ibc.length && !cw20.length && !cw20s && !ibcs && opzcw20 && opzibc)\n      return null\n\n    if (cw20s && opzcw20) {\n      const cw20arr = Object.values<CW20TokenItem>(cw20s)\n      const opzcw20arr = Object.values<CW20TokenItem>(opzcw20)\n      const cw20arr_ = cw20arr.filter(\n        (obj) => !opzcw20arr.some((obj_) => obj.token === obj_.token)\n      )\n      const res = cw20.filter((obj) => {\n        return cw20arr_.some((tokenObj) => tokenObj.token === obj.token)\n      })\n      cw20 = res\n    }\n\n    if (ibcs && opzibc) {\n      const ibcarr = Object.values<IBCTokenItem>(ibcs)\n      const opzibcarr = Object.values<IBCTokenItem>(opzibc)\n      const ibcarr_ = ibcarr.filter(\n        (obj) => !opzibcarr.some((obj_) => obj.denom === obj_.denom)\n      )\n      const res = ibc.filter((obj) => {\n        return ibcarr_.some((tokenObj) => tokenObj.denom === obj.denom)\n      })\n      ibc = res\n    }\n\n    return (\n      <>\n        {!ibc.length\n          ? null\n          : ibc.map(({ denom }) => (\n              <IBCAsset denom={denom} key={denom}>\n                {(item) => <Asset {...item} />}\n              </IBCAsset>\n            ))}\n        {!cw20.length\n          ? null\n          : cw20.map((item) => (\n              <CW20Asset {...item} key={item.token}>\n                {(item) => <Asset {...item} />}\n              </CW20Asset>\n            ))}\n      </>\n    )\n  }\n\n  return (\n    <Card\n      title={t(\"Tokens\")}\n      extra={\n        <AddTokens>\n          {(open) => (\n            <InternalButton onClick={open} chevron>\n              {t(\"Add tokens\")}\n            </InternalButton>\n          )}\n        </AddTokens>\n      }\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default Tokens\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTerraLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 40 40\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M32.28 21.14a2.18 2.18 0 0 1 1.9 1.09c.79 1.41.38 3.87-1 6.26-3.06 5.07-8.5 6.41-9.25 6.56-1.04-.04-3.95-2.09-4.8-5.22a3.18 3.18 0 0 1 .55-2.76c2.65-3.72 11.37-5.74 12.6-5.92Zm-.07-1.49c-.82.08-10.59 2.13-13.76 6.56a4.58 4.58 0 0 0-.78 4.03c1 3.7 4.44 6.34 6.26 6.34h.11c.08 0 6.72-1.23 10.37-7.3 1.72-2.88 2.12-5.82 1.04-7.76a3.62 3.62 0 0 0-3.24-1.87ZM21.17 5c3.3 0 6.5 1.08 9.14 3.06l.63.52.04.04c1.23.96 1.98 3.61 1.75 6.15-.15 1.6-.63 2.35-.82 2.5a1.5 1.5 0 0 1-.34-.19l-.4-.3h-.45c-6.94 0-17.19-2.98-18.87-6.3-.26-.48-.37-1.12.37-2.13.4-.52.88-.97 1.42-1.34l.3-.18.15-.08h.04l.9-.45A16.38 16.38 0 0 1 21.16 5Zm0-1.5a16.67 16.67 0 0 0-7.75 1.95c-.23.11-.45.26-.67.37h.03c-.67.45-1.26 1-1.75 1.64-4.73 6.26 11.15 10.81 19.69 10.85.35.29.78.46 1.23.49 2.87 0 3.35-8.73-.04-11.38a16.9 16.9 0 0 0-10.74-3.91Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M15.4 7.6c-2.17 3.29-9.44 5.6-10.67 5.23.04-.11.11-.19.15-.3.4-.81.87-1.58 1.42-2.31a18.8 18.8 0 0 1 3.8-3.77c.45-.33.93-.63 1.38-.93a5 5 0 0 1 2.42-.63c3.21.07 1.53 2.68 1.5 2.72M13.6 30.8c.15 1.04 0 5.1-.22 5.44-.19 0-.56.04-1.64-.6-.56-.33-1.12-.66-1.68-1.07-.72-.53-1.4-1.11-2.01-1.76a17.83 17.83 0 0 1-3.17-4.32 16.1 16.1 0 0 1-1.05-2.5c-.3-.87-.52-1.77-.67-2.68a16.83 16.83 0 0 1 .68-8.36c.07-.18.1-.33.18-.52 1.27 1.68 2.72 3.2 3.95 4.89 1.2 1.6 2.8 4.21 3.14 4.77 2.01 3.54 2.35 5.7 2.5 6.71Zm24.2-10.25c0 2.19-.4 4.36-1.2 6.41-2.04 2.2-15.87-3.2-16.02-3.28-1.9-.82-7.65-3.36-8.17-7.3-.74-5.71 10.81-9.7 15.92-9.85.6 0 2.46.03 3.54.9a17.42 17.42 0 0 1 5.93 13.12Zm-9.36 15.43c-1.52.71-3.17.19-2.72-1.26.82-2.84 8.06-5.7 9.66-5.9.19 0 .3.12.19.27a17.61 17.61 0 0 1-7.13 6.9Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTerraLine);\nexport default __webpack_public_path__ + \"static/media/TerraLine.1bc5b483.svg\";\nexport { ForwardRef as ReactComponent };","import { ParsedVestingSchedule } from \"data/queries/vesting\"\nimport { Table } from \"components/layout\"\nimport { Read, ReadPercent } from \"components/token\"\n\nconst VestingScheduleTable = ({ type, schedule }: ParsedVestingSchedule) => {\n  return (\n    <Table\n      columns={[\n        {\n          title: \"Period\",\n          key: \"index\",\n          render: (_, __, index) => index + 1,\n          hidden: type !== \"Periodic\",\n        },\n        {\n          title: \"Release date\",\n          key: \"date\",\n          render: (_, { start, end }) => {\n            return [start?.toLocaleDateString(), end.toLocaleDateString()]\n              .filter(Boolean)\n              .join(\" - \")\n          },\n        },\n        {\n          title: \"Amount\",\n          dataIndex: \"amount\",\n          render: (value) => <Read amount={value} />,\n          align: \"right\",\n        },\n        {\n          title: \"Ratio\",\n          dataIndex: \"ratio\",\n          render: (value) => <ReadPercent>{value}</ReadPercent>,\n          align: \"right\",\n          hidden: type !== \"Periodic\",\n        },\n      ]}\n      dataSource={schedule}\n      size=\"small\"\n      bordered\n    />\n  )\n}\n\nexport default VestingScheduleTable\n","import { useTranslation } from \"react-i18next\"\nimport { useIsClassic } from \"data/query\"\nimport { isVestingAccount, useAccount } from \"data/queries/vesting\"\nimport { parseVestingSchedule } from \"data/queries/vesting\"\nimport { readNativeDenom } from \"data/token\"\nimport { Card } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport Asset from \"./Asset\"\nimport VestingScheduleTable from \"./VestingScheduleTable\"\nimport styles from \"./Vesting.module.scss\"\n\nconst Vesting = () => {\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n  const { data, ...state } = useAccount()\n\n  if (!data) return null\n  if (!isVestingAccount(data)) return null\n\n  const schedule = parseVestingSchedule(data)\n\n  return (\n    <Card {...state} title={t(\"Vesting\")}>\n      <Asset\n        {...readNativeDenom(\"uluna\", isClassic)}\n        balance={schedule.amount.total}\n        hideActions\n      />\n\n      <section className={styles.amount}>\n        <dl>\n          <dt>{t(\"Vested\")}</dt>\n          <dd>\n            <Read amount={schedule.amount.vested} />\n          </dd>\n        </dl>\n      </section>\n\n      <VestingScheduleTable {...schedule} />\n    </Card>\n  )\n}\n\nexport default Vesting\n","import { useTranslation } from \"react-i18next\"\nimport PaymentsOutlinedIcon from \"@mui/icons-material/PaymentsOutlined\"\nimport ChevronRight from \"@mui/icons-material/ChevronRight\"\nimport { InternalLink } from \"components/general\"\nimport { Card, Flex, Grid } from \"components/layout\"\nimport styles from \"./DelegationsPromote.module.scss\"\n\nconst DelegationsPromote = ({ horizontal }: { horizontal?: boolean }) => {\n  const { t } = useTranslation()\n\n  return (\n    <Card>\n      <article className={horizontal ? styles.horizontal : styles.vertical}>\n        <Flex>\n          <PaymentsOutlinedIcon style={{ fontSize: 56 }} />\n        </Flex>\n\n        <section className={styles.main}>\n          <h1 className={styles.title}>{t(\"Staking rewards\")}</h1>\n\n          <Grid gap={8}>\n            <p>{t(\"Stake Luna and earn rewards\")}</p>\n\n            {!horizontal && (\n              <InternalLink to=\"/stake\">\n                {t(\"Delegate now\")}\n                <ChevronRight fontSize=\"inherit\" />\n              </InternalLink>\n            )}\n          </Grid>\n        </section>\n      </article>\n    </Card>\n  )\n}\n\nexport default DelegationsPromote\n","import { useTranslation } from \"react-i18next\"\nimport DownloadIcon from \"@mui/icons-material/Download\"\nimport { has } from \"utils/num\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { combineState } from \"data/query\"\nimport { calcRewardsValues, useRewards } from \"data/queries/distribution\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { calcDelegationsTotal } from \"data/queries/staking\"\nimport { calcUnbondingsTotal } from \"data/queries/staking\"\nimport { useDelegations, useUnbondings } from \"data/queries/staking\"\nimport { LinkButton } from \"components/general\"\nimport { Card, Grid } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport DelegationsPromote from \"app/containers/DelegationsPromote\"\nimport styles from \"./Rewards.module.scss\"\n\nconst Rewards = () => {\n  const { t } = useTranslation()\n\n  const currency = useCurrency()\n  const calcValue = useMemoizedCalcValue()\n\n  const { data: rewards, ...rewardsState } = useRewards()\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const { data: unbondings, ...unbondingsState } = useUnbondings()\n  const state = combineState(rewardsState, delegationsState, unbondingsState)\n\n  const render = () => {\n    if (!(rewards && delegations && unbondings)) return null\n\n    const rewardsValues = calcRewardsValues(rewards, currency, calcValue)\n    const delegationTotal = calcDelegationsTotal(delegations)\n    const unbondingsTotal = calcUnbondingsTotal(unbondings)\n\n    const { total } = rewardsValues\n    const { list } = total\n    const amount = list.find(({ denom }) => denom === \"uluna\")?.amount ?? \"0\"\n\n    return !delegations.length ? (\n      <DelegationsPromote />\n    ) : (\n      <Card {...state} title={t(\"Staking rewards\")}>\n        <Grid gap={28}>\n          <div>\n            <Read className={styles.total} amount={amount} denom=\"uluna\" />{\" \"}\n            <span className={styles.small}>\n              {list.length > 1 &&\n                `+${t(\"{{length}} coins\", { length: list.length - 1 })}`}\n            </span>\n          </div>\n\n          {has(delegationTotal) && (\n            <Grid gap={4}>\n              <h1>{t(\"Delegations\")}</h1>\n              <Read\n                className={styles.number}\n                amount={delegationTotal}\n                denom=\"uluna\"\n              />\n            </Grid>\n          )}\n\n          {has(unbondingsTotal) && (\n            <Grid gap={4}>\n              <h1>{t(\"Undelegations\")}</h1>\n              <Read\n                className={styles.number}\n                amount={unbondingsTotal}\n                denom=\"uluna\"\n              />\n            </Grid>\n          )}\n\n          <LinkButton\n            icon={<DownloadIcon style={{ fontSize: 18 }} />}\n            to=\"/rewards\"\n            disabled={!has(rewardsValues?.total.sum)}\n            block\n          >\n            {t(\"Withdraw rewards\")}\n          </LinkButton>\n        </Grid>\n      </Card>\n    )\n  }\n\n  return render()\n}\n\nexport default Rewards\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTerra(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 80 80\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"fill-primary-dark\",\n    d: \"M34.4 62.108c2.192 8.109 10.056 14.3 14.027 14.041.14-.009 15.064-2.791 23.234-16.442 6.358-10.623 4.193-20.878-4.454-21.1-3.111.227-36.984 8.053-32.807 23.5m32.006-52.084-.009-.008.012-.007a37.951 37.951 0 0 0-40-5.772A22.386 22.386 0 0 0 24 5.414c-.532.283-1.065.565-1.582.873l.126.039a17.255 17.255 0 0 0-4 3.792C7.649 24.509 44.159 34.969 63.679 35c8.98 6.45 11.501-18.147 2.727-24.977Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"fill-primary-light\",\n    d: \"M28.609 10.315C23.6 17.853 6.888 23.165 4.14 22.338l-.018-.038c.112-.227.227-.453.343-.678a40.2 40.2 0 0 1 11.913-13.9q1.542-1.131 3.193-2.114a11.823 11.823 0 0 1 5.523-1.468c7.44.142 3.555 6.115 3.515 6.175M24.5 63.591c.36 2.369-.009 11.725-.494 12.514-.417.025-1.286.078-3.8-1.334A40.054 40.054 0 0 1 2.039 27.364q.2-.6.42-1.2C5.346 30 8.683 33.47 11.52 37.344c2.7 3.688 6.417 9.7 7.173 10.986 4.7 7.976 5.444 12.9 5.8 15.261M80 40.007A39.9 39.9 0 0 1 77.216 54.7c-4.711 5.063-36.477-7.4-36.788-7.538-4.346-1.9-17.57-7.7-18.763-16.8C19.949 17.273 46.509 8.15 58.181 7.8c1.4.017 5.659.066 8.142 2.083A39.911 39.911 0 0 1 80 40.007M58.5 75.486c-3.463 1.616-7.275.439-6.285-2.933 1.9-6.476 18.507-13.115 22.174-13.475.452-.045.644.263.444.615A40.4 40.4 0 0 1 58.5 75.486\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTerra);\nexport default __webpack_public_path__ + \"static/media/Terra.bda54a02.svg\";\nexport { ForwardRef as ReactComponent };","import { useTranslation } from \"react-i18next\"\nimport CallMadeIcon from \"@mui/icons-material/CallMade\"\nimport { ReactComponent as Logo } from \"styles/images/TerraLine.svg\"\nimport { Card, Flex, Grid } from \"components/layout\"\n\nconst LinkEcosystem = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Card href=\"https://terra.money/ecosystem\">\n      <Flex start gap={16}>\n        <Logo width={40} height={40} />\n        <Grid style={{ flex: 1 }} gap={4}>\n          <h1>{t(\"Explore the Ecosystem\")}</h1>\n          <p className=\"small\">{t(\"Try out various dApps built on Terra\")}</p>\n        </Grid>\n        <CallMadeIcon />\n      </Flex>\n    </Card>\n  )\n}\n\nexport default LinkEcosystem\n","import { AccAddress } from \"@terra-money/terra.js\"\nimport { combineState } from \"data/query\"\nimport { useCustomTokensIBC } from \"data/settings/CustomTokens\"\nimport { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\nimport { useOpzIBCWhitelist, useOpzCW20Whitelist } from \"data/moneies/OpzAssets\"\nimport { useTokenInfoCW20 } from \"data/queries/wasm\"\nimport { Fetching } from \"components/feedback\"\nimport WithSearchInput from \"./WithSearchInput\"\nimport TokenList from \"./TokenList\"\n\ninterface Props {\n  whitelist: { ibc: IBCWhitelist; cw20: CW20Whitelist }\n  keyword: string\n}\n\nconst Component = ({ whitelist, keyword }: Props) => {\n  let ibc = useCustomTokensIBC()\n  let cw20 = useCustomTokensCW20()\n  const { data: ibcs } = useOpzIBCWhitelist()\n  const { data: cw20s } = useOpzCW20Whitelist()\n\n  if (cw20s) {\n    const arr = Object.values<CW20TokenItem>(cw20s)\n    const res = cw20.list.filter((obj) => {\n      return arr.some((tokenObj) => tokenObj.token === obj.token)\n    })\n    //\n    cw20.list = res\n  }\n\n  if (ibcs) {\n    const arr = Object.values<IBCTokenItem>(ibcs)\n    const res = ibc.list.filter((obj) => {\n      return arr.some((tokenObj) => tokenObj.denom === obj.denom)\n    })\n    //\n    ibc.list = res\n  }\n\n  type AddedIBC = Record<string, CustomTokenIBC>\n  type AddedCW20 = Record<TerraAddress, CustomTokenCW20>\n  const added = {\n    ibc: ibc.list.reduce<AddedIBC>(\n      (acc, item) => ({ ...acc, [item.denom.replace(\"ibc/\", \"\")]: item }),\n      {}\n    ),\n    cw20: cw20.list.reduce<AddedCW20>(\n      (acc, item) => ({ ...acc, [item.token]: item }),\n      {}\n    ),\n  }\n\n  const merged = {\n    ...added.ibc,\n    ...added.cw20,\n    ...whitelist.ibc,\n    ...whitelist.cw20,\n  }\n\n  // if listed\n  const listedItem = merged[keyword]\n\n  // if not listed\n  const { data: tokenInfo, ...state } = useTokenInfoCW20(\n    !listedItem ? keyword : \"\"\n  )\n\n  const responseItem = tokenInfo ? { token: keyword, ...tokenInfo } : undefined\n\n  // conclusion\n  const result = listedItem ?? responseItem\n\n  const results = AccAddress.validate(keyword)\n    ? result\n      ? [result]\n      : []\n    : Object.values(merged).filter((item) => {\n        if (\"base_denom\" in item) {\n          // IBC\n          const { base_denom } = item\n          return base_denom.includes(keyword.toLowerCase())\n        } else {\n          // CW20\n          const { symbol, name } = item\n          return [symbol, name].some((word) =>\n            word?.toLowerCase().includes(keyword.toLowerCase())\n          )\n        }\n      })\n\n  const manage = {\n    list: [...ibc.list, ...cw20.list],\n    getIsAdded: (item: CustomTokenIBC | CustomTokenCW20) => {\n      if (\"base_denom\" in item) return ibc.getIsAdded(item)\n      else return cw20.getIsAdded(item)\n    },\n    add: (item: CustomTokenIBC | CustomTokenCW20) => {\n      if (\"base_denom\" in item) return ibc.add(item)\n      else return cw20.add(item)\n    },\n    remove: (item: CustomTokenIBC | CustomTokenCW20) => {\n      if (\"base_denom\" in item) return ibc.remove(item)\n      else return cw20.remove(item)\n    },\n  }\n\n  const renderTokenItem = (item: CustomTokenIBC | CustomTokenCW20) => {\n    if (\"base_denom\" in item) {\n      const { symbol, denom, ...rest } = item\n      return { ...rest, token: denom, title: symbol, key: denom }\n    } else {\n      const { token, symbol, ...rest } = item\n      return { ...rest, token, title: symbol, contract: token, key: token }\n    }\n  }\n\n  return (\n    <TokenList\n      {...state}\n      {...manage}\n      results={results}\n      renderTokenItem={renderTokenItem}\n    />\n  )\n}\n\nconst ManageCustomMoneies = () => {\n  const { data: ibc, ...ibcWhitelistState } = useOpzIBCWhitelist()\n  const { data: cw20, ...cw20WhitelistState } = useOpzCW20Whitelist()\n  const state = combineState(ibcWhitelistState, cw20WhitelistState)\n\n  const render = () => {\n    if (!(ibc && cw20)) return null\n\n    return (\n      <WithSearchInput>\n        {(input) => <Component whitelist={{ ibc, cw20 }} keyword={input} />}\n      </WithSearchInput>\n    )\n  }\n\n  return (\n    <Fetching {...state} height={2}>\n      {render()}\n    </Fetching>\n  )\n}\n\nexport default ManageCustomMoneies\n","import { useTranslation } from \"react-i18next\"\nimport { RenderButton } from \"types/components\"\nimport { ModalButton } from \"components/feedback\"\nimport ManageCustomMoneies from \"pages/custom/ManageCustomMoneies\"\n\ninterface Props {\n  children: RenderButton\n}\n\nconst AddMoneies = ({ children: renderButton }: Props) => {\n  const { t } = useTranslation()\n\n  return (\n    <ModalButton title={t(\"Manage list\")} renderButton={renderButton}>\n      <ManageCustomMoneies />\n    </ModalButton>\n  )\n}\n\nexport default AddMoneies\n","import { useTranslation } from \"react-i18next\"\nimport { useCustomTokensIBC } from \"data/settings/CustomTokens\"\nimport { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\nimport { InternalButton } from \"components/general\"\nimport { Card } from \"components/layout\"\nimport IBCAsset from \"./IBCAsset\"\nimport CW20Asset from \"./CW20Asset\"\nimport Asset from \"./Asset\"\nimport AddMoneies from \"./AddMoneies\"\nimport { useOpzCW20Whitelist, useOpzIBCWhitelist } from \"data/moneies/OpzAssets\"\n\nconst Moneies = () => {\n  const { t } = useTranslation()\n  let { list: ibc } = useCustomTokensIBC()\n  let { list: cw20 } = useCustomTokensCW20()\n  const { data: opzibc } = useOpzIBCWhitelist()\n  const { data: opzcw20 } = useOpzCW20Whitelist()\n\n  const render = () => {\n    if (!ibc.length && !cw20.length && !opzcw20 && !opzibc) return null\n\n    if (opzcw20) {\n      const arr = Object.values<CW20TokenItem>(opzcw20)\n      const res = cw20.filter((obj) => {\n        return arr.some((tokenObj) => tokenObj.token === obj.token)\n      })\n      //\n      cw20 = res\n    }\n\n    if (opzibc) {\n      const arr = Object.values<IBCTokenItem>(opzibc)\n      const res = ibc.filter((obj) => {\n        return arr.some((tokenObj) => tokenObj.denom === obj.denom)\n      })\n      //\n      ibc = res\n    }\n\n    return (\n      <>\n        {!ibc.length\n          ? null\n          : ibc.map(({ denom }) => (\n              <IBCAsset denom={denom} key={denom}>\n                {(item) => <Asset {...item} />}\n              </IBCAsset>\n            ))}\n        {!cw20.length\n          ? null\n          : cw20.map((item) => (\n              <CW20Asset {...item} key={item.token}>\n                {(item) => <Asset {...item} />}\n              </CW20Asset>\n            ))}\n      </>\n    )\n  }\n\n  return (\n    <Card\n      title={t(\"Moneies\")}\n      extra={\n        <AddMoneies>\n          {(open) => (\n            <InternalButton onClick={open} chevron>\n              {t(\"Add moneies\")}\n            </InternalButton>\n          )}\n        </AddMoneies>\n      }\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default Moneies\n","import { Auto, Page } from \"components/layout\"\nimport Coins from \"./Coins\"\nimport Tokens from \"./Tokens\"\nimport Vesting from \"./Vesting\"\n// eslint-disable-next-line\nimport Rewards from \"./Rewards\"\n// eslint-disable-next-line\nimport LinkEcosystem from \"./LinkEcosystem\"\nimport Moneies from \"./Moneies\"\n\nconst Wallet = () => {\n  return (\n    <Page title=\"Wallet\">\n      <Auto\n        columns={[\n          <>\n            <Coins />\n            <Vesting />\n            <Moneies />\n            <Tokens />\n          </>,\n          <>\n            <Rewards />\n            <LinkEcosystem />\n          </>,\n        ]}\n      />\n    </Page>\n  )\n}\n\nexport default Wallet\n","import { AccAddress } from \"@terra-money/terra.js\"\nimport { useCustomTokensCW721 } from \"data/settings/CustomTokens\"\nimport { useCW721Whitelist } from \"data/Terra/TerraAssets\"\nimport { useInitMsg } from \"data/queries/wasm\"\nimport { Fetching } from \"components/feedback\"\nimport WithSearchInput from \"./WithSearchInput\"\nimport TokenList from \"./TokenList\"\n\ninterface Props {\n  whitelist: CW721Whitelist\n  keyword: string\n}\n\nconst Component = ({ whitelist, keyword }: Props) => {\n  const manage = useCustomTokensCW721()\n\n  type Added = Record<TerraAddress, CustomTokenCW721>\n  const added = manage.list.reduce<Added>(\n    (acc, item) => ({ ...acc, [item.contract]: item }),\n    {}\n  )\n\n  const merged = { ...added, ...whitelist }\n\n  // if listed\n  const listedItem = merged[keyword]\n\n  // if not listed\n  const { data: initMsg, ...state } = useInitMsg<CW721ContractInfoResponse>(\n    !listedItem ? keyword : \"\"\n  )\n\n  const responseItem = initMsg ? { contract: keyword, ...initMsg } : undefined\n\n  // conclusion\n  const result = listedItem ?? responseItem\n\n  // list\n  const results = AccAddress.validate(keyword)\n    ? result\n      ? [result]\n      : []\n    : Object.values(merged).filter(({ name, symbol }) =>\n        [symbol, name].some((word) =>\n          word?.toLowerCase().includes(keyword.toLowerCase())\n        )\n      )\n\n  return (\n    <TokenList\n      {...state}\n      {...manage}\n      results={results}\n      renderTokenItem={({ contract, name, ...rest }) => {\n        return {\n          ...rest,\n          token: contract,\n          title: name,\n          contract,\n          key: contract,\n        }\n      }}\n    />\n  )\n}\n\nconst ManageCustomTokensCW721 = () => {\n  const { data: whitelist, ...state } = useCW721Whitelist()\n\n  return (\n    <Fetching {...state} height={2}>\n      {whitelist && (\n        <WithSearchInput>\n          {(input) => <Component whitelist={whitelist} keyword={input} />}\n        </WithSearchInput>\n      )}\n    </Fetching>\n  )\n}\n\nexport default ManageCustomTokensCW721\n","import { useState } from \"react\"\nimport { groupBy } from \"ramda\"\nimport classNames from \"classnames/bind\"\nimport useInterval from \"utils/hooks/useInterval\"\nimport { useCW721Whitelist } from \"data/Terra/TerraAssets\"\nimport { Flex } from \"components/layout\"\nimport styles from \"./NFTPlaceholder.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst TOTAL = 3\nconst DELAY = 3000 // null to stop animation\n\ninterface ItemProps {\n  src: string\n  alt: string\n  zIndex: number\n}\n\nconst NFTPlaceholderItem = ({ src, alt, zIndex }: ItemProps) => {\n  const [error, setError] = useState(false)\n\n  if (error) return null\n\n  const hidden = !(zIndex === 0 || zIndex === 1 || zIndex === 2)\n  const className = cx(styles.item, `item-${zIndex}`, { hidden }) // wrapper\n  const attrs = { src, className: styles.image, width: 50, height: 50 } // image\n\n  return (\n    <div className={className} style={{ zIndex }}>\n      <img {...attrs} onError={() => setError(true)} alt={alt} />\n    </div>\n  )\n}\n\nconst List = ({ list }: { list: CW721ContractItem[][] }) => {\n  const [start, setStart] = useState(0)\n  const length = list.length - (list.length % TOTAL)\n\n  useInterval(\n    () => setStart((n) => (n + TOTAL === length ? 0 : n + TOTAL)),\n    DELAY\n  )\n\n  return (\n    <Flex>\n      {list.map(([{ icon, name }], index) => {\n        if (!icon) return null\n        const zIndex = index - start\n        return (\n          <NFTPlaceholderItem\n            src={icon}\n            alt={name}\n            zIndex={zIndex}\n            key={name}\n          />\n        )\n      })}\n    </Flex>\n  )\n}\n\nconst NFTPlaceholder = () => {\n  const { data } = useCW721Whitelist()\n\n  if (!data) return null\n\n  const byProtocol = groupBy(\n    ({ protocol, name }) => protocol ?? name,\n    Object.values(data).filter(({ icon }) => icon)\n  )\n\n  return <List list={Object.values(byProtocol)} />\n}\n\nexport default NFTPlaceholder\n","import { Pre } from \"components/general\"\n\nconst NFTDetails = ({ data }: { data: object }) => {\n  return <Pre height={120}>{data}</Pre>\n}\n\nexport default NFTDetails\n","import { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport qs from \"qs\"\nimport InfoOutlinedIcon from \"@mui/icons-material/InfoOutlined\"\nimport ShortcutOutlinedIcon from \"@mui/icons-material/ShortcutOutlined\"\nimport { truncate } from \"@terra.kitchen/utils\"\nimport { getIpfsGateway, useTokenInfoCW721 } from \"data/queries/wasm\"\nimport { InternalButton, InternalLink } from \"components/general\"\nimport { Grid } from \"components/layout\"\nimport { WithFetching } from \"components/feedback\"\nimport { ModalButton } from \"components/feedback\"\nimport NFTDetails from \"./NFTDetails\"\nimport styles from \"./NFTAssetItem.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  contract: TerraAddress\n  id: string\n  compact?: boolean\n}\n\n// Where to use\n// 1. NFT asset list\n// 2. Transfer tx form\nconst NFTAssetItem = ({ contract, id, compact }: Props) => {\n  const { t } = useTranslation()\n  const { data, ...state } = useTokenInfoCW721(contract, id)\n  const SIZE = compact ? { width: 50, height: 50 } : { width: 100, height: 100 }\n  const className = cx(styles.item, { compact })\n\n  const renderPlaceholder = () => (\n    <article className={className}>\n      <div style={SIZE} className={cx(styles.image, styles.placeholder)} />\n      <h1 className={styles.name}>{truncate(id)}</h1>\n    </article>\n  )\n\n  const render = () => {\n    if (!data) return null\n    const { extension } = data\n    const name = extension?.name ?? truncate(id)\n    const image = extension?.image\n    const src = getIpfsGateway(image)\n\n    return (\n      <article className={className}>\n        {src && (\n          <ModalButton\n            title={name}\n            renderButton={(open) => (\n              <button type=\"button\" onClick={open} className={styles.image}>\n                <img src={src} alt=\"\" {...SIZE} />\n              </button>\n            )}\n          >\n            <img src={src} alt=\"\" className={styles.large} />\n          </ModalButton>\n        )}\n\n        <h1 className={styles.name}>{name}</h1>\n\n        {compact && (\n          <>\n            <ModalButton\n              title={name}\n              renderButton={(open) => (\n                <InternalButton onClick={open} disabled={!extension}>\n                  <InfoOutlinedIcon style={{ fontSize: 18 }} />\n                  {t(\"View\")}\n                </InternalButton>\n              )}\n            >\n              <Grid gap={12}>\n                {src && <img src={src} alt=\"\" className={styles.large} />}\n\n                {extension && <NFTDetails data={extension} />}\n              </Grid>\n            </ModalButton>\n\n            <InternalLink\n              to={{\n                pathname: \"/nft/transfer/\",\n                search: qs.stringify({ contract, id }),\n              }}\n            >\n              <ShortcutOutlinedIcon style={{ fontSize: 18 }} />\n              {t(\"Send\")}\n            </InternalLink>\n          </>\n        )}\n      </article>\n    )\n  }\n\n  return (\n    // skip loading indicator\n    <WithFetching {...state}>\n      {(progress, wrong) =>\n        wrong ?? (progress ? renderPlaceholder() : render())\n      }\n    </WithFetching>\n  )\n}\n\nexport default NFTAssetItem\n","import { useTranslation } from \"react-i18next\"\nimport { useCW721Tokens } from \"data/queries/wasm\"\nimport { ExternalLink } from \"components/general\"\nimport { Card } from \"components/layout\"\nimport { TokenIcon } from \"components/token\"\nimport NFTAssetItem from \"./NFTAssetItem\"\nimport styles from \"./NFTAssetGroup.module.scss\"\n\nconst NFTAssetGroup = (props: CW721ContractItem) => {\n  const { contract, name, icon, marketplace } = props\n  const { t } = useTranslation()\n  const { data, ...state } = useCW721Tokens(contract)\n\n  const title = (\n    <>\n      <TokenIcon\n        token={contract}\n        icon={icon}\n        className={styles.icon}\n        size={20}\n      />\n      {name}\n    </>\n  )\n\n  const renderExtra = () => {\n    if (!marketplace?.length) return null\n    const [link] = marketplace\n    return (\n      <ExternalLink href={link} className={styles.link}>\n        {t(\"Collection\")}\n      </ExternalLink>\n    )\n  }\n\n  const render = () => {\n    if (!data) return null\n    const { tokens } = data\n    if (!tokens.length) return null\n    return tokens.map((id) => (\n      <NFTAssetItem contract={contract} id={id} compact key={id} />\n    ))\n  }\n\n  return (\n    <Card\n      {...state}\n      title={title}\n      extra={renderExtra()}\n      className={styles.card}\n      mainClassName={styles.main}\n      size=\"small\"\n      bordered\n      bg\n    >\n      {render()}\n    </Card>\n  )\n}\n\nexport default NFTAssetGroup\n","import { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport { useAddress } from \"data/wallet\"\nimport { useCustomTokensCW721 } from \"data/settings/CustomTokens\"\nimport { InternalButton } from \"components/general\"\nimport { Col, Card, Grid } from \"components/layout\"\nimport { ModalButton } from \"components/feedback\"\nimport ManageCustomTokensCW721 from \"../custom/ManageCustomTokensCW721\"\nimport NFTPlaceholder from \"./NFTPlaceholder\"\nimport NFTAssetGroup from \"./NFTAssetGroup\"\nimport styles from \"./NFTAssets.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst NFTAssets = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const { list } = useCustomTokensCW721()\n  const empty = !address || !list.length\n\n  const renderExtra = (render: boolean) => (\n    <ModalButton\n      title={t(\"NFT\")}\n      renderButton={(open) => {\n        if (!render) return null\n\n        return (\n          <InternalButton onClick={open} chevron>\n            {t(\"Add tokens\")}\n          </InternalButton>\n        )\n      }}\n    >\n      <ManageCustomTokensCW721 />\n    </ModalButton>\n  )\n\n  return (\n    <Card extra={renderExtra(!empty)}>\n      <Grid gap={16} className={cx({ placeholder: empty })}>\n        {empty ? (\n          <NFTPlaceholder />\n        ) : (\n          <Col>\n            {list.map((item) => (\n              <NFTAssetGroup {...item} key={item.contract} />\n            ))}\n          </Col>\n        )}\n\n        {/* To maintain the modal even if empty is false when add an NFT */}\n        {renderExtra(empty)}\n      </Grid>\n    </Card>\n  )\n}\n\nexport default NFTAssets\n","import { useTranslation } from \"react-i18next\"\nimport { useCW721Marketplace } from \"data/Terra/TerraAssets\"\nimport { ExternalLink } from \"components/general\"\nimport { Card } from \"components/layout\"\nimport styles from \"./NFTMarketplace.module.scss\"\n\nconst NFTMarketplace = () => {\n  const { t } = useTranslation()\n  const { data, ...state } = useCW721Marketplace()\n\n  return (\n    <Card {...state} title={t(\"Marketplace\")}>\n      {data?.map(({ link, name }) => (\n        <ExternalLink href={link} className={styles.link} icon key={name}>\n          {name}\n        </ExternalLink>\n      ))}\n    </Card>\n  )\n}\n\nexport default NFTMarketplace\n","import { useTranslation } from \"react-i18next\"\nimport { Auto, Page } from \"components/layout\"\nimport NFTAssets from \"./NFTAssets\"\nimport NFTMarketplace from \"./NFTMarketplace\"\n\nconst NFT = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"NFT\")}>\n      <Auto columns={[<NFTAssets />, <NFTMarketplace />]} />\n    </Page>\n  )\n}\n\nexport default NFT\n","import { useQuery } from \"react-query\"\nimport axios, { AxiosError } from \"axios\"\nimport { useNetwork } from \"data/wallet\"\nimport { useNetworks } from \"app/InitNetworks\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { terraLCDURL } from \"../../config/constants\"\n\n/* terra LCD map*/\n//\nexport const useTerraLCDURL = (mainnet?: true) => {\n  const network = useNetwork()\n  const networks = useNetworks()\n  return mainnet\n    ? terraLCDURL(networks[\"mainnet\"].name)\n    : terraLCDURL(network.name)\n}\n//\nexport const useIsTerraLCDAvailable = () => {\n  const url = useTerraLCDURL()\n  return !!url\n}\n//\nexport const useTerraLCD = <T>(path: string, params?: object, fallback?: T) => {\n  const baseURL = useTerraLCDURL()\n  const available = useIsTerraLCDAvailable()\n  const shouldFallback = !available && fallback\n\n  return useQuery<T, AxiosError>(\n    [queryKey.TerraAPI, baseURL, path, params],\n    async () => {\n      if (shouldFallback) return fallback\n      const { data } = await axios.get(path, { baseURL, params })\n      return data\n    },\n    { ...RefetchOptions.INFINITY, enabled: !!(baseURL || shouldFallback) }\n  )\n}\n","import { ReactNode, useMemo } from \"react\"\nimport { capitalize } from \"@mui/material\"\nimport { isDenom, truncate } from \"@terra.kitchen/utils\"\nimport { AccAddress, Coin, Coins, ValAddress } from \"@terra-money/terra.js\"\nimport { useAddress } from \"data/wallet\"\nimport { useValidators } from \"data/queries/staking\"\nimport { WithTokenItem } from \"data/token\"\nimport { useCW20Contracts, useCW20Whitelist } from \"data/Terra/TerraAssets\"\nimport { FinderLink } from \"components/general\"\nimport { Read } from \"components/token\"\n\nconst ValidatorAddress = ({ children: address }: { children: string }) => {\n  const { data: validators } = useValidators()\n  const moniker = validators?.find(\n    ({ operator_address }) => operator_address === address\n  )?.description.moniker\n\n  return (\n    <FinderLink value={address} short={!moniker} validator>\n      {moniker ?? address}\n    </FinderLink>\n  )\n}\n\nconst TerraAddress = ({ children: address }: { children: string }) => {\n  const { data: contracts } = useCW20Contracts()\n  const { data: tokens } = useCW20Whitelist()\n  const connectedAddress = useAddress()\n\n  const name = useMemo(() => {\n    if (address === connectedAddress) return \"my wallet\" // Do not translate this\n    if (!(contracts && tokens)) return\n    const contract = contracts[address] ?? tokens[address]\n    if (!contract) return\n    const { protocol, name } = contract\n    return [protocol, name].join(\" \")\n  }, [address, connectedAddress, contracts, tokens])\n\n  return <FinderLink value={address}>{name ?? truncate(address)}</FinderLink>\n}\n\nconst Tokens = ({ children: coins }: { children: string }) => {\n  const list = new Coins(coins).toArray()\n\n  return (\n    <>\n      {list.length > 1\n        ? \"multiple tokens\" // Do not translate this\n        : list.map((coin) => {\n            const data = coin.toData()\n            const { denom } = data\n\n            return (\n              <WithTokenItem token={denom} key={denom}>\n                {({ decimals }) => <Read {...data} decimals={decimals} />}\n              </WithTokenItem>\n            )\n          })}\n    </>\n  )\n}\n\ninterface Props {\n  children?: string\n  className?: string\n}\n\nconst TxMessage = ({ children: sentence, className }: Props) => {\n  const address = useAddress()\n  if (!sentence) return null\n\n  const parse = (word: string, index: number): ReactNode => {\n    if (!word) return null\n    if (word.endsWith(\",\")) return <>{parse(word.slice(0, -1), index)},</>\n\n    return validateTokens(word) ? (\n      <Tokens>{word}</Tokens>\n    ) : AccAddress.validate(word) ? (\n      <TerraAddress>{word}</TerraAddress>\n    ) : ValAddress.validate(word) ? (\n      <ValidatorAddress>{word}</ValidatorAddress>\n    ) : !index ? (\n      capitalize(word)\n    ) : (\n      word\n    )\n  }\n\n  return (\n    <p className={className}>\n      {sentence\n        .split(\" \")\n        .filter((word, index) => index || word !== address)\n        .map((word, index) => {\n          const parsed = parse(word, index)\n\n          return !index ? (\n            <strong key={index}>{parsed}</strong>\n          ) : (\n            <span key={index}> {parsed}</span>\n          )\n        })}\n    </p>\n  )\n}\n\nexport default TxMessage\n\n/* helpers */\nconst validateTokens = (tokens: any) => {\n  const validate = ({ denom }: Coin) =>\n    isDenom(denom) || AccAddress.validate(denom)\n\n  try {\n    const coins = new Coins(tokens)\n    return coins.toArray().every(validate)\n  } catch {\n    return false\n  }\n}\n","import { last } from \"ramda\"\nimport { sentenceCase } from \"sentence-case\"\nimport { Tag } from \"components/display\"\nimport TxMessage from \"app/containers/TxMessage\"\nimport styles from \"./HistoryMessage.module.scss\"\n\ninterface Props {\n  success: boolean\n  msg: TxMessage\n}\n\nconst HistoryMessage = ({ success, msg }: Props) => {\n  const { msgType, canonicalMsg } = msg\n  const type = last(msgType.split(\"/\"))\n\n  return (\n    <div className={styles.component}>\n      {type && (\n        <Tag color={success ? \"info\" : \"danger\"} small>\n          {sentenceCase(type)}\n        </Tag>\n      )}\n\n      <section>\n        {canonicalMsg.map((text) => (\n          <TxMessage className={styles.message} key={text}>\n            {text}\n          </TxMessage>\n        ))}\n      </section>\n    </div>\n  )\n}\n\nexport default HistoryMessage\n","import { Fragment } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { FinderLink } from \"components/general\"\nimport { Card } from \"components/layout\"\nimport { Dl, ToNow } from \"components/display\"\nimport { ReadMultiple } from \"components/token\"\nimport HistoryMessage from \"../HistoryMessage\"\nimport styles from \"./HistoryItem.module.scss\"\n\nconst HistoryItemApi = ({\n  txhash,\n  timestamp,\n  ...props\n}: AccountHistoryItem) => {\n  const { success, msgs, collapsed, fee, memo, raw_log } = props\n  const { t } = useTranslation()\n\n  const data = [\n    { title: t(\"Fee\"), content: <ReadMultiple list={fee} /> },\n    { title: t(\"Memo\"), content: memo },\n    { title: t(\"Log\"), content: !success && raw_log },\n  ]\n\n  return (\n    <Card\n      title={\n        <FinderLink tx short>\n          {txhash}\n        </FinderLink>\n      }\n      extra={<ToNow>{new Date(timestamp)}</ToNow>}\n      size=\"small\"\n      bordered\n    >\n      {msgs?.map((msg, index) => (\n        <HistoryMessage msg={msg} success={success} key={index} />\n      ))}\n\n      {collapsed && <small>{t(\"{{collapsed}} more\", { collapsed })}</small>}\n\n      <footer className={styles.footer}>\n        <Dl>\n          {data.map(({ title, content }) => {\n            if (!content) return null\n            return (\n              <Fragment key={title}>\n                <dt>{title}</dt>\n                <dd>{content}</dd>\n              </Fragment>\n            )\n          })}\n        </Dl>\n      </footer>\n    </Card>\n  )\n}\n\nexport default HistoryItemApi\n","import { Fragment, useCallback } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useInfiniteQuery } from \"react-query\"\nimport axios from \"axios\"\nimport { queryKey } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useTerraAPIURL } from \"data/Terra/TerraAPI\"\nimport { Button } from \"components/general\"\nimport { Card, Col, Page } from \"components/layout\"\nimport { Empty } from \"components/feedback\"\nimport HistoryItemApi from \"../HistoryItemApi\"\n\nconst HistoryListApi = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const baseURL = useTerraAPIURL()\n\n  /* query */\n  const fetchAccountHistory = useCallback(\n    async ({ pageParam = 0 }) => {\n      const { data } = await axios.get<AccountHistory>(\n        `tx-history/station/${address}`,\n        { baseURL, params: { offset: pageParam || undefined } }\n      )\n\n      return data\n    },\n    [address, baseURL]\n  )\n\n  const { data, error, fetchNextPage, ...state } = useInfiniteQuery(\n    [queryKey.TerraAPI, \"history\", baseURL, address],\n    fetchAccountHistory,\n    { getNextPageParam: ({ next }) => next, enabled: !!(address && baseURL) }\n  )\n\n  const { hasNextPage, isFetchingNextPage } = state\n\n  const getPages = () => {\n    if (!data) return []\n    const { pages } = data\n    const [{ list }] = data.pages\n    return list.length ? pages : []\n  }\n\n  const pages = getPages()\n\n  const render = () => {\n    if (address && !data) return null\n\n    return !pages.length ? (\n      <Card>\n        <Empty />\n      </Card>\n    ) : (\n      <Col>\n        {pages.map(({ list }, i) => (\n          <Fragment key={i}>\n            {list.map((item) => (\n              <HistoryItemApi {...item} key={item.txhash} />\n            ))}\n          </Fragment>\n        ))}\n\n        <Button\n          onClick={() => fetchNextPage()}\n          disabled={!hasNextPage || isFetchingNextPage}\n          loading={isFetchingNextPage}\n          block\n        >\n          {isFetchingNextPage\n            ? t(\"Loading more...\")\n            : hasNextPage\n            ? t(\"Load more\")\n            : t(\"Nothing more to load\")}\n        </Button>\n      </Col>\n    )\n  }\n\n  return (\n    <Page {...state} title={t(\"History\")}>\n      {render()}\n    </Page>\n  )\n}\n\nexport default HistoryListApi\n","import { Fragment } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { FinderLink } from \"components/general\"\nimport { Card } from \"components/layout\"\nimport { Dl, ToNow } from \"components/display\"\nimport { ReadMultiple } from \"components/token\"\nimport HistoryMessage from \"../HistoryMessage\"\nimport styles from \"./HistoryItem.module.scss\"\n// eslint-disable-next-line\nimport { sentenceCase } from \"sentence-case\"\n// eslint-disable-next-line\nimport { Tag } from \"components/display\"\n// eslint-disable-next-line\nimport DateRangeIcon from \"@mui/icons-material/DateRange\"\n// eslint-disable-next-line\nimport GppGoodIcon from \"@mui/icons-material/GppGood\"\n// eslint-disable-next-line\nimport GroupIcon from \"@mui/icons-material/Group\"\nimport { useNetworkName } from \"data/wallet\"\nimport {\n  createActionRuleSet,\n  createLogMatcherForActions,\n  getTxCanonicalMsgs,\n} from \"@terra-money/log-finder-ruleset\"\nimport { last } from \"ramda\"\nimport { TxInfo } from \"@terra-money/terra.js\"\n\ninterface AccountHistoryItem {\n  code?: number\n  key?: string\n  txhash?: string\n  timestamp?: any\n  msgs?: TxMessage[] | undefined\n  collapsed?: number | undefined\n  raw_log?: string | undefined\n  tx?: any\n}\n\nconst HistoryItemLcd = ({\n  txhash,\n  timestamp,\n  ...props\n}: AccountHistoryItem) => {\n  // eslint-disable-next-line\n  const {\n    raw_log,\n    collapsed,\n    tx: {\n      // eslint-disable-next-line\n      body: { memo, messages },\n      auth_info: {\n        fee: { amount: fee },\n      },\n    },\n  } = props\n\n  const success = props.code === 0\n  const { t } = useTranslation()\n  const networkName = useNetworkName()\n  const data = [\n    {\n      title: t(\"Type\"),\n      content:\n        !!messages &&\n        last(\n          JSON.stringify(messages[0]).split(\",\")[0].replace(\"{\", \"\").split(\".\")\n        )?.replace('\"', \"\"),\n    },\n    { title: t(\"Fee\"), content: !!fee && <ReadMultiple list={fee} /> },\n    { title: t(\"Memo\"), content: !!memo && memo },\n    { title: t(\"Log\"), content: !success && raw_log },\n  ]\n  const ruleset = createActionRuleSet(networkName)\n  const logMatcher = createLogMatcherForActions(ruleset)\n\n  const getCanonicalMsgs = (txInfo: TxInfo) => {\n    const matchedMsg = getTxCanonicalMsgs(txInfo, logMatcher)\n\n    return matchedMsg\n      ? matchedMsg\n          .map((matchedLog) => matchedLog.map(({ transformed }) => transformed))\n          .flat(2)\n      : []\n  }\n\n  return (\n    <Card\n      title={\n        <FinderLink tx short>\n          {txhash}\n        </FinderLink>\n      }\n      extra={<ToNow>{new Date(timestamp)}</ToNow>}\n      size=\"small\"\n      bordered\n    >\n      <div className={styles.msgs}>\n        {getCanonicalMsgs({\n          txhash,\n          timestamp,\n          ...props,\n        } as any)?.map(\n          (msg, index) =>\n            msg && <HistoryMessage msg={msg} success={success} key={index} />\n        )}\n      </div>\n\n      {collapsed && <small>{t(\"{{collapsed}} more\", { collapsed })}</small>}\n\n      <footer className={styles.footer}>\n        <Dl>\n          {data.map(({ title, content }) => {\n            if (!content) return null\n            return (\n              <Fragment key={title}>\n                <dt>{title}</dt>\n                <dd>{content}</dd>\n              </Fragment>\n            )\n          })}\n        </Dl>\n      </footer>\n    </Card>\n  )\n}\n\nexport default HistoryItemLcd\n","// eslint-disable-next-line\nimport { Fragment, useCallback } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useInfiniteQuery } from \"react-query\"\nimport axios from \"axios\"\nimport { queryKey } from \"data/query\"\nimport { Button } from \"components/general\"\nimport { Card, Col, Page } from \"components/layout\"\nimport { Empty } from \"components/feedback\"\nimport { useTerraLCDURL } from \"data/Terra/TerraLCD\"\nimport useAddress from \"auth/hooks/useAddress\"\nimport HistoryItemLcd from \"../HistoryItemLcd\"\n\ninterface AccountHistory {\n  next: number | false\n  pagination: {\n    total: string\n    next_key: string | null\n  }\n  tx_responses: AccountHistoryItem[]\n}\n\nconst HistoryListLcd = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const baseURL = useTerraLCDURL()\n  // @typescript-eslint/no-unused-vars\n  // const LIMIT = 10\n\n  /* query */\n  const fetchAccountHistory = useCallback(\n    async ({ pageParam = 0 }) => {\n      const { data } = await axios.get<AccountHistory>(\n        `/cosmos/tx/v1beta1/txs?events=message.sender=%27${address}%27&pagination.reverse=true&order_by=ORDER_BY_DESC`, //&pagination.limit=${LIMIT}`,\n        { baseURL, params: { offset: pageParam || undefined } }\n      )\n      return data\n    },\n    [address, baseURL]\n  )\n\n  const { data, error, fetchNextPage, ...state } = useInfiniteQuery(\n    [queryKey.History, \"history\", baseURL, address],\n    fetchAccountHistory,\n    { getNextPageParam: ({ next }) => next, enabled: !!(address && baseURL) }\n  )\n\n  const { hasNextPage, isFetchingNextPage } = state\n\n  const getPages = () => {\n    if (!data) return []\n    const { pages } = data\n    const [{ tx_responses }] = data.pages\n    return tx_responses.length ? pages : []\n  }\n\n  const pages = getPages()\n\n  const render = () => {\n    if (address && !data) return null\n    return !pages.length ? (\n      <Card>\n        <Empty />\n      </Card>\n    ) : (\n      <Col>\n        {pages.map(({ tx_responses }, i) => (\n          <Fragment key={i}>\n            {tx_responses.map((item) => (\n              <HistoryItemLcd {...item} key={item.txhash} />\n            ))}\n          </Fragment>\n        ))}\n\n        <Button\n          onClick={() => fetchNextPage()}\n          disabled={!hasNextPage || isFetchingNextPage}\n          loading={isFetchingNextPage}\n          block\n        >\n          {isFetchingNextPage\n            ? t(\"Loading more...\")\n            : hasNextPage\n            ? t(\"Load more\")\n            : t(\"Nothing more to load\")}\n        </Button>\n      </Col>\n    )\n  }\n\n  return (\n    <Page {...state} title={t(\"History\")}>\n      {render()}\n    </Page>\n  )\n}\n\nexport default HistoryListLcd\n","import { useTranslation } from \"react-i18next\"\nimport { useIsTerraAPIAvailable } from \"data/Terra/TerraAPI\"\nimport { useIsTerraLCDAvailable } from \"data/Terra/TerraLCD\"\nimport { Wrong } from \"components/feedback\"\nimport { useNetwork } from \"data/wallet\"\n//import HistoryList from \"./HistoryList\"\n\n//\nimport HistoryListApi from \"./HistoryListApi\"\nimport HistoryListLcd from \"./HistoryListLcd\"\n//\n\nconst History = () => {\n  const { t } = useTranslation()\n  const availableApi = useIsTerraAPIAvailable()\n  const availableLcd = useIsTerraLCDAvailable()\n  const network = useNetwork()\n\n  switch (network.name) {\n    case \"mainnet\":\n      if (!availableApi) return <Wrong>{t(\"History is not supported\")}</Wrong>\n      return <HistoryListApi />\n    case \"testnet\":\n      if (!availableApi) return <Wrong>{t(\"History is not supported\")}</Wrong>\n      return <HistoryListApi />\n    case \"classic\":\n      if (!availableApi) return <Wrong>{t(\"History is not supported\")}</Wrong>\n      return <HistoryListApi />\n    case \"localterra\":\n      if (!availableLcd) return <Wrong>{t(\"History is not supported\")}</Wrong>\n      return <HistoryListLcd />\n    default:\n      return <Wrong>{t(\"History is not supported\")}</Wrong>\n  }\n}\n\nexport default History\n","import { PropsWithChildren } from \"react\"\nimport { has } from \"utils/num\"\nimport { Grid, Card } from \"components/layout\"\nimport { Props as CardProps } from \"components/layout/Card\"\nimport { Read } from \"components/token\"\nimport styles from \"./StakedCard.module.scss\"\n\ninterface Props extends CardProps {\n  amount: Amount\n  value?: Value\n}\n\nconst StakedCard = (props: PropsWithChildren<Props>) => {\n  const { amount, children } = props\n\n  return (\n    <Card {...props} onClick={has(amount) ? props.onClick : undefined}>\n      <Grid gap={2}>\n        <span className={styles.amount}>\n          <Read amount={amount} denom=\"uluna\" />{\" \"}\n          <span className={styles.small}>{children}</span>\n        </span>\n      </Grid>\n    </Card>\n  )\n}\n\nexport default StakedCard\n","import { useTranslation } from \"react-i18next\"\nimport { AccAddress, Coin } from \"@terra-money/terra.js\"\nimport { getMaxHeightStyle } from \"utils/style\"\nimport { combineState } from \"data/query\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { calcDelegationsTotal } from \"data/queries/staking\"\nimport { useDelegations } from \"data/queries/staking\"\nimport { useValidators } from \"data/queries/staking\"\nimport { ValidatorLink } from \"components/general\"\nimport { ModalButton } from \"components/feedback\"\nimport { Table } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport StakedCard from \"./components/StakedCard\"\n\nconst Delegations = () => {\n  const { t } = useTranslation()\n  const calcValue = useMemoizedCalcValue()\n\n  const { data: validators, ...validatorsState } = useValidators()\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const state = combineState(validatorsState, delegationsState)\n\n  /* render */\n  const title = t(\"Delegations\")\n\n  const render = () => {\n    if (!delegations) return null\n\n    const total = calcDelegationsTotal(delegations)\n    const value = calcValue({ amount: total, denom: \"uluna\" })\n\n    return (\n      <ModalButton\n        title={title}\n        renderButton={(open) => (\n          <StakedCard\n            {...state}\n            title={title}\n            amount={total}\n            value={value}\n            onClick={open}\n          />\n        )}\n      >\n        <Table\n          dataSource={delegations}\n          sorter={({ balance: { amount: a } }, { balance: { amount: b } }) =>\n            b.minus(a).toNumber()\n          }\n          columns={[\n            {\n              title: t(\"Validator\"),\n              dataIndex: \"validator_address\",\n              render: (address: AccAddress) => (\n                <ValidatorLink address={address} internal />\n              ),\n            },\n            {\n              title: t(\"Delegated\"),\n              dataIndex: \"balance\",\n              render: (balance: Coin) => <Read {...balance.toData()} />,\n              align: \"right\",\n            },\n          ]}\n          style={getMaxHeightStyle(320)}\n        />\n      </ModalButton>\n    )\n  }\n\n  return render()\n}\n\nexport default Delegations\n","import { useTranslation } from \"react-i18next\"\nimport { AccAddress, Dec } from \"@terra-money/terra.js\"\nimport { getMaxHeightStyle } from \"utils/style\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { combineState } from \"data/query\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { calcUnbondingsTotal, flattenUnbondings } from \"data/queries/staking\"\nimport { useValidators, useUnbondings } from \"data/queries/staking\"\nimport { ValidatorLink } from \"components/general\"\nimport { ModalButton } from \"components/feedback\"\nimport { Table } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport { ToNow, TooltipIcon } from \"components/display\"\nimport StakedCard from \"./components/StakedCard\"\n\nconst Unbondings = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const calcValue = useMemoizedCalcValue(currency)\n\n  const { data: validators, ...validatorsState } = useValidators()\n  const { data: unbondings, ...unbondingsState } = useUnbondings()\n  const state = combineState(validatorsState, unbondingsState)\n\n  /* render */\n  const title = t(\"Undelegations\")\n\n  const render = () => {\n    if (!unbondings) return null\n\n    const total = calcUnbondingsTotal(unbondings)\n    const value = calcValue({ amount: total, denom: \"uluna\" })\n    const list = flattenUnbondings(unbondings)\n\n    return (\n      <ModalButton\n        title={title}\n        renderButton={(open) => (\n          <StakedCard\n            {...state}\n            title={\n              <TooltipIcon\n                content={t(\n                  \"Maximum 7 undelegations can be in progress at the same time\"\n                )}\n                placement=\"bottom\"\n              >\n                {title}\n              </TooltipIcon>\n            }\n            amount={total}\n            value={value}\n            onClick={open}\n          />\n        )}\n      >\n        <Table\n          dataSource={list}\n          columns={[\n            {\n              title: t(\"Validator\"),\n              dataIndex: \"validator_address\",\n              render: (address: AccAddress) => (\n                <ValidatorLink address={address} internal />\n              ),\n            },\n            {\n              title: t(\"Amount\"),\n              dataIndex: \"initial_balance\",\n              render: (amount: Dec) => (\n                <Read amount={amount.toString()} denom=\"uluna\" />\n              ),\n              align: \"right\",\n            },\n            {\n              title: t(\"Release on\"),\n              dataIndex: \"completion_time\",\n              render: (date: Date) => <ToNow>{date}</ToNow>,\n              align: \"right\",\n            },\n          ]}\n          style={getMaxHeightStyle(320)}\n        />\n      </ModalButton>\n    )\n  }\n\n  return render()\n}\n\nexport default Unbondings\n","import { useTranslation } from \"react-i18next\"\n\nconst RewardsTooltip = () => {\n  const { t } = useTranslation()\n\n  return (\n    <article>\n      <h1>{t(\"Staking rewards are withdrawn automatically on\")}</h1>\n\n      <ul>\n        <li>{t(\"Delegation\")}</li>\n        <li>{t(\"Redelegation\")}</li>\n        <li>{t(\"Undelegation\")}</li>\n        <li>{t(\"Mainnet upgrade\")}</li>\n      </ul>\n\n      <footer>{t(\"This will not be displayed in transaction history\")}</footer>\n    </article>\n  )\n}\n\nexport default RewardsTooltip\n","import { useTranslation } from \"react-i18next\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { combineState } from \"data/query\"\nimport { calcRewardsValues, useRewards } from \"data/queries/distribution\"\nimport { useExchangeRates } from \"data/queries/oracle\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { WithTokenItem } from \"data/token\"\nimport { ModalButton } from \"components/feedback\"\nimport { TokenCard, TokenCardGrid } from \"components/token\"\nimport { TooltipIcon } from \"components/display\"\nimport StakedCard from \"./components/StakedCard\"\nimport RewardsTooltip from \"./RewardsTooltip\"\n\nconst Rewards = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const calcValue = useMemoizedCalcValue(currency)\n\n  const { data: rewards, ...rewardsState } = useRewards()\n  const { data: exchangeRates, ...exchangeRatesState } = useExchangeRates()\n  const state = combineState(rewardsState, exchangeRatesState)\n\n  /* render */\n  const title = t(\"Staking rewards\")\n  const render = () => {\n    if (!rewards) return null\n    const { total } = calcRewardsValues(rewards, currency, calcValue)\n    const { sum, list } = total\n    const amount = list.find(({ denom }) => denom === \"uluna\")?.amount ?? \"0\"\n\n    return (\n      <ModalButton\n        title={title}\n        renderButton={(open) => (\n          <StakedCard\n            {...state}\n            title={\n              <TooltipIcon content={<RewardsTooltip />} placement=\"bottom\">\n                {title}\n              </TooltipIcon>\n            }\n            amount={amount}\n            value={sum}\n            onClick={open}\n          >\n            {list.length > 1 &&\n              `+${t(\"{{length}} coins\", { length: list.length - 1 })}`}\n          </StakedCard>\n        )}\n      >\n        <TokenCardGrid maxHeight>\n          {list.map(({ amount, denom }) => (\n            <WithTokenItem token={denom} key={denom}>\n              {(item) => (\n                <TokenCard\n                  {...item}\n                  amount={amount}\n                  value={calcValue({ amount, denom })}\n                />\n              )}\n            </WithTokenItem>\n          ))}\n        </TokenCardGrid>\n      </ModalButton>\n    )\n  }\n\n  return render()\n}\n\nexport default Rewards\n","import { combineState } from \"data/query\"\nimport { useDelegations, useUnbondings } from \"data/queries/staking\"\nimport { useRewards } from \"data/queries/distribution\"\nimport { Col, Row } from \"components/layout\"\nimport { Fetching } from \"components/feedback\"\nimport DelegationsPromote from \"app/containers/DelegationsPromote\"\nimport Delegations from \"./Delegations\"\nimport Unbondings from \"./Unbondings\"\nimport Rewards from \"./Rewards\"\n\nconst Staked = () => {\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const { data: unbondings, ...unbondingsState } = useUnbondings()\n  const { data: rewards, ...rewardsState } = useRewards()\n  const state = combineState(delegationsState, unbondingsState, rewardsState)\n\n  const render = () => {\n    if (!(delegations && unbondings && rewards)) return null\n\n    const staked =\n      delegations.length || unbondings.length || rewards.total.toArray().length\n\n    if (!staked) return <DelegationsPromote horizontal />\n\n    return (\n      <Row>\n        <Col>\n          <Delegations />\n        </Col>\n\n        <Col>\n          <Unbondings />\n        </Col>\n\n        <Col>\n          <Rewards />\n        </Col>\n      </Row>\n    )\n  }\n\n  return <Fetching {...state}>{render()}</Fetching>\n}\n\nexport default Staked\n","var _path, _path2, _path3, _path4, _path5, _path6;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTerraValidatorProfiles(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    viewBox: \"0 0 147 36\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"fill-primary-dark\",\n    d: \"M139 0c4.4 0 8 3.6 8 8v20c0 4.4-3.6 8-8 8H8c-4.4 0-8-3.6-8-8V8c0-4.4 3.6-8 8-8h131zm0 1H8C4.2 1 1.1 4 1 7.8V28c0 3.8 3 6.9 6.8 7H139c3.8 0 6.9-3 7-6.8V8c0-3.8-3-6.9-6.8-7h-.2zm-20.7 14.8c2.1 0 3.7 1.6 3.8 3.6v.2c0 2-1.6 3.8-3.8 3.8-2.1 0-3.6-1.6-3.7-3.6v-.2c-.1-2 1.5-3.8 3.7-3.8zm-75.2-.2c2.5 0 3.7 1.9 3.7 4.1v.6h-5.2c.2 1 .9 1.5 1.8 1.5.6 0 1.1-.2 1.7-.6l.2-.1 1.2 1.1c-.7.9-1.7 1.4-3.1 1.4-2.2 0-3.8-1.5-3.9-3.7v-.2c-.1-2.4 1.4-4.1 3.6-4.1zm61.7.3c1 0 1.8.3 2.3.8.4.4.7 1.1.7 1.9v4.6h-1v-1.1c-.5.7-1.3 1.2-2.6 1.2s-2.6-.7-2.7-2.1V21c0-1.5 1.3-2.3 3.1-2.3.8 0 1.4.1 2 .2l.2.1v-.3c0-1.3-.8-2-2.2-2-.8 0-1.4.2-2 .4l-.2.1-.3-.9c.8-.2 1.6-.4 2.7-.4zm-23.6 0c1 0 1.8.3 2.3.8.4.4.7 1.1.7 1.9v4.6h-1v-1.1c-.5.7-1.3 1.2-2.6 1.2s-2.6-.7-2.7-2.1V21c0-1.5 1.3-2.3 3.1-2.3.8 0 1.4.1 2 .2l.2.1v-.3c0-1.3-.8-2-2.2-2-.8 0-1.4.2-2 .4l-.2.1-.3-.9c.9-.2 1.7-.4 2.7-.4zM99.9 13v10.2h-1.1v-1.5c-.6.9-1.4 1.6-2.8 1.6-1.7 0-3.3-1.3-3.5-3.5v-.3c0-2.4 1.7-3.8 3.5-3.8 1.3 0 2.1.6 2.7 1.4l.1.1V13h1.1zm-38 2.6c1.2 0 2 .3 2.5.8s.8 1.3.8 2.2v4.6h-2.1v-.8c-.5.6-1.2 1-2.3 1-1.4 0-2.5-.7-2.6-2.1v-.2c0-1.6 1.2-2.4 3-2.4.7 0 1.2.1 1.6.2l.2.1v-.1c0-.9-.5-1.4-1.6-1.4-.7 0-1.2.1-1.8.3l-.3.1-.3-1.7c.8-.3 1.6-.6 2.9-.6zm69.3.3c.8 0 1.7.3 2.4.7l.2.1-.5.8c-.7-.4-1.4-.7-2.1-.7-.8 0-1.3.4-1.4.9v.1c0 .5.5.8 1.2 1l.3.1.6.2.3.1c.9.3 1.7.8 1.7 1.7v.2c0 1.4-1.1 2.2-2.6 2.2-1 0-2-.3-2.8-.9l-.2-.1.5-.8c.8.6 1.7.9 2.5.9s1.4-.4 1.5-1v-.1c0-.6-.6-.9-1.3-1.1l-.9-.3c-.9-.3-1.9-.7-1.9-1.7V18c.1-1.3 1.1-2.1 2.5-2.1zm-20-2.1V16h2.3v1h-2.3v4.2c0 .9.5 1.2 1.2 1.2.3 0 .6 0 .9-.2l.2-.1v.9c-.4.2-.8.3-1.3.3-1.1 0-2-.5-2-1.9v-4.6h-1v-1h1v-2.2h1zm-41.4-.4 3.5 8.4 3.5-8.4H78l-4.2 9.9h-1l-4.2-9.9h1.2zm-11.9 2.2h.2v2.2H58c-1.4 0-2.2.8-2.3 2.4v3h-2.1v-7.5h2.1v1.5c.4-1 1.1-1.6 2.2-1.6zm32.9.4v7.2h-1.1V16h1.1zm-50.7-2.6v2h-3v7.8H35v-7.8h-3v-2h8.1zm12.3 2.2h.2v2.2h-.1c-1.4 0-2.2.8-2.3 2.4v3h-2.1v-7.5h2.1v1.5c.4-1 1-1.6 2.2-1.6zM87.5 13v10.2h-1.1V13h1.1zm40 2.9h.2V17h-.1c-1.5 0-2.8 1.1-2.9 3.1v3.1h-1.1V16h1.1v1.9c.5-1.2 1.5-2 2.8-2zm-46.4 3.7c-1.3 0-2 .5-2.1 1.4v.2c0 .9.8 1.4 1.8 1.4 1.3 0 2.3-.7 2.4-1.8V20c-.5-.3-1.2-.4-2.1-.4zm23.6 0c-1.3 0-2 .5-2.1 1.4v.2c0 .9.8 1.4 1.8 1.4 1.3 0 2.3-.7 2.4-1.8V20c-.5-.3-1.2-.4-2.1-.4zm13.5-2.8c-1.5 0-2.6 1.2-2.6 2.6v.2c0 1.6 1.1 2.8 2.7 2.8 1.5 0 2.6-1.2 2.7-2.6v-.2c-.1-1.5-1.2-2.8-2.8-2.8zm-21.9 0c-1.3 0-2.5 1-2.5 2.6v.2c0 1.7 1.2 2.8 2.5 2.8s2.5-1.1 2.6-2.6v-.2c0-1.7-1.3-2.8-2.6-2.8zm-34.4 3.1c-.9 0-1.4.3-1.5.9v.2c0 .6.5.9 1.2.9.9 0 1.6-.5 1.7-1.2v-.5c-.4-.2-.9-.3-1.4-.3zm-18.8-2.6c-.8 0-1.4.6-1.6 1.4v.2h3.2c-.1-1-.7-1.6-1.6-1.6zm47.8-4.1v1.2h-1.2v-1.2h1.2z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"fill-primary-dark\",\n    d: \"M24 12c0-1.1-.7-1.6-1.6-1.2l-7.8 3.9c-.9.4-1.6 1.7-1.6 2.8v9.4c0 1.1.7 1.6 1.6 1.2l7.8-3.9c.9-.4 1.6-1.7 1.6-2.8V12z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"fill-primary-light\",\n    d: \"m13.5 28.1-1.9-1c-.4-.2-.6-.6-.6-1.2v-9.4c0-1.1.7-2.4 1.6-2.8l7.8-3.9c.3-.2.7-.2 1-.1l2 1c-.3-.2-.7-.1-1 0l-7.8 3.9c-.9.4-1.6 1.7-1.6 2.8v9.4c0 .6.2 1.1.5 1.3z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"fill-primary-light\",\n    fillOpacity: 0.2,\n    d: \"M23 10.6c.6 0 1 .5 1 1.4v.2L18.4 23l-3.8-3.5 1.2-2.3 2.6 2.4 4.6-9z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"fill-primary-light\",\n    d: \"m17.5 18.1-1.1-.6-1.2 2.3 3.8 3.5 1.1.6-3.8-3.5zM24.7 9l-5.5 10.6.9.9 5.7-10.9z\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"fill-primary-light\",\n    d: \"m20.1 20.5 5.7-10.9 1.2 1.1-6.9 13.2-3.8-3.5 1.2-2.3z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTerraValidatorProfiles);\nexport default __webpack_public_path__ + \"static/media/TerraValidatorProfiles.210b1520.svg\";\nexport { ForwardRef as ReactComponent };","import { useState } from \"react\"\nimport { ReactComponent as Terra } from \"styles/images/Terra.svg\"\nimport styles from \"./ProfileIcon.module.scss\"\n\ninterface Props {\n  src?: string\n  size: number\n}\n\nconst ProfileIcon = ({ src, size }: Props) => {\n  const [error, setError] = useState(false)\n  const attrs = { className: styles.icon, width: size, height: size }\n  if (error || !src) return <Terra {...attrs} />\n  return <img {...attrs} src={src} onError={() => setError(true)} alt=\"\" />\n}\n\nexport default ProfileIcon\n","import { readPercent } from \"@terra.kitchen/utils\"\n\nconst Uptime = ({ children: value }: { children: number }) => {\n  return <span>{readPercent(value, { fixed: 2 })}</span>\n}\n\nexport default Uptime\n","import { useTranslation } from \"react-i18next\"\n/* FIXME(terra.js): Import from terra.js */\nimport { BondStatus } from \"@terra-money/terra.proto/cosmos/staking/v1beta1/staking\"\nimport { bondStatusFromJSON } from \"@terra-money/terra.proto/cosmos/staking/v1beta1/staking\"\nimport { Tag } from \"components/display\"\n\nexport const ValidatorStatus = ({ status }: { status: BondStatus }) => {\n  const { t } = useTranslation()\n\n  const color =\n    bondStatusFromJSON(BondStatus[status]) === BondStatus.BOND_STATUS_BONDED\n      ? \"success\"\n      : \"warning\"\n\n  const label =\n    bondStatusFromJSON(BondStatus[status]) === BondStatus.BOND_STATUS_BONDED\n      ? t(\"Active\")\n      : t(\"Inactive\")\n\n  return <Tag color={color}>{t(label)}</Tag>\n}\n\nexport const ValidatorJailed = () => {\n  const { t } = useTranslation()\n  return (\n    <Tag color=\"danger\" small>\n      {t(\"Jailed\")}\n    </Tag>\n  )\n}\n","import { useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Link } from \"react-router-dom\"\nimport VerifiedIcon from \"@mui/icons-material/Verified\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { Validator } from \"@terra-money/terra.js\"\n/* FIXME(terra.js): Import from terra.js */\nimport { BondStatus } from \"@terra-money/terra.proto/cosmos/staking/v1beta1/staking\"\nimport { bondStatusFromJSON } from \"@terra-money/terra.proto/cosmos/staking/v1beta1/staking\"\nimport { combineState, useIsClassic } from \"data/query\"\nimport { useValidators } from \"data/queries/staking\"\nimport { useDelegations, useUnbondings } from \"data/queries/staking\"\nimport { getCalcVotingPowerRate } from \"data/Terra/TerraAPI\"\nimport { useTerraValidators } from \"data/Terra/TerraAPI\"\nimport { Page, Card, Table, Flex, Grid } from \"components/layout\"\nimport { TooltipIcon } from \"components/display\"\nimport { Toggle } from \"components/form\"\nimport { Read } from \"components/token\"\nimport WithSearchInput from \"pages/custom/WithSearchInput\"\nimport ProfileIcon from \"./components/ProfileIcon\"\nimport Uptime from \"./components/Uptime\"\nimport { ValidatorJailed } from \"./components/ValidatorTag\"\nimport styles from \"./Validators.module.scss\"\n\nconst Validators = () => {\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n\n  const { data: validators, ...validatorsState } = useValidators()\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const { data: undelegations, ...undelegationsState } = useUnbondings()\n  const { data: TerraValidators, ...TerraValidatorsState } =\n    useTerraValidators()\n\n  const state = combineState(\n    validatorsState,\n    delegationsState,\n    undelegationsState,\n    TerraValidatorsState\n  )\n\n  const activeValidators = useMemo(() => {\n    if (!(validators && TerraValidators)) return null\n\n    const calcRate = getCalcVotingPowerRate(TerraValidators)\n\n    return validators\n      .filter(({ status }) => !getIsUnbonded(status))\n      .map((validator) => {\n        const { operator_address } = validator\n\n        const indexOfTerraValidator = TerraValidators.findIndex(\n          (validator) => validator.operator_address === operator_address\n        )\n        const TerraValidator = TerraValidators[indexOfTerraValidator]\n\n        const rank =\n          indexOfTerraValidator === -1 ? 999 : indexOfTerraValidator + 1\n        const voting_power_rate = calcRate(operator_address)\n\n        return {\n          ...TerraValidator,\n          ...validator,\n          rank,\n          voting_power_rate,\n        }\n      })\n      .sort(({ rank: a }, { rank: b }) => a - b)\n  }, [TerraValidators, validators])\n  const renderCount = () => {\n    if (!validators) return null\n    const count = validators.filter(({ status }) => getIsBonded(status)).length\n    return t(\"{{count}} active validators\", { count })\n  }\n\n  const [byRank, setByRank] = useState(isClassic)\n  const render = (keyword: string) => {\n    if (!activeValidators) return null\n\n    return (\n      <>\n        {isClassic && (\n          <section>\n            <TooltipIcon\n              content={\n                <article>\n                  <ul className={styles.tooltip}>\n                    <li>\n                      40%: Uptime <small>(time-weighted, 90 days)</small>\n                    </li>\n                    <li>\n                      30%: Rewards <small>(past 30 days)</small>\n                    </li>\n                    <li>\n                      30%: Gov participation rate{\" \"}\n                      <small>(time-weighted, since Col-5)</small>\n                    </li>\n                  </ul>\n\n                  <p>\n                    <small>\n                      Up to 5% is deducted to the validators whose voting power\n                      is within top 33%\n                    </small>\n                  </p>\n                </article>\n              }\n            >\n              <Toggle checked={byRank} onChange={() => setByRank(!byRank)}>\n                {t(\"Weighted score\")}\n              </Toggle>\n            </TooltipIcon>\n          </section>\n        )}\n\n        <Table\n          key={Number(byRank)}\n          onSort={() => setByRank(false)}\n          initialSorterKey={byRank ? undefined : \"rewards\"}\n          dataSource={activeValidators}\n          filter={({ description: { moniker }, operator_address }) => {\n            if (!keyword) return true\n            if (moniker.toLowerCase().includes(keyword.toLowerCase()))\n              return true\n            if (operator_address === keyword) return true\n            return false\n          }}\n          sorter={(a, b) => Number(a.jailed) - Number(b.jailed)}\n          rowKey={({ operator_address }) => operator_address}\n          columns={[\n            {\n              title: t(\"Moniker\"),\n              dataIndex: [\"description\", \"moniker\"],\n              defaultSortOrder: \"asc\",\n              sorter: ({ description: a }, { description: b }) =>\n                a.moniker.localeCompare(b.moniker),\n              render: (moniker, validator) => {\n                const { operator_address, jailed } = validator\n                const { contact } = validator\n\n                const delegated = delegations?.find(\n                  ({ validator_address }) =>\n                    validator_address === operator_address\n                )\n\n                const undelegated = undelegations?.find(\n                  ({ validator_address }) =>\n                    validator_address === operator_address\n                )\n\n                return (\n                  <Flex start gap={8}>\n                    <ProfileIcon src={validator.picture} size={22} />\n\n                    <Grid gap={2}>\n                      <Flex gap={4} start>\n                        <Link\n                          to={`/validator/${operator_address}`}\n                          className={styles.moniker}\n                        >\n                          {moniker}\n                        </Link>\n\n                        {contact?.email && (\n                          <VerifiedIcon\n                            className=\"info\"\n                            style={{ fontSize: 12 }}\n                          />\n                        )}\n\n                        {jailed && <ValidatorJailed />}\n                      </Flex>\n\n                      {(delegated || undelegated) && (\n                        <p className={styles.muted}>\n                          {[\n                            delegated && t(\"Delegated\"),\n                            undelegated && t(\"Undelegated\"),\n                          ]\n                            .filter(Boolean)\n                            .join(\" | \")}\n                        </p>\n                      )}\n                    </Grid>\n                  </Flex>\n                )\n              },\n            },\n            {\n              title: t(\"Voting power\"),\n              dataIndex: \"voting_power_rate\",\n              defaultSortOrder: \"desc\",\n              sorter: (\n                { voting_power_rate: a = 0 },\n                { voting_power_rate: b = 0 }\n              ) => a - b,\n              render: (value = 0) => readPercent(value),\n              align: \"right\",\n            },\n            {\n              title: t(\"Commission\"),\n              dataIndex: [\"commission\", \"commission_rates\"],\n              defaultSortOrder: \"asc\",\n              sorter: (\n                { commission: { commission_rates: a } },\n                { commission: { commission_rates: b } }\n              ) => a.rate.toNumber() - b.rate.toNumber(),\n              render: ({ rate }: Validator.CommissionRates) =>\n                readPercent(rate.toString(), { fixed: 2 }),\n              align: \"right\",\n            },\n            {\n              title: t(\"Uptime\"),\n              tooltip: t(\"90 days uptime EMA\"),\n              dataIndex: \"time_weighted_uptime\",\n              defaultSortOrder: \"desc\",\n              key: \"uptime\",\n              sorter: (\n                { time_weighted_uptime: a = 0 },\n                { time_weighted_uptime: b = 0 }\n              ) => a - b,\n              render: (value) => !!value && <Uptime>{value}</Uptime>,\n              align: \"right\",\n              hidden: !isClassic,\n            },\n            {\n              title: t(\"Rewards\"),\n              tooltip: t(\"Estimated monthly rewards with 100 Luna staked\"),\n              dataIndex: \"rewards_30d\",\n              defaultSortOrder: \"desc\",\n              key: \"rewards\",\n              sorter: ({ rewards_30d: a = \"0\" }, { rewards_30d: b = \"0\" }) =>\n                Number(a) - Number(b),\n              render: (value) =>\n                !!value && (\n                  <Read\n                    amount={Number(value) * 100}\n                    denom=\"uluna\"\n                    decimals={0}\n                    fixed={6}\n                  />\n                ),\n              align: \"right\",\n              hidden: !isClassic,\n            },\n          ]}\n        />\n      </>\n    )\n  }\n\n  return (\n    <Page title={t(\"Validators\")} extra={renderCount()} sub>\n      <Card {...state}>\n        <WithSearchInput gap={16}>{render}</WithSearchInput>\n      </Card>\n    </Page>\n  )\n}\n\nexport default Validators\n\n/* helpers */\nexport const getIsBonded = (status: BondStatus) =>\n  bondStatusFromJSON(BondStatus[status]) === BondStatus.BOND_STATUS_BONDED\n\nexport const getIsUnbonded = (status: BondStatus) =>\n  bondStatusFromJSON(BondStatus[status]) === BondStatus.BOND_STATUS_UNBONDED\n","import { useTranslation } from \"react-i18next\"\nimport { LinkButton } from \"components/general\"\nimport { Col, Page } from \"components/layout\"\nimport Staked from \"./Staked\"\nimport Validators from \"./Validators\"\n\nconst Stake = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page\n      title={t(\"Stake\")}\n      extra={\n        <LinkButton to=\"/rewards\" color=\"primary\" size=\"small\">\n          {t(\"Withdraw all rewards\")}\n        </LinkButton>\n      }\n    >\n      <Col>\n        <Staked />\n        <Validators />\n      </Col>\n    </Page>\n  )\n}\n\nexport default Stake\n","import { useTranslation } from \"react-i18next\"\nimport { useQuery } from \"react-query\"\nimport { last } from \"ramda\"\nimport { sentenceCase } from \"sentence-case\"\nimport { Proposal, Vote } from \"@terra-money/terra.js\"\nimport { Color } from \"types/components\"\nimport { Pagination, queryKey, RefetchOptions, useIsClassic } from \"../query\"\nimport { useLCDClient } from \"./lcdClient\"\nimport { PaginationOptions } from \"@terra-money/terra.js/dist/client/lcd/APIRequester\"\n\nexport const useVotingParams = () => {\n  const lcd = useLCDClient()\n  return useQuery(\n    [queryKey.gov.votingParams],\n    () => lcd.gov.votingParameters(),\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\nexport const useDepositParams = () => {\n  const lcd = useLCDClient()\n  return useQuery(\n    [queryKey.gov.depositParams],\n    () => lcd.gov.depositParameters(),\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\nexport const useTallyParams = () => {\n  const lcd = useLCDClient()\n  return useQuery([queryKey.gov.tallyParams], () => lcd.gov.tallyParameters(), {\n    ...RefetchOptions.INFINITY,\n  })\n}\n\n/* proposals */\nexport const useProposals = (\n  status: Proposal.Status,\n  paginationOptions: Partial<PaginationOptions>\n) => {\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.gov.proposals, status, paginationOptions],\n    async () => {\n      const proposals = await lcd.gov.proposals({\n        proposal_status: status,\n        ...Pagination,\n        ...paginationOptions,\n      })\n      return proposals\n    },\n    { ...RefetchOptions.DEFAULT, keepPreviousData: true }\n  )\n}\n\nexport const useGetProposalStatusItem = () => {\n  const { t } = useTranslation()\n\n  return (status: Proposal.Status) =>\n    ({\n      [Proposal.Status.PROPOSAL_STATUS_VOTING_PERIOD]: {\n        label: t(\"Voting\"),\n        color: \"info\" as Color,\n      },\n      [Proposal.Status.PROPOSAL_STATUS_DEPOSIT_PERIOD]: {\n        label: t(\"Deposit\"),\n        color: \"info\" as Color,\n      },\n      [Proposal.Status.PROPOSAL_STATUS_PASSED]: {\n        label: t(\"Passed\"),\n        color: \"success\" as Color,\n      },\n      [Proposal.Status.PROPOSAL_STATUS_REJECTED]: {\n        label: t(\"Rejected\"),\n        color: \"danger\" as Color,\n      },\n      [Proposal.Status.PROPOSAL_STATUS_FAILED]: {\n        label: t(\"Error during execution\"),\n        color: \"danger\" as Color,\n      },\n      [Proposal.Status.PROPOSAL_STATUS_UNSPECIFIED]: {\n        label: \"\",\n        color: \"danger\" as Color,\n      },\n      [Proposal.Status.UNRECOGNIZED]: {\n        label: \"\",\n        color: \"danger\" as Color,\n      },\n    }[status])\n}\n\nexport const useProposalStatusItem = (status: Proposal.Status) => {\n  const getProposalStatusItem = useGetProposalStatusItem()\n  return getProposalStatusItem(status)\n}\n\n/* proposal */\nexport const useProposal = (id: number) => {\n  const lcd = useLCDClient()\n  return useQuery([queryKey.gov.proposal, id], () => lcd.gov.proposal(id), {\n    ...RefetchOptions.INFINITY,\n  })\n}\n\n/* proposal: deposits */\nexport const useDeposits = (id: number) => {\n  const lcd = useLCDClient()\n  return useQuery(\n    [queryKey.gov.deposits, id],\n    async () => {\n      // TODO: Pagination\n      // Required when the number of results exceed 100\n      const [deposits] = await lcd.gov.deposits(id)\n      return deposits\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useTally = (id: number) => {\n  const lcd = useLCDClient()\n  return useQuery([queryKey.gov.tally, id], () => lcd.gov.tally(id), {\n    ...RefetchOptions.DEFAULT,\n  })\n}\n\n/* proposal: votes */\nexport const useGetVoteOptionItem = () => {\n  const { t } = useTranslation()\n\n  const getItem = (status: Vote.Option) =>\n    ({\n      [Vote.Option.VOTE_OPTION_YES]: {\n        label: t(\"Yes\"),\n        color: \"success\" as Color,\n      },\n      [Vote.Option.VOTE_OPTION_NO]: {\n        label: t(\"No\"),\n        color: \"danger\" as Color,\n      },\n      [Vote.Option.VOTE_OPTION_NO_WITH_VETO]: {\n        label: t(\"No with veto\"),\n        color: \"warning\" as Color,\n      },\n      [Vote.Option.VOTE_OPTION_ABSTAIN]: {\n        label: t(\"Abstain\"),\n        color: \"info\" as Color,\n      },\n      [Vote.Option.VOTE_OPTION_UNSPECIFIED]: {\n        label: \"\",\n        color: \"danger\" as Color,\n      },\n      [Vote.Option.UNRECOGNIZED]: {\n        label: \"\",\n        color: \"danger\" as Color,\n      },\n    }[status])\n\n  return (param: Vote.Option | string) => {\n    const option = typeof param === \"string\" ? Vote.Option[param as any] : param\n    return getItem(option as Vote.Option)\n  }\n}\n\n/* helpers */\nexport const useParseProposalType = (content: Proposal.Content) => {\n  const isClassic = useIsClassic()\n  const { \"@type\": type } = content.toData(isClassic)\n  return sentenceCase(last(type.split(\".\")) ?? \"\")\n}\n","import { PropsWithChildren } from \"react\"\nimport classNames from \"classnames\"\nimport { Flex } from \"components/layout\"\nimport styles from \"./VoteProgress.module.scss\"\n\nconst Flag = ({ left, children }: PropsWithChildren<{ left: string }>) => {\n  return (\n    <div className={styles.flag} style={{ left }}>\n      <span className={styles.label}>{children}</span>\n      <span className={styles.line} />\n    </div>\n  )\n}\n\ninterface Props {\n  flag: { percent: string; label: string }\n  list: { percent: string; color: string }[]\n}\n\nconst VoteProgress = ({ flag, list }: Props) => {\n  return (\n    <div>\n      <Flag left={flag.percent}>{flag.label}</Flag>\n\n      <Flex className={styles.track} start>\n        {list.map(({ percent: width, color }) => {\n          const className = classNames(styles.item, `bg-${color}`)\n          return <span className={className} style={{ width }} key={color} />\n        })}\n      </Flex>\n    </div>\n  )\n}\n\nexport default VoteProgress\n","import { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport BigNumber from \"bignumber.js\"\nimport { StakingPool, Tally, TallyParams, Vote } from \"@terra-money/terra.js\"\nimport { readAmount, readPercent } from \"@terra.kitchen/utils\"\nimport { has } from \"utils/num\"\nimport { combineState } from \"data/query\"\nimport { useGetVoteOptionItem } from \"data/queries/gov\"\nimport { useProposal, useTally, useTallyParams } from \"data/queries/gov\"\nimport { useStakingPool } from \"data/queries/staking\"\nimport { Col, Row, Card, Grid } from \"components/layout\"\nimport { Fetching, Empty } from \"components/feedback\"\nimport { Read } from \"components/token\"\nimport { ToNow } from \"components/display\"\nimport VoteProgress from \"./components/VoteProgress\"\nimport styles from \"./ProposalVotes.module.scss\"\n\nexport const options = [\n  Vote.Option.VOTE_OPTION_YES,\n  Vote.Option.VOTE_OPTION_ABSTAIN,\n  Vote.Option.VOTE_OPTION_NO,\n  Vote.Option.VOTE_OPTION_NO_WITH_VETO,\n]\n\nconst ProposalVotes = ({ id, card }: { id: number; card?: boolean }) => {\n  const { t } = useTranslation()\n  const getVoteOptionItem = useGetVoteOptionItem()\n\n  const { data: proposal, ...proposalState } = useProposal(id)\n  const { data: tally, ...tallyState } = useTally(id)\n  const { data: tallyParams, ...tallyParamsState } = useTallyParams()\n  const { data: pool, ...poolState } = useStakingPool()\n\n  const state = combineState(\n    proposalState,\n    tallyState,\n    tallyParamsState,\n    poolState\n  )\n\n  const render = () => {\n    if (!(proposal && tally && tallyParams && pool)) return null\n\n    const tallies = calcTallies(tally, tallyParams, pool)\n    const { total, list, flag, isPassing } = tallies\n    const { voting_end_time } = proposal\n\n    const flagLabel = { quorum: t(\"Quorum\"), threshold: t(\"Pass threshold\") }\n\n    if (!has(total.voted)) return <Empty>{t(\"No votes yet\")}</Empty>\n\n    return (\n      <Grid gap={40}>\n        {card && (\n          <Row>\n            <Col span={1}>\n              <article className={styles.total}>\n                <h1 className={styles.title}>{t(\"Total voted\")}</h1>\n                <section>\n                  <Read amount={total.voted} integer /> (\n                  {readPercent(total.ratio)})\n                  <p>\n                    {isPassing ? (\n                      <strong className=\"info\">{t(\"Passing...\")}</strong>\n                    ) : (\n                      <strong className=\"danger\">{t(\"Not passing...\")}</strong>\n                    )}\n                  </p>\n                </section>\n              </article>\n            </Col>\n\n            <Col span={4}>\n              <section className={styles.list}>\n                {list.map(({ option, voted, ratio }) => {\n                  const { color, label } = getVoteOptionItem(option)\n\n                  return (\n                    <article\n                      className={classNames(styles.item, `border-${color}`)}\n                      key={option}\n                    >\n                      <h1 className={styles.title}>{label}</h1>\n                      <p className={styles.ratio}>\n                        {readPercent(ratio.byVoted)}\n                      </p>\n                      <Read amount={voted} integer />\n                    </article>\n                  )\n                })}\n              </section>\n            </Col>\n          </Row>\n        )}\n\n        <Grid gap={4} className=\"small\">\n          <VoteProgress\n            flag={{ percent: readPercent(flag.x), label: flagLabel[flag.type] }}\n            list={list.map(({ option, ratio }) => ({\n              color: getVoteOptionItem(option).color,\n              percent: readPercent(ratio.byStaked),\n            }))}\n          />\n\n          {card && (\n            <p>\n              {t(\"Voted: {{n}} / {{d}}\", {\n                n: readAmount(total.voted, { prefix: true }),\n                d: readAmount(total.staked, { prefix: true }),\n              })}\n            </p>\n          )}\n\n          <p className={styles.end}>\n            {voting_end_time > new Date() ? t(\"Ends\") : t(\"Ended\")}{\" \"}\n            <ToNow>{voting_end_time}</ToNow>\n          </p>\n        </Grid>\n      </Grid>\n    )\n  }\n\n  return card ? (\n    <Card {...state} title={t(\"Votes\")} bordered>\n      {render()}\n    </Card>\n  ) : (\n    <Fetching {...state} height={2}>\n      {render()}\n    </Fetching>\n  )\n}\n\nexport default ProposalVotes\n\n/* helpers */\nconst calcTallies = (\n  tally: Tally,\n  { quorum, threshold }: TallyParams,\n  pool: StakingPool\n) => {\n  const getTallyItem = (option: Vote.Option) => {\n    const voted =\n      option === Vote.Option.UNRECOGNIZED ||\n      option === Vote.Option.VOTE_OPTION_UNSPECIFIED\n        ? \"0\"\n        : tallies[option]\n\n    const byVoted = Number(voted) / Number(total.voted)\n    const byStaked = Number(byVoted) * Number(ratio)\n\n    return { option, voted, ratio: { byVoted, byStaked } }\n  }\n\n  const tallies = {\n    [Vote.Option.VOTE_OPTION_YES]: tally.yes.toString(),\n    [Vote.Option.VOTE_OPTION_ABSTAIN]: tally.abstain.toString(),\n    [Vote.Option.VOTE_OPTION_NO]: tally.no.toString(),\n    [Vote.Option.VOTE_OPTION_NO_WITH_VETO]: tally.no_with_veto.toString(),\n  }\n\n  const total = {\n    voted: BigNumber.sum(...Object.values(tallies)).toString(),\n    staked: pool.bonded_tokens.amount.toString(),\n  }\n\n  const ratio = Number(total.voted) / Number(total.staked)\n  const list = options.map(getTallyItem)\n\n  /* quorum | threshold */\n  const determinantThreshold = BigNumber.sum(\n    ...list.slice(0, 3).map((o) => o.ratio.byVoted)\n  ).toNumber()\n\n  const thresholdX = threshold\n    .times(determinantThreshold)\n    .times(ratio)\n    .toNumber()\n\n  const isBelowQuorum = quorum.gt(ratio)\n  const flag = isBelowQuorum\n    ? { x: quorum.toNumber(), type: \"quorum\" as const }\n    : { x: thresholdX, type: \"threshold\" as const }\n\n  const yesRatio = list[0].ratio.byVoted\n  const noRatio = list.slice(2, 4).map(({ ratio }) => ratio.byVoted)\n\n  const isPassing = !isBelowQuorum && BigNumber.sum(...noRatio).lte(yesRatio)\n\n  return { list, total: { ...total, ratio }, flag, isPassing }\n}\n","import { useTranslation } from \"react-i18next\"\nimport { Proposal } from \"@terra-money/terra.js\"\nimport { useParseProposalType } from \"data/queries/gov\"\nimport { useProposalStatusItem } from \"data/queries/gov\"\nimport { ToNow } from \"components/display\"\nimport styles from \"./ProposalHeader.module.scss\"\n\nconst ProposalHeader = ({ proposal }: { proposal: Proposal }) => {\n  const { id, content, status, submit_time } = proposal\n  const { title } = content\n\n  const { t } = useTranslation()\n  const type = useParseProposalType(content)\n  const { color, label } = useProposalStatusItem(status)\n\n  return (\n    <header className={styles.header}>\n      <section className={styles.meta}>\n        <aside>\n          {id} | {type}\n        </aside>\n        <strong className={color}>{label}</strong>\n      </section>\n\n      <h1 className={styles.title}>{title}</h1>\n      <p className={styles.date}>\n        {t(\"Submitted\")} <ToNow>{submit_time}</ToNow>\n      </p>\n    </header>\n  )\n}\n\nexport default ProposalHeader\n","import { Proposal } from \"@terra-money/terra.js\"\nimport { FlexColumn } from \"components/layout\"\nimport ProposalVotes from \"./ProposalVotes\"\nimport ProposalHeader from \"./ProposalHeader\"\nimport styles from \"./ProposalItem.module.scss\"\n\ninterface Props {\n  proposal: Proposal\n  showVotes: boolean\n}\n\nconst ProposalItem = ({ proposal, showVotes }: Props) => {\n  const { id, status } = proposal\n\n  return (\n    <FlexColumn gap={36} className={styles.item}>\n      <ProposalHeader proposal={proposal} />\n\n      {showVotes && status === Proposal.Status.PROPOSAL_STATUS_VOTING_PERIOD ? (\n        <ProposalVotes id={id} />\n      ) : null}\n    </FlexColumn>\n  )\n}\n\nexport default ProposalItem\n","import classNames from \"classnames/bind\"\nimport { Grid } from \"components/layout\"\nimport { Contents } from \"types/components\"\nimport styles from \"./DataList.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  list: Contents\n  type: \"horizontal\" | \"vertical\"\n}\n\nconst DataList = ({ list, type }: Props) => {\n  return (\n    <div className={cx(styles.list, type)}>\n      {list.map(({ title, content }, index) => (\n        <Grid gap={4} key={index}>\n          <h1 className={styles.title}>{title}</h1>\n          <section>{content}</section>\n        </Grid>\n      ))}\n    </div>\n  )\n}\n\nexport default DataList\n","import { useTranslation } from \"react-i18next\"\nimport { intervalToDuration } from \"date-fns\"\nimport { useDepositParams } from \"data/queries/gov\"\nimport { useVotingParams } from \"data/queries/gov\"\nimport { Card } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport DataList from \"./components/DataList\"\n\nconst GovernanceParams = () => {\n  const { t } = useTranslation()\n\n  const { data: votingParams } = useVotingParams()\n  const { data: depositParams } = useDepositParams()\n\n  if (!(votingParams && depositParams)) return null\n\n  const minDeposit = depositParams.min_deposit.get(\"uluna\")\n\n  const contents = [\n    {\n      title: t(\"Minimum deposit\"),\n      content: minDeposit && (\n        <Read amount={minDeposit.amount.toString()} token=\"uluna\" />\n      ),\n    },\n    {\n      title: t(\"Maximum deposit period\"),\n      content: t(`{{d}} days`, {\n        d: daysFromNanoseconds(depositParams.max_deposit_period),\n      }),\n    },\n    {\n      title: t(\"Voting period\"),\n      content: t(`{{d}} days`, {\n        d: daysFromNanoseconds(votingParams.voting_period),\n      }),\n    },\n  ]\n\n  return (\n    <Card>\n      <DataList list={contents} type=\"horizontal\" />\n    </Card>\n  )\n}\n\nexport default GovernanceParams\n\n/* helpers */\nconst daysFromNanoseconds = (second: number) => {\n  const end = second * 1000\n  const { days } = intervalToDuration({ start: 0, end })\n  return days\n}\n","import { useEffect, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { atom, useRecoilState } from \"recoil\"\nimport { Proposal } from \"@terra-money/terra.js\"\nimport { combineState } from \"data/query\"\nimport { useProposals, useProposalStatusItem } from \"data/queries/gov\"\nimport { useTerraAssets } from \"data/Terra/TerraAssets\"\nimport { Col, Card } from \"components/layout\"\nimport PaginationButtons from \"components/layout/PaginationButtons\"\nimport { Fetching, Empty } from \"components/feedback\"\nimport { Toggle } from \"components/form\"\nimport ProposalItem from \"./ProposalItem\"\nimport GovernanceParams from \"./GovernanceParams\"\nimport { useNetworkName } from \"data/wallet\"\nimport styles from \"./ProposalsByStatus.module.scss\"\n\nconst DefaultGovernancePaginationState = {\n  key: \"\",\n  stack: [],\n  status: undefined,\n  total: 0,\n}\n\nconst governancePaginationState = atom({\n  key: \"governancePaginationState\",\n  default: DefaultGovernancePaginationState,\n})\n\nconst ProposalsByStatus = ({ status }: { status: Proposal.Status }) => {\n  const { t } = useTranslation()\n  const networkName = useNetworkName()\n\n  const { data: whitelistData, ...whitelistState } = useTerraAssets<{\n    [key: string]: number[]\n  }>(\"/station/proposals.json\")\n  const whitelist = whitelistData?.[networkName]\n\n  const [showAll, setShowAll] = useState(!!whitelist)\n  const toggle = () => setShowAll((state) => !state)\n\n  const pagination = 6\n  const [paginationState, setPaginationState] = useRecoilState(\n    governancePaginationState\n  )\n  const key = (paginationState && paginationState.key) || \"\"\n  const pageStack = (paginationState && paginationState.stack) || []\n  const page = pageStack.length + 1\n  const total = (paginationState && paginationState.total) || 0\n\n  /* reset pagination on status change */\n  useEffect(() => {\n    if (\n      !(\n        paginationState &&\n        paginationState.status &&\n        paginationState.status !== status\n      )\n    )\n      return\n\n    setPaginationState(DefaultGovernancePaginationState)\n  }, [paginationState, setPaginationState, status])\n\n  const { data, ...proposalState } = useProposals(status, {\n    \"pagination.count_total\": \"true\",\n    \"pagination.reverse\": \"true\",\n    \"pagination.limit\": String(pagination),\n    \"pagination.key\": key,\n  })\n  const [proposalData, paginationData] = data || []\n\n  useEffect(() => {\n    if (\n      !(\n        paginationData &&\n        paginationData.total > 0 &&\n        paginationData.total !== total\n      )\n    )\n      return\n\n    setPaginationState(\n      Object.assign({}, paginationState, { total: paginationData.total })\n    )\n  }, [paginationData, paginationState, setPaginationState, total])\n\n  const { label } = useProposalStatusItem(status)\n\n  const state = combineState(whitelistState, proposalState)\n\n  /* pagination */\n  const handleNext = () => {\n    if (!(paginationState && paginationData && paginationData.next_key))\n      return null\n    if (paginationData.next_key === key) return\n\n    setPaginationState(\n      Object.assign({}, paginationState, {\n        stack: [...pageStack, paginationData.next_key],\n        key: paginationData.next_key,\n        status: status,\n        page: page + 1,\n      })\n    )\n  }\n\n  const handlePrevious = () => {\n    setPaginationState(\n      Object.assign({}, paginationState, {\n        stack: pageStack.slice(0, pageStack.length - 1),\n        key: [...pageStack].reverse()[1],\n        status: status,\n        page: page - 1,\n      })\n    )\n  }\n\n  const renderPagination = () => {\n    if (!(pagination && paginationData)) return null\n    const recordTotal = Math.ceil(total / pagination)\n\n    if (!recordTotal || recordTotal === 1) return null\n    const prevPage = page > 1 ? () => handlePrevious() : undefined\n    const nextPage = page < total ? () => handleNext() : undefined\n\n    return (\n      <footer className={styles.pagination}>\n        <PaginationButtons\n          current={page}\n          total={recordTotal}\n          onPrev={prevPage}\n          onNext={nextPage}\n        />\n      </footer>\n    )\n  }\n\n  const render = () => {\n    if (!(proposalData && whitelistData)) return null\n\n    const proposals =\n      status === Proposal.Status.PROPOSAL_STATUS_VOTING_PERIOD && !showAll\n        ? proposalData.filter(({ id }) => whitelist?.includes(id))\n        : proposalData\n\n    return !proposals.length ? (\n      <>\n        <Card>\n          <Empty>\n            {t(\"No proposals in {{label}} period\", {\n              label: label.toLowerCase(),\n            })}\n          </Empty>\n        </Card>\n        <GovernanceParams />\n      </>\n    ) : (\n      <>\n        <section className={styles.list}>\n          {proposals.map((item) => (\n            <Card\n              to={`/proposal/${item.id}`}\n              className={styles.link}\n              key={item.id}\n            >\n              <ProposalItem proposal={item} showVotes={!showAll} />\n            </Card>\n          ))}\n        </section>\n\n        {renderPagination()}\n\n        <GovernanceParams />\n      </>\n    )\n  }\n\n  return (\n    <Fetching {...state}>\n      <Col>\n        {!!whitelist &&\n          status === Proposal.Status.PROPOSAL_STATUS_VOTING_PERIOD && (\n            <section>\n              <Toggle checked={showAll} onChange={toggle}>\n                {t(\"Show all\")}\n              </Toggle>\n            </section>\n          )}\n\n        {render()}\n      </Col>\n    </Fetching>\n  )\n}\n\nexport default ProposalsByStatus\n","import { Proposal } from \"@terra-money/terra.js\"\nimport { useGetProposalStatusItem } from \"data/queries/gov\"\nimport { Tabs } from \"components/layout\"\nimport ProposalsByStatus from \"./ProposalsByStatus\"\n\nconst Proposals = () => {\n  const getTranslation = useGetProposalStatusItem()\n\n  const tabs = [\n    Proposal.Status.PROPOSAL_STATUS_VOTING_PERIOD,\n    Proposal.Status.PROPOSAL_STATUS_DEPOSIT_PERIOD,\n    Proposal.Status.PROPOSAL_STATUS_PASSED,\n    Proposal.Status.PROPOSAL_STATUS_REJECTED,\n  ].map((key) => ({\n    key: Proposal.Status[key],\n    tab: getTranslation(key).label,\n    children: <ProposalsByStatus status={key} />,\n  }))\n\n  return <Tabs tabs={tabs} type=\"card\" />\n}\n\nexport default Proposals\n","import { useTranslation } from \"react-i18next\"\nimport { LinkButton } from \"components/general\"\nimport { Page } from \"components/layout\"\nimport Proposals from \"./Proposals\"\n\nconst Governance = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page\n      title=\"Governance\"\n      extra={\n        <LinkButton to=\"/proposal/new\" color=\"primary\" size=\"small\">\n          {t(\"New proposal\")}\n        </LinkButton>\n      }\n    >\n      <Proposals />\n    </Page>\n  )\n}\n\nexport default Governance\n","import { useTranslation } from \"react-i18next\"\nimport { LinkButton } from \"components/general\"\nimport { ExtraActions } from \"components/layout\"\n\nconst ContractActions = () => {\n  const { t } = useTranslation()\n\n  return (\n    <ExtraActions>\n      <LinkButton to=\"/contract/store\" color=\"primary\" size=\"small\">\n        {t(\"Upload\")}\n      </LinkButton>\n\n      <LinkButton to=\"/contract/instantiate\" color=\"primary\" size=\"small\">\n        {t(\"Instantiate\")}\n      </LinkButton>\n    </ExtraActions>\n  )\n}\n\nexport default ContractActions\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useQuery } from \"react-query\"\nimport { useForm } from \"react-hook-form\"\nimport { isEmpty } from \"ramda\"\nimport { parseJSON, validateMsg } from \"utils/data\"\nimport { getErrorMessage } from \"utils/error\"\nimport { useGetContractQuery } from \"data/queries/wasm\"\nimport { Pre } from \"components/general\"\nimport { Fetching } from \"components/feedback\"\nimport { Form, FormArrow, FormItem, Submit, EditorInput } from \"components/form\"\nimport validate from \"txs/validate\"\nimport { useContract } from \"./Contract\"\n\ninterface Values {\n  msg: string\n}\n\nconst ContractQuery = () => {\n  const { t } = useTranslation()\n  const { address } = useContract()\n\n  /* form */\n  const form = useForm<Values>({ mode: \"onChange\" })\n  const { register, watch, handleSubmit } = form\n  const { msg } = watch()\n  const invalid = msg && !parseJSON(msg)\n  const disabled = !validateMsg(msg)\n\n  /* query */\n  const getContractQuery = useGetContractQuery()\n  const [query, setQuery] = useState<object>({})\n\n  const { data, error, ...state } = useQuery({\n    ...getContractQuery<object>(address, query),\n    enabled: !isEmpty(query),\n    retry: false,\n  })\n\n  const message = getErrorMessage(error)\n\n  /* submit */\n  const submit = ({ msg }: Values) => {\n    const parsed = parseJSON(msg)\n    if (parsed) setQuery(parsed)\n  }\n\n  return (\n    <Fetching {...state}>\n      <Form onSubmit={handleSubmit(submit)}>\n        <FormItem\n          label={t(\"Input\")}\n          error={invalid ? t(\"Invalid JSON\") : undefined}\n        >\n          <EditorInput\n            {...register(\"msg\", { validate: validate.msg() })}\n            placeholder='{\"token_info\": {}}'\n          />\n        </FormItem>\n\n        {(data || message) && (\n          <>\n            <FormArrow />\n\n            <FormItem label={t(\"Output\")}>\n              <Pre height={240} normal={!!message}>\n                {message ?? data}\n              </Pre>\n            </FormItem>\n          </>\n        )}\n\n        <Submit disabled={disabled} submitting={state.isLoading} />\n      </Form>\n    </Fetching>\n  )\n}\n\nexport default ContractQuery\n","import { useTranslation } from \"react-i18next\"\nimport { useAddress } from \"data/wallet\"\nimport { Button, LinkButton } from \"components/general\"\nimport { ModalButton } from \"components/feedback\"\nimport { ExtraActions } from \"components/layout\"\nimport ContractQuery from \"./ContractQuery\"\nimport { useContract } from \"./Contract\"\n\nconst ContractItemActions = () => {\n  const { t } = useTranslation()\n  const connectedAddress = useAddress()\n  const { address, admin } = useContract()\n\n  return (\n    <ExtraActions>\n      <ModalButton\n        title={t(\"Query\")}\n        renderButton={(open) => (\n          <Button onClick={open} size=\"small\" outline>\n            {t(\"Query\")}\n          </Button>\n        )}\n      >\n        <ContractQuery />\n      </ModalButton>\n\n      <LinkButton to={`/contract/execute/${address}`} size=\"small\" outline>\n        {t(\"Execute\")}\n      </LinkButton>\n\n      <LinkButton\n        to={`/contract/migrate/${address}`}\n        disabled={!admin || connectedAddress !== admin}\n        size=\"small\"\n        outline\n      >\n        {t(\"Migrate\")}\n      </LinkButton>\n\n      <LinkButton\n        to={`/contract/updateadmin/${address}`}\n        disabled={!admin || connectedAddress !== admin}\n        size=\"small\"\n        outline\n      >\n        {t(\"Update Admin\")}\n      </LinkButton>\n    </ExtraActions>\n  )\n}\n\nexport default ContractItemActions\n","import { useTranslation } from \"react-i18next\"\nimport { ContractInfo } from \"@terra-money/terra.js\"\nimport { Pre, FinderLink } from \"components/general\"\nimport { Grid } from \"components/layout\"\nimport styles from \"./ContractDetails.module.scss\"\n\nconst ContractDetails = (props: ContractInfo) => {\n  const { t } = useTranslation()\n  const { code_id, admin, creator, init_msg } = props\n\n  const contents = [\n    {\n      title: t(\"Code ID\"),\n      content: code_id,\n    },\n    {\n      title: t(\"Creator\"),\n      content: <FinderLink short>{creator}</FinderLink>,\n    },\n    {\n      title: t(\"Admin\"),\n      content: admin && <FinderLink short>{admin}</FinderLink>,\n    },\n  ]\n\n  return (\n    <Grid gap={32}>\n      <header className={styles.header}>\n        {contents.map(({ title, content }) =>\n          !content ? null : (\n            <Grid gap={4} key={title}>\n              <h1>{title}</h1>\n              <p>{content}</p>\n            </Grid>\n          )\n        )}\n      </header>\n\n      <Grid gap={4} className={styles.wrapper}>\n        {/* Do not translate this */}\n        <h1>InitMsg</h1>\n        <Pre height={240}>{init_msg}</Pre>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default ContractDetails\n","import { ContractInfo } from \"@terra-money/terra.js\"\nimport { FinderLink } from \"components/general\"\nimport { Card } from \"components/layout\"\nimport ContractItemActions from \"./ContractItemActions\"\nimport ContractDetails from \"./ContractDetails\"\nimport styles from \"./ContractItem.module.scss\"\n\nconst ContractItem = (props: ContractInfo) => {\n  const { address } = props\n\n  return (\n    <Card\n      title={<FinderLink className={styles.link}>{address}</FinderLink>}\n      extra={<ContractItemActions />}\n      mainClassName={styles.main}\n      bordered\n    >\n      <ContractDetails {...props} />\n    </Card>\n  )\n}\n\nexport default ContractItem\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport ManageSearchIcon from \"@mui/icons-material/ManageSearch\"\nimport { AccAddress, ContractInfo } from \"@terra-money/terra.js\"\nimport createContext from \"utils/createContext\"\nimport { useContractInfo } from \"data/queries/wasm\"\nimport { Page, Card, Grid } from \"components/layout\"\nimport { Fetching, State, Empty } from \"components/feedback\"\nimport { SearchInput } from \"components/form\"\nimport ContractActions from \"./ContractActions\"\nimport ContractItem from \"./ContractItem\"\n\nexport const [useContract, ContractProvider] =\n  createContext<ContractInfo>(\"useContract\")\n\nconst Contract = () => {\n  const { t } = useTranslation()\n\n  /* submit */\n  const [address, setAddress] = useState(\"\")\n  const { data: result, ...state } = useContractInfo(address)\n\n  return (\n    <Page title={t(\"Contract\")} extra={<ContractActions />}>\n      <Grid gap={20}>\n        <SearchInput\n          value={address}\n          onChange={(e) => setAddress(e.target.value)}\n        />\n\n        {state.error ? (\n          <Card>\n            <Empty />\n          </Card>\n        ) : !AccAddress.validate(address) ? (\n          <Card>\n            <State icon={<ManageSearchIcon fontSize=\"inherit\" />}>\n              {t(\"Search by contract address\")}\n            </State>\n          </Card>\n        ) : (\n          <Fetching {...state}>\n            {result && (\n              <ContractProvider value={result}>\n                <ContractItem {...result} />\n              </ContractProvider>\n            )}\n          </Fetching>\n        )}\n      </Grid>\n    </Page>\n  )\n}\n\nexport default Contract\n","import { useParams } from \"react-router-dom\"\n\nconst useAddressParams = () => {\n  const { address } = useParams()\n  if (!address) throw new Error(\"Operator address is not defined\")\n  return address\n}\n\nexport default useAddressParams\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTilde(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 100 10\",\n    width: 100,\n    height: 10,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M100 2S72 7 47 2 0 4 0 4v6h100V2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTilde);\nexport default __webpack_public_path__ + \"static/media/Tilde.fb821c6d.svg\";\nexport { ForwardRef as ReactComponent };","import { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport LaptopOutlinedIcon from \"@mui/icons-material/LaptopOutlined\"\nimport EmailOutlinedIcon from \"@mui/icons-material/EmailOutlined\"\nimport { TERRA_VALIDATORS } from \"config/constants\"\nimport { Contacts as ContactsParams } from \"types/components\"\nimport { useValidator } from \"data/queries/staking\"\nimport { useTerraValidator } from \"data/Terra/TerraAPI\"\nimport { ReactComponent as TerraValidatorProfiles } from \"styles/images/stake/TerraValidatorProfiles.svg\"\nimport { ExternalLink, validateLink } from \"components/general\"\nimport { Card, Contacts, Flex, Grid } from \"components/layout\"\nimport ProfileIcon from \"./components/ProfileIcon\"\nimport { ValidatorJailed, ValidatorStatus } from \"./components/ValidatorTag\"\nimport useAddressParams from \"./useAddressParams\"\nimport styles from \"./ValidatorCompact.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst ValidatorCompact = ({ vertical }: { vertical?: boolean }) => {\n  const { t } = useTranslation()\n  const address = useAddressParams()\n  const { data: validator, ...state } = useValidator(address)\n  const { data: TerraValidator } = useTerraValidator(address)\n\n  if (!validator) return null\n\n  const { operator_address } = validator\n  const { status, jailed, description } = validator\n  const { moniker, details, website } = description\n\n  return (\n    <Card {...state}>\n      <Grid gap={16}>\n        <header className={cx(styles.header, { vertical })}>\n          {TerraValidator && (\n            <ProfileIcon src={TerraValidator.picture} size={60} />\n          )}\n\n          <Grid gap={4}>\n            <Flex gap={10} start>\n              <h1 className={styles.moniker}>{moniker}</h1>\n              <ValidatorStatus status={status} />\n              {jailed && <ValidatorJailed />}\n            </Flex>\n\n            {validateLink(website) && (\n              <Flex gap={4} className={styles.link} start>\n                <LaptopOutlinedIcon fontSize=\"inherit\" />\n                <ExternalLink href={website}>{website}</ExternalLink>\n              </Flex>\n            )}\n\n            {TerraValidator?.contact?.email && (\n              <Flex gap={4} className={styles.link} start>\n                <EmailOutlinedIcon fontSize=\"inherit\" />\n                <ExternalLink href={`mailto:${TerraValidator.contact.email}`}>\n                  {TerraValidator.contact.email}\n                </ExternalLink>\n              </Flex>\n            )}\n          </Grid>\n        </header>\n\n        {details && <p>{details}</p>}\n\n        <Grid gap={4} className={styles.footer}>\n          {(TerraValidator?.contact?.email || TerraValidator?.contact) && (\n            <h2>{t(\"View on\")}</h2>\n          )}\n\n          <Flex start gap={8} wrap className={styles.links}>\n            {TerraValidator?.contact?.email && (\n              <ExternalLink href={TERRA_VALIDATORS + operator_address}>\n                <TerraValidatorProfiles height={36} />\n              </ExternalLink>\n            )}\n          </Flex>\n\n          {TerraValidator?.contact && (\n            <Contacts contacts={parseContacts(TerraValidator.contact)} />\n          )}\n        </Grid>\n      </Grid>\n    </Card>\n  )\n}\n\nexport default ValidatorCompact\n\n/* helpers */\nconst toLink = (slug: string, initial: string): string => {\n  if (validateLink(slug)) return slug\n  if (slug.startsWith(\"@\")) return toLink(slug.slice(1), initial)\n  return initial + slug\n}\n\nconst parseContacts = ({ telegram, twitter, ...contacts }: ContactsParams) => {\n  return {\n    ...contacts,\n    telegram: telegram && toLink(telegram, \"https://t.me/\"),\n    twitter: twitter && toLink(twitter, \"https://twitter.com/\"),\n  }\n}\n","import { Content, Contents } from \"types/components\"\nimport { Grid } from \"components/layout\"\nimport styles from \"./ValidatorNumbers.module.scss\"\n\nexport const ValidatorNumber = ({ title, content }: Content) => {\n  return (\n    <Grid className={styles.item}>\n      <h1 className={styles.title}>{title}</h1>\n      <p className={styles.value}>{content}</p>\n    </Grid>\n  )\n}\n\nconst ValidatorNumbers = ({ contents }: { contents: Contents }) => {\n  return (\n    <Grid className={styles.numbers}>\n      {contents.map((content, index) => (\n        <ValidatorNumber {...content} key={index} />\n      ))}\n    </Grid>\n  )\n}\n\nexport default ValidatorNumbers\n","import { useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { TerraValidator } from \"types/validator\"\nimport { calcSelfDelegation } from \"data/Terra/TerraAPI\"\nimport { Card } from \"components/layout\"\nimport { TooltipIcon } from \"components/display\"\nimport Uptime from \"./components/Uptime\"\nimport ValidatorNumbers from \"./components/ValidatorNumbers\"\n\nconst ValidatorSummary = ({ validator }: { validator: TerraValidator }) => {\n  const { t } = useTranslation()\n\n  const { time_weighted_uptime } = validator\n  const selfDelegation = calcSelfDelegation(validator)\n\n  const contents = useMemo(() => {\n    if (!(selfDelegation || time_weighted_uptime)) return undefined\n\n    return [\n      {\n        title: t(\"Self delegation\"),\n        content: selfDelegation && readPercent(selfDelegation),\n      },\n      {\n        title: (\n          <TooltipIcon\n            content={t(\"90 days uptime EMA (Exponential Moving Average)\")}\n          >\n            {t(\"Uptime\")}\n          </TooltipIcon>\n        ),\n        content: time_weighted_uptime && (\n          <Uptime>{time_weighted_uptime}</Uptime>\n        ),\n      },\n    ].filter(({ content }) => content)\n  }, [t, time_weighted_uptime, selfDelegation])\n\n  return <Card>{contents && <ValidatorNumbers contents={contents} />}</Card>\n}\n\nexport default ValidatorSummary\n","import { useTranslation } from \"react-i18next\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { TerraValidator } from \"types/validator\"\nimport { Card } from \"components/layout\"\nimport { ToNow } from \"components/display\"\nimport ValidatorNumbers from \"./components/ValidatorNumbers\"\n\nconst ValidatorCommission = ({ validator }: { validator: TerraValidator }) => {\n  const { t } = useTranslation()\n\n  const { commission } = validator\n  const { commission_rates, update_time } = commission\n  const { max_change_rate, max_rate, rate } = commission_rates\n\n  const commissions = [\n    {\n      title: t(\"Current\"),\n      content: readPercent(rate),\n    },\n    {\n      title: t(\"Max\"),\n      content: readPercent(max_rate),\n    },\n    {\n      title: t(\"Max daily change\"),\n      content: readPercent(max_change_rate),\n    },\n    {\n      title: t(\"Last changed\"),\n      content: <ToNow>{new Date(update_time)}</ToNow>,\n    },\n  ]\n\n  return (\n    <Card title={t(\"Commission\")} bordered>\n      <ValidatorNumbers contents={commissions} />\n    </Card>\n  )\n}\n\nexport default ValidatorCommission\n","import { useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Link } from \"react-router-dom\"\nimport { reverse } from \"ramda\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { TerraValidator } from \"types/validator\"\nimport { useGetVoteOptionItem } from \"data/queries/gov\"\nimport { useVotingPowerRate } from \"data/Terra/TerraAPI\"\nimport { Card, Grid, Table } from \"components/layout\"\nimport ValidatorNumbers from \"./components/ValidatorNumbers\"\n\nconst ValidatorVotes = ({ validator }: { validator: TerraValidator }) => {\n  const { t } = useTranslation()\n  const getVoteOptionItem = useGetVoteOptionItem()\n\n  const { operator_address, votes } = validator\n\n  const { data: votingPowerRate, ...votingPowerRateState } =\n    useVotingPowerRate(operator_address)\n\n  const contents = useMemo(() => {\n    if (!votingPowerRate) return []\n    return [{ title: t(\"Voting power\"), content: readPercent(votingPowerRate) }]\n  }, [t, votingPowerRate])\n\n  return (\n    <Card {...votingPowerRateState}>\n      <Grid gap={20}>\n        {contents && <ValidatorNumbers contents={contents} />}\n        {votes && (\n          <Table\n            columns={[\n              { dataIndex: \"proposal_id\", title: \"ID\" },\n              {\n                dataIndex: \"title\",\n                title: \"Title\",\n                render: (title, { proposal_id }) => {\n                  return <Link to={`/proposal/${proposal_id}`}>{title}</Link>\n                },\n              },\n              {\n                dataIndex: \"options\",\n                title: \"Vote\",\n                render: (options) => {\n                  return options\n                    .map(({ option }: { option: string }) => {\n                      const { label } = getVoteOptionItem(option)\n                      return label\n                    })\n                    .join(\", \")\n                },\n                align: \"right\",\n              },\n            ]}\n            dataSource={reverse(votes)}\n            pagination={5}\n            size=\"small\"\n          />\n        )}\n      </Grid>\n    </Card>\n  )\n}\n\nexport default ValidatorVotes\n","import { useTranslation } from \"react-i18next\"\nimport { AccAddress, Validator } from \"@terra-money/terra.js\"\nimport { FinderLink } from \"components/general\"\nimport { Card, Grid } from \"components/layout\"\nimport { ValidatorNumber } from \"./components/ValidatorNumbers\"\nimport styles from \"./ValidatorAddresses.module.scss\"\n\nconst ValidatorAddresses = ({ validator }: { validator: Validator }) => {\n  const { t } = useTranslation()\n\n  const { operator_address } = validator\n\n  const addresses = [\n    {\n      title: t(\"Operator address\"),\n      content: <FinderLink validator>{operator_address}</FinderLink>,\n    },\n    {\n      title: t(\"Wallet address\"),\n      content: (\n        <FinderLink>{AccAddress.fromValAddress(operator_address)}</FinderLink>\n      ),\n    },\n  ]\n\n  return (\n    <Card>\n      <Grid gap={12} className={styles.addresses}>\n        {addresses.map((item) => (\n          <ValidatorNumber {...item} key={item.title} />\n        ))}\n      </Grid>\n    </Card>\n  )\n}\n\nexport default ValidatorAddresses\n","import { useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { ValAddress } from \"@terra-money/terra.js\"\nimport { has } from \"utils/num\"\nimport { combineState } from \"data/query\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { useDelegations, useDelegation } from \"data/queries/staking\"\nimport { getAvailableStakeActions } from \"data/queries/staking\"\nimport { calcRewardsValues, useRewards } from \"data/queries/distribution\"\nimport { LinkButton } from \"components/general\"\nimport { Col, Card, ExtraActions, Grid } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport { StakeAction } from \"txs/stake/StakeForm\"\nimport styles from \"./ValidatorActions.module.scss\"\n\nconst ValidatorActions = ({ destination }: { destination: ValAddress }) => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const { data: delegation, ...delegationState } = useDelegation(destination)\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const { data: rewards, ...rewardsState } = useRewards()\n  const state = combineState(delegationState, delegationsState)\n  const calcValue = useMemoizedCalcValue()\n\n  const label = {\n    [StakeAction.DELEGATE]: t(\"Delegate\"),\n    [StakeAction.REDELEGATE]: t(\"Redelegate\"),\n    [StakeAction.UNBOND]: t(\"Undelegate\"),\n  }\n\n  const renderDelegationsValue = () => {\n    const amount =\n      delegationState.isSuccess && delegation\n        ? delegation.balance.amount.toString()\n        : \"0\"\n\n    return (\n      <section>\n        <Read amount={amount} denom=\"uluna\" className={styles.total} block />\n      </section>\n    )\n  }\n\n  const renderDelegationsActions = () => {\n    if (!delegations) return\n\n    const availableActions = getAvailableStakeActions(destination, delegations)\n\n    return (\n      <ExtraActions align=\"stretch\">\n        {Object.values(StakeAction).map((action) => (\n          <LinkButton\n            to={`/stake/${destination}`}\n            state={action}\n            color={action === StakeAction.DELEGATE ? \"primary\" : \"default\"}\n            disabled={!availableActions[action]}\n            key={action}\n          >\n            {label[action]}\n          </LinkButton>\n        ))}\n      </ExtraActions>\n    )\n  }\n\n  const rewardsValues = useMemo(() => {\n    const defaultValues = { address: destination, sum: \"0\", list: [] }\n    if (!rewards) return defaultValues\n    const { byValidator } = calcRewardsValues(rewards, currency, calcValue)\n    const values = byValidator.find(({ address }) => address === destination)\n    return values ?? defaultValues\n  }, [calcValue, currency, destination, rewards])\n\n  const renderRewardsValue = () => {\n    const { list } = rewardsValues\n    const amount = list.find(({ denom }) => denom === \"uluna\")?.amount ?? \"0\"\n\n    return (\n      <section>\n        <Read amount={amount} denom=\"uluna\" className={styles.total} />{\" \"}\n        <span className={styles.small}>\n          {list.length > 1 &&\n            `+${t(\"{{length}} coins\", { length: list.length - 1 })}`}\n        </span>\n      </section>\n    )\n  }\n\n  const renderRewardsActions = () => {\n    const disabled = !has(rewardsValues.sum)\n\n    return (\n      <ExtraActions align=\"stretch\">\n        <LinkButton to=\"/rewards\" disabled={disabled} block>\n          {t(\"Withdraw rewards\")}\n        </LinkButton>\n      </ExtraActions>\n    )\n  }\n\n  return (\n    <Col>\n      <Card {...state} title={t(\"My delegations\")}>\n        <Grid gap={20}>\n          {renderDelegationsValue()}\n          {renderDelegationsActions()}\n        </Grid>\n      </Card>\n\n      <Card {...rewardsState} title={t(\"My rewards\")}>\n        <Grid gap={20}>\n          {renderRewardsValue()}\n          {renderRewardsActions()}\n        </Grid>\n      </Card>\n    </Col>\n  )\n}\n\nexport default ValidatorActions\n","import { useTranslation } from \"react-i18next\"\nimport { useValidator } from \"data/queries/staking\"\nimport { useTerraValidator } from \"data/Terra/TerraAPI\"\nimport { Col, Page, Auto } from \"components/layout\"\nimport { useGoBackOnError } from \"app/routes\"\nimport useAddressParams from \"./useAddressParams\"\nimport ValidatorCompact from \"./ValidatorCompact\"\nimport ValidatorSummary from \"./ValidatorSummary\"\nimport ValidatorCommission from \"./ValidatorCommission\"\nimport ValidatorVotes from \"./ValidatorVotes\"\nimport ValidatorAddresses from \"./ValidatorAddresses\"\nimport ValidatorActions from \"./ValidatorActions\"\n\nconst ValidatorDetails = () => {\n  const { t } = useTranslation()\n  const address = useAddressParams()\n  const { data: validator, ...state } = useValidator(address)\n  const { data: TerraValidator } = useTerraValidator(address)\n\n  useGoBackOnError(state)\n\n  const render = () => {\n    if (!validator) return null\n\n    return (\n      <Auto\n        columns={[\n          <Col>\n            <ValidatorCompact />\n\n            {TerraValidator && (\n              <>\n                <ValidatorSummary validator={TerraValidator} />\n                <ValidatorCommission validator={TerraValidator} />\n                <ValidatorVotes validator={TerraValidator} />\n              </>\n            )}\n\n            <ValidatorAddresses validator={validator} />\n          </Col>,\n          <ValidatorActions destination={validator.operator_address} />,\n        ]}\n      />\n    )\n  }\n\n  return (\n    <Page {...state} title={t(\"Validator details\")}>\n      {render()}\n    </Page>\n  )\n}\n\nexport default ValidatorDetails\n","import { useTranslation } from \"react-i18next\"\nimport { Proposal } from \"@terra-money/terra.js\"\nimport { LinkButton } from \"components/general\"\n\nconst ProposalActions = ({ proposal }: { proposal: Proposal }) => {\n  const { t } = useTranslation()\n  const { status } = proposal\n\n  return status === Proposal.Status.PROPOSAL_STATUS_VOTING_PERIOD ? (\n    <LinkButton to=\"./vote\" color=\"primary\" size=\"small\">\n      {t(\"Vote\")}\n    </LinkButton>\n  ) : status === Proposal.Status.PROPOSAL_STATUS_DEPOSIT_PERIOD ? (\n    <LinkButton to=\"./deposit\" color=\"primary\" size=\"small\">\n      {t(\"Deposit\")}\n    </LinkButton>\n  ) : null\n}\n\nexport default ProposalActions\n","import { Fragment, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport xss from \"xss\"\nimport { Proposal } from \"@terra-money/terra.js\"\nimport { ExternalLink } from \"components/general\"\nimport { Grid } from \"components/layout\"\nimport { TooltipIcon } from \"components/display\"\nimport { Checkbox, FormHelp, FormWarning } from \"components/form\"\n\nconst ProposalDescription = ({ proposal }: { proposal: Proposal }) => {\n  const { description } = proposal.content\n\n  const { t } = useTranslation()\n  const [showOriginal, setShowOriginal] = useState(false)\n\n  const urlRegex = /(https?:\\/\\/[^\\s]+)/g\n  const parts = description.split(urlRegex)\n\n  const showCheckbox = !!parts.filter(\n    (part) => part.match(urlRegex) && !isWhitelisted(part)\n  ).length\n\n  const renderPart = (part: string) => {\n    const url = xss(part.match(urlRegex)?.[0] ?? \"\")\n\n    if (!url) return part\n\n    if (isWhitelisted(url))\n      return (\n        <ExternalLink href={part} icon={true}>\n          {part}\n        </ExternalLink>\n      )\n\n    if (showOriginal) return part\n\n    const tooltip = (\n      <TooltipIcon\n        content={t(\n          \"References to websites outside the Terra ecosystem are not displayed in the proposal description\"\n        )}\n      >\n        <i>{t(\"external link\")}</i>\n      </TooltipIcon>\n    )\n\n    return <>[{tooltip}]</>\n  }\n\n  return (\n    <Grid gap={20}>\n      <p>\n        {parts.map((part, index) => (\n          <Fragment key={index}>{renderPart(part)}</Fragment>\n        ))}\n      </p>\n\n      {showCheckbox && (\n        <Grid gap={4}>\n          <FormHelp>\n            {t(\n              \"References to websites outside the Terra ecosystem are not displayed in the proposal description\"\n            )}\n          </FormHelp>\n          <FormWarning>\n            {t(\n              \"Never supply your seed phrase, password, or private key to an external website unless you are absolutely certain you are interacting with a trusted service\"\n            )}\n          </FormWarning>\n          <Checkbox\n            checked={showOriginal}\n            onChange={() => setShowOriginal(!showOriginal)}\n          >\n            {t(\"Display original proposal description\")}\n          </Checkbox>\n        </Grid>\n      )}\n    </Grid>\n  )\n}\n\nexport default ProposalDescription\n\nconst isWhitelisted = (url?: string) => {\n  if (!url) return false\n  return new URL(url).hostname.endsWith(\"terra.money\")\n}\n","import { Proposal } from \"@terra-money/terra.js\"\nimport { FinderLink } from \"components/general\"\nimport { Col, Card } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport { useIsClassic } from \"data/query\"\nimport DataList from \"./components/DataList\"\n\nconst ProposalSummary = ({ proposal }: { proposal: Proposal }) => {\n  const isClassic = useIsClassic()\n  const contentData = proposal.content.toData(isClassic)\n  const details = Object.entries(contentData)\n    .filter(([key]) => ![\"@type\", \"title\", \"description\"].includes(key))\n    .map(([key, content]) => ({\n      title: capitalize(key),\n      content:\n        key === \"amount\" ? (\n          content.map((coin: CoinData) => <Read {...coin} key={coin.denom} />)\n        ) : key === \"recipient\" ? (\n          <FinderLink short>{content}</FinderLink>\n        ) : key === \"changes\" ? (\n          content.map((item: object, index: number) => (\n            <pre key={index}>{stringify(item)}</pre>\n          ))\n        ) : (\n          <pre>{stringify(content)}</pre>\n        ),\n    }))\n\n  return !details.length ? null : (\n    <Col>\n      <Card>\n        <DataList list={details} type=\"vertical\" />\n      </Card>\n    </Col>\n  )\n}\n\nexport default ProposalSummary\n\n/* helpers */\nconst capitalize = (s: string) => s.charAt(0).toUpperCase() + s.slice(1)\nconst stringify = (value: string | object) =>\n  typeof value !== \"string\" ? JSON.stringify(value, null, 2) : value\n","import { useCallback } from \"react\"\nimport BigNumber from \"bignumber.js\"\nimport { fromPairs, zipObj } from \"ramda\"\nimport { Coin, Coins, MsgExecuteContract, MsgSwap } from \"@terra-money/terra.js\"\nimport { isDenom, isDenomLuna } from \"@terra.kitchen/utils\"\nimport { isDenomTerra, isDenomTerraNative } from \"@terra.kitchen/utils\"\nimport { TERRASWAP_COMMISSION_RATE } from \"config/constants\"\nimport { has, toPrice } from \"utils/num\"\nimport { getAmount, toAsset, toAssetInfo, toTokenItem } from \"utils/coin\"\nimport { toBase64 } from \"utils/data\"\nimport { useAddress } from \"data/wallet\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\nimport { useSwap } from \"./SwapContext\"\nimport { SwapSpread } from \"./SingleSwapContext\"\n\n/* Call this hook after wrap component around with a SwapContext.\nThen, various helper functions will be generated based on the fetched data. */\n\nexport enum SwapMode {\n  ONCHAIN = \"Market\",\n  TERRASWAP = \"Terraswap\",\n  ASTROPORT = \"Astroport\",\n  ROUTESWAP = \"Route\",\n}\n\nexport interface SwapAssets {\n  offerAsset: Token\n  askAsset: Token\n}\n\nexport interface SwapParams extends SwapAssets, Partial<SwapSpread> {\n  amount: Amount\n}\n\n/* simulated */\n// rate: original ratio\n// ratio: simulated ratio\n// price: simulated ratio to print considering `decimals`\n// belief_price: ratio to 18 decimal points\nexport interface SimulateResult<T = any> {\n  mode: SwapMode\n  query: SwapParams\n  value: Amount\n  ratio: Price\n  rate?: Price\n  payload: T\n}\n\nexport type PayloadOnchain = Amount // spread\nexport type PayloadTerraswap = Amount // fee\nexport type PayloadRouteswap = string[]\n\nconst useSwapUtils = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n  const context = useSwap()\n  const { exchangeRates, pairs, contracts } = context\n\n  /* helpers */\n  // terraswap\n  const findPair = useCallback(\n    (assets: SwapAssets, dex: Dex) => {\n      const { offerAsset, askAsset } = assets\n      const pair = Object.entries(pairs).find(([, item]) =>\n        [offerAsset, askAsset].every(\n          (asset) => dex === item.dex && item.assets.includes(asset)\n        )\n      )\n\n      if (!pair) return\n\n      const [address, item] = pair\n      return { address, ...item }\n    },\n    [pairs]\n  )\n\n  /* determine swap mode */\n  const getIsOnchainAvailable = useCallback(\n    ({ offerAsset, askAsset }: SwapAssets) => {\n      return [offerAsset, askAsset].every(isDenomTerraNative)\n    },\n    []\n  )\n\n  const getIsTerraswapAvailable = useCallback(\n    (assets: SwapAssets) => !!findPair(assets, \"terraswap\"),\n    [findPair]\n  )\n\n  const getIsAstroportAvailable = useCallback(\n    (assets: SwapAssets) => !!findPair(assets, \"astroport\"),\n    [findPair]\n  )\n\n  const getIsRouteswapAvaialble = useCallback(\n    (assets: SwapAssets) => {\n      if (!contracts) return false\n      if (getIsOnchainAvailable(assets)) return false\n      if (getIsTerraswapAvailable(assets)) return false\n\n      const r0 =\n        getIsOnchainAvailable({ ...assets, askAsset: \"uusd\" }) ||\n        getIsTerraswapAvailable({ ...assets, askAsset: \"uusd\" })\n\n      const r1 =\n        getIsOnchainAvailable({ ...assets, offerAsset: \"uusd\" }) ||\n        getIsTerraswapAvailable({ ...assets, offerAsset: \"uusd\" })\n\n      return r0 && r1\n    },\n    [contracts, getIsOnchainAvailable, getIsTerraswapAvailable]\n  )\n\n  const getAvailableSwapModes = useCallback(\n    (assets: Partial<SwapAssets>): SwapMode[] => {\n      if (!validateAssets(assets)) return []\n\n      const functions = {\n        [SwapMode.ONCHAIN]: getIsOnchainAvailable,\n        [SwapMode.TERRASWAP]: getIsTerraswapAvailable,\n        [SwapMode.ASTROPORT]: getIsAstroportAvailable,\n        [SwapMode.ROUTESWAP]: getIsRouteswapAvaialble,\n      }\n\n      return Object.entries(functions)\n        .filter(([, fn]) => fn(assets))\n        .map(([key]) => key as SwapMode)\n    },\n    [\n      getIsOnchainAvailable,\n      getIsTerraswapAvailable,\n      getIsAstroportAvailable,\n      getIsRouteswapAvaialble,\n    ]\n  )\n\n  const getIsSwapAvailable = (assets: Partial<SwapAssets>) =>\n    !!getAvailableSwapModes(assets).length\n\n  /* swap mode for multiple swap */\n  const getSwapMode = useCallback(\n    (assets: SwapAssets) => {\n      const { askAsset } = assets\n      if (isDenomLuna(askAsset)) {\n        return getIsTerraswapAvailable(assets)\n          ? SwapMode.TERRASWAP\n          : SwapMode.ROUTESWAP\n      }\n\n      return SwapMode.ONCHAIN\n    },\n    [getIsTerraswapAvailable]\n  )\n\n  /* simulate | execute */\n  type SimulateFn<T = any> = (params: SwapParams) => Promise<SimulateResult<T>>\n  const getOnchainParams = useCallback(\n    ({ amount, offerAsset, askAsset, minimum_receive }: SwapParams) => {\n      if (!address) return { msgs: [] }\n\n      const getAssertMessage = () => {\n        if (!getAssertRequired({ offerAsset, askAsset })) return\n        if (!(contracts?.assertLimitOrder && minimum_receive)) return\n\n        return new MsgExecuteContract(address, contracts.assertLimitOrder, {\n          assert_limit_order: {\n            offer_coin: { denom: offerAsset, amount },\n            ask_denom: askAsset,\n            minimum_receive,\n          },\n        })\n      }\n\n      const assert = getAssertMessage()\n      const offerCoin = new Coin(offerAsset, amount)\n      const swap = new MsgSwap(address, offerCoin, askAsset)\n      return { msgs: assert ? [assert, swap] : [swap] }\n    },\n    [address, contracts]\n  )\n\n  const simulateOnchain = async (params: SwapParams) => {\n    const getRate = (denom: CoinDenom) =>\n      isDenomLuna(denom) ? \"1\" : getAmount(exchangeRates, denom)\n\n    const { amount, offerAsset, askAsset } = params\n    const offerCoin = new Coin(offerAsset, amount)\n    const res = await lcd.market.swapRate(offerCoin, askAsset)\n    const result = res.amount.toString()\n\n    /* spread */\n    const offerRate = getRate(offerAsset)\n    const askRate = getRate(askAsset)\n    const rate = new BigNumber(offerRate).div(askRate)\n    const value = new BigNumber(amount).div(rate)\n    const spread = value.minus(result).toString()\n\n    if (!result) throw new Error(\"Simulation failed\")\n\n    const ratio = toPrice(new BigNumber(amount).div(result))\n\n    return {\n      mode: SwapMode.ONCHAIN,\n      query: params,\n      value: result,\n      ratio,\n      rate: toPrice(rate),\n      payload: spread,\n    }\n  }\n\n  const getTerraswapParams = useCallback(\n    (params: SwapParams, dex: Dex) => {\n      const { amount, offerAsset, askAsset, belief_price, max_spread } = params\n      const fromNative = isDenom(offerAsset)\n      const pair = findPair({ offerAsset, askAsset }, dex)\n      const offer_asset = toAsset(offerAsset, amount)\n\n      if (!pair) throw new Error(\"Pair does not exist\")\n      const contract = fromNative ? pair.address : offerAsset\n\n      /* simulate */\n      const query = { simulation: { offer_asset } }\n\n      /* execute */\n      const swap =\n        belief_price && max_spread ? { belief_price, max_spread } : {}\n      const executeMsg = fromNative\n        ? { swap: { ...swap, offer_asset } }\n        : { send: { amount, contract: pair.address, msg: toBase64({ swap }) } }\n      const coins = fromNative ? new Coins({ [offerAsset]: amount }) : undefined\n      const msgs = address\n        ? [new MsgExecuteContract(address, contract, executeMsg, coins)]\n        : []\n\n      return { pair, simulation: { contract: pair.address, query }, msgs }\n    },\n    [address, findPair]\n  )\n\n  const simulateTerraswap = async (\n    params: SwapParams,\n    dex: Dex = \"terraswap\"\n  ) => {\n    const mode = {\n      terraswap: SwapMode.TERRASWAP,\n      astroport: SwapMode.ASTROPORT,\n    }[dex]\n\n    const query = params\n\n    const { amount } = params\n    const { pair, simulation } = getTerraswapParams(params, dex)\n\n    if (pair.type === \"stable\") {\n      const { return_amount: value, commission_amount } =\n        await lcd.wasm.contractQuery<{\n          return_amount: Amount\n          commission_amount: Amount\n        }>(pair.address, simulation.query)\n\n      const payload = commission_amount\n      const ratio = toPrice(new BigNumber(amount).div(value))\n      return { mode, query, value, ratio, payload }\n    } else {\n      const { assets } = await lcd.wasm.contractQuery<{\n        assets: [Asset, Asset]\n      }>(simulation.contract, { pool: {} })\n\n      const { pool, rate } = parsePool(params, assets)\n      const { return_amount: value, commission_amount } = calcXyk(amount, pool)\n      const payload = commission_amount\n      const ratio = toPrice(new BigNumber(amount).div(value))\n      return { mode, query, value, ratio, rate, payload }\n    }\n  }\n\n  const getAstroportParams = getTerraswapParams\n  const simulateAstroport = (params: SwapParams) =>\n    simulateTerraswap(params, \"astroport\")\n\n  const getRouteswapParams = useCallback(\n    (params: SwapParams) => {\n      /* helper function */\n      const createSwap = ({ offerAsset, askAsset }: SwapAssets) => {\n        const offer_asset_info = toAssetInfo(offerAsset)\n        const ask_asset_info = toAssetInfo(askAsset)\n        const buyLuna = isDenomTerra(offerAsset) && isDenomLuna(askAsset)\n        return buyLuna || !getIsOnchainAvailable({ offerAsset, askAsset })\n          ? { terra_swap: { offer_asset_info, ask_asset_info } }\n          : { native_swap: { offer_denom: offerAsset, ask_denom: askAsset } }\n      }\n\n      const { amount, offerAsset, askAsset, minimum_receive } = params\n      const fromNative = isDenom(offerAsset)\n      if (!contracts?.routeswap) throw new Error(\"Routeswap is not available\")\n\n      const route = [offerAsset, \"uusd\", askAsset]\n      const operations = [\n        createSwap({ offerAsset, askAsset: \"uusd\" }),\n        createSwap({ offerAsset: \"uusd\", askAsset }),\n      ]\n\n      const options = minimum_receive && { minimum_receive }\n      const swapOperations = { ...options, offer_amount: amount, operations }\n\n      /* simulation */\n      const simulation = { simulate_swap_operations: swapOperations }\n      const execute = { execute_swap_operations: swapOperations }\n\n      /* msgs */\n      const routeswap = contracts.routeswap\n      const contract = fromNative ? routeswap : offerAsset\n      const executeMsg = fromNative\n        ? execute\n        : { send: { contract: routeswap, msg: toBase64(execute), amount } }\n      const coins = fromNative ? [new Coin(offerAsset, amount)] : undefined\n      const msgs = address\n        ? [new MsgExecuteContract(address, contract, executeMsg, coins)]\n        : []\n\n      return { route, simulation, msgs }\n    },\n    [address, contracts?.routeswap, getIsOnchainAvailable]\n  )\n\n  const simulateRouteswap: SimulateFn<Token[]> = async (params: SwapParams) => {\n    if (!contracts?.routeswap) throw new Error(\"Routeswap is not available\")\n\n    const { simulation, route } = getRouteswapParams(params)\n    const { amount: value } = await lcd.wasm.contractQuery<{ amount: string }>(\n      contracts.routeswap,\n      simulation\n    )\n\n    const ratio = toPrice(new BigNumber(params.amount).div(value))\n\n    return {\n      mode: SwapMode.ROUTESWAP,\n      query: params,\n      value,\n      ratio,\n      payload: route,\n    }\n  }\n\n  const getSimulateFunction = (mode: SwapMode) => {\n    const simulationFunctions = {\n      [SwapMode.ONCHAIN]: simulateOnchain,\n      [SwapMode.TERRASWAP]: simulateTerraswap,\n      [SwapMode.ASTROPORT]: simulateAstroport,\n      [SwapMode.ROUTESWAP]: simulateRouteswap,\n    }\n\n    return simulationFunctions[mode]\n  }\n\n  const getMsgsFunction = useCallback(\n    (mode: SwapMode) => {\n      const getMsgs = {\n        [SwapMode.ONCHAIN]: (params: SwapParams) =>\n          getOnchainParams(params).msgs,\n        [SwapMode.TERRASWAP]: (params: SwapParams) =>\n          getTerraswapParams(params, \"terraswap\").msgs,\n        [SwapMode.ASTROPORT]: (params: SwapParams) =>\n          getAstroportParams(params, \"astroport\").msgs,\n        [SwapMode.ROUTESWAP]: (params: SwapParams) =>\n          getRouteswapParams(params).msgs,\n      }\n\n      return getMsgs[mode]\n    },\n    [\n      getOnchainParams,\n      getTerraswapParams,\n      getAstroportParams,\n      getRouteswapParams,\n    ]\n  )\n\n  const getSimulateQuery = (params: Partial<SwapParams>) => ({\n    queryKey: [\"simulate.swap\", params],\n    queryFn: async () => {\n      if (!validateParams(params)) throw new Error()\n      const modes = getAvailableSwapModes(params)\n      const functions = modes.map(getSimulateFunction)\n      const queries = functions.map((fn) => fn(params))\n      const responses = await Promise.allSettled(queries)\n      const results = responses.map((result) => {\n        if (result.status === \"rejected\") throw new Error(result.reason)\n        return result.value\n      })\n\n      return {\n        values: zipObj(modes, results),\n        profitable: findProfitable(results),\n      }\n    },\n    enabled: validateParams(params),\n  })\n\n  return {\n    ...context,\n    getIsSwapAvailable,\n    getSwapMode,\n    getAvailableSwapModes,\n    getSimulateFunction,\n    getSimulateQuery,\n    getMsgsFunction,\n  }\n}\n\nexport default useSwapUtils\n\n/* type guard */\nexport const validateAssets = (\n  assets: Partial<SwapAssets>\n): assets is Required<SwapAssets> => {\n  const { offerAsset, askAsset } = assets\n  return !!offerAsset && !!askAsset && offerAsset !== askAsset\n}\n\nexport const validateParams = (\n  params: Partial<SwapParams>\n): params is SwapParams => {\n  const { amount, ...assets } = params\n  return has(amount) && validateAssets(assets)\n}\n\n/* determinant */\nconst getAssertRequired = ({ offerAsset, askAsset }: SwapAssets) =>\n  [offerAsset, askAsset].some(isDenomTerra) &&\n  [offerAsset, askAsset].some(isDenomLuna)\n\n/* helpers */\nconst findProfitable = (results: SimulateResult[]) => {\n  const index = results.reduce(\n    (acc, { value }, index) =>\n      new BigNumber(value).gt(results[acc].value) ? index : acc,\n    0\n  )\n\n  return results[index]\n}\n\n/* calc */\nconst parsePool = (\n  { offerAsset, askAsset }: SwapAssets,\n  pairPool: [Asset, Asset]\n) => {\n  const pair = fromPairs(\n    pairPool.map(toTokenItem).map(({ amount, token }) => [token, amount])\n  )\n\n  const offerPool = pair[offerAsset]\n  const askPool = pair[askAsset]\n  const pool = [offerPool, askPool] as [string, string]\n  const rate = toPrice(new BigNumber(pair[offerAsset]).div(pair[askAsset]))\n\n  return { pool, rate }\n}\n\nconst calcXyk = (amount: Amount, [offerPool, askPool]: [Amount, Amount]) => {\n  const returnAmount = new BigNumber(amount)\n    .times(askPool)\n    .div(new BigNumber(amount).plus(offerPool))\n    .integerValue(BigNumber.ROUND_FLOOR)\n\n  const spreadAmount = new BigNumber(amount)\n    .times(askPool)\n    .div(offerPool)\n    .minus(returnAmount)\n    .integerValue(BigNumber.ROUND_FLOOR)\n\n  const commissionAmount = returnAmount\n    .times(TERRASWAP_COMMISSION_RATE)\n    .integerValue(BigNumber.ROUND_FLOOR)\n\n  return {\n    return_amount: returnAmount.minus(commissionAmount).toString(),\n    spread_amount: spreadAmount.toString(),\n    commission_amount: commissionAmount.toString(),\n  }\n}\n","import classNames from \"classnames/bind\"\nimport BigNumber from \"bignumber.js\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { ReactComponent as Tilde } from \"./Tilde.svg\"\nimport styles from \"./Orb.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst Orb = ({ ratio, size }: { ratio: number; size?: \"large\" }) => {\n  const height = readPercent(BigNumber.min(ratio, 1))\n\n  return (\n    <div className={cx(styles.orb, size)}>\n      <div className={styles.filled} style={{ height }}>\n        {!!ratio && <Tilde className={styles.tilde} />}\n      </div>\n    </div>\n  )\n}\n\nexport default Orb\n","import { useTranslation } from \"react-i18next\"\nimport BigNumber from \"bignumber.js\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { getAmount } from \"utils/coin\"\nimport { combineState } from \"data/query\"\nimport { useProposal } from \"data/queries/gov\"\nimport { useDeposits, useDepositParams } from \"data/queries/gov\"\nimport { Card } from \"components/layout\"\nimport { Read } from \"components/token\"\nimport { ToNow } from \"components/display\"\nimport Orb from \"./components/Orb\"\nimport styles from \"./ProposalDeposits.module.scss\"\n\ninterface Props {\n  id: number\n  card?: boolean\n}\n\nconst ProposalDeposits = ({ id, card }: Props) => {\n  const { t } = useTranslation()\n  const { data: proposal, ...proposalState } = useProposal(id)\n  const { data: deposits, ...depositsState } = useDeposits(id)\n  const { data: depositParams, ...depositParamsState } = useDepositParams()\n  const state = combineState(proposalState, depositsState, depositParamsState)\n\n  const render = () => {\n    if (!(proposal && deposits && depositParams)) return null\n\n    const getProposalDeposited = () => {\n      const deposited = deposits.reduce(\n        (acc, { amount }) =>\n          new BigNumber(acc).plus(getAmount(amount, \"uluna\")).toString(),\n        \"0\"\n      )\n\n      const minimum = getAmount(depositParams.min_deposit, \"uluna\")\n      const ratio = Number(deposited) / Number(minimum)\n      return { deposited, ratio }\n    }\n\n    const { deposited, ratio } = getProposalDeposited()\n    const { deposit_end_time } = proposal\n\n    const contents = [\n      {\n        title: t(\"Deposited\"),\n        content: <Read amount={deposited} denom=\"uluna\" />,\n      },\n      {\n        title: t(\"Deposit end time\"),\n        content: <ToNow>{deposit_end_time}</ToNow>,\n      },\n    ]\n\n    return (\n      <article className={card ? styles.vertical : styles.horizontal}>\n        <section className={styles.orb}>\n          <Orb ratio={ratio} size={card ? \"large\" : undefined} />\n          {card && readPercent(ratio)}\n        </section>\n\n        <section className={styles.details}>\n          {contents.map(({ title, content }) => (\n            <article className={styles.item} key={title}>\n              <h1>{title}</h1>\n              <p>{content}</p>\n            </article>\n          ))}\n        </section>\n      </article>\n    )\n  }\n\n  return card ? (\n    <Card {...state} title={t(\"Deposit\")} mainClassName={styles.main} bordered>\n      {render()}\n    </Card>\n  ) : (\n    render()\n  )\n}\n\nexport default ProposalDeposits\n","import { useTranslation } from \"react-i18next\"\nimport { getAmount } from \"utils/coin\"\nimport { useDeposits } from \"data/queries/gov\"\nimport { FinderLink } from \"components/general\"\nimport { Card, Table } from \"components/layout\"\nimport { Read } from \"components/token\"\n\n// FIXME: Pagination (Client)\n\nconst ProposalDepositors = ({ id }: { id: number }) => {\n  const { t } = useTranslation()\n  const { data: deposits, ...state } = useDeposits(id)\n\n  return (\n    <Card {...state} title={t(\"Depositors\")} bordered>\n      {deposits && (\n        <Table\n          dataSource={deposits}\n          pagination={5}\n          columns={[\n            {\n              title: t(\"Depositor\"),\n              dataIndex: \"depositor\",\n              render: (address) => <FinderLink short>{address}</FinderLink>,\n            },\n            {\n              title: t(\"Amount\"),\n              dataIndex: \"amount\",\n              render: (amount) => (\n                <Read amount={getAmount(amount, \"uluna\")} denom=\"uluna\" />\n              ),\n              align: \"right\",\n            },\n          ]}\n          size=\"small\"\n        />\n      )}\n    </Card>\n  )\n}\n\nexport default ProposalDepositors\n","import { useCallback, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Link } from \"react-router-dom\"\nimport classNames from \"classnames/bind\"\nimport EmailOutlinedIcon from \"@mui/icons-material/EmailOutlined\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { ValAddress, Vote } from \"@terra-money/terra.js\"\nimport { combineState } from \"data/query\"\nimport { useDelegations } from \"data/queries/staking\"\nimport { useGetVoteOptionItem } from \"data/queries/gov\"\nimport { getCalcVotingPowerRate } from \"data/Terra/TerraAPI\"\nimport { useTerraProposal, useTerraValidators } from \"data/Terra/TerraAPI\"\nimport { ExternalLink } from \"components/general\"\nimport { Card, Grid, Table } from \"components/layout\"\nimport { Checkbox } from \"components/form\"\nimport { Empty } from \"components/feedback\"\nimport { Tooltip } from \"components/display\"\nimport { getIsUnbonded } from \"../stake/Validators\"\nimport { options } from \"./ProposalVotes\"\nimport styles from \"./ProposalVotesByValidator.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst ProposalVotesByValidator = ({ id }: { id: number }) => {\n  const { t } = useTranslation()\n\n  const tooltipContents: Record<Vote.Option, string> = {\n    [Vote.Option.VOTE_OPTION_YES]: t(\"Agree\"),\n    [Vote.Option.VOTE_OPTION_NO]: t(\"Disagree\"),\n    [Vote.Option.VOTE_OPTION_NO_WITH_VETO]: t(\n      \"Strongly disagree and should not return the deposit to the proposer\"\n    ),\n    [Vote.Option.VOTE_OPTION_ABSTAIN]: t(\n      \"No decision but this vote counts toward vote quorum\"\n    ),\n    [Vote.Option.VOTE_OPTION_UNSPECIFIED]: \"\",\n    [Vote.Option.UNRECOGNIZED]: \"\",\n  }\n\n  const getVoteOptionItem = useGetVoteOptionItem()\n\n  const [tab, setTab] = useState<Vote.Option>()\n  const [delegatedOnly, setDelegatedOnly] = useState(false)\n\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const { data: TerraProposal, ...TerraProposalState } = useTerraProposal(id)\n  const { data: TerraValidators, ...TerraValidatorsState } =\n    useTerraValidators()\n\n  const state = combineState(\n    delegationsState,\n    TerraProposalState,\n    TerraValidatorsState\n  )\n\n  const getList = useCallback(\n    (tab?: Vote.Option) => {\n      if (!(delegations && TerraProposal && TerraValidators)) return []\n\n      const getIsDelegated = (address: ValAddress) => {\n        return delegations.some(\n          ({ validator_address }) => validator_address === address\n        )\n      }\n\n      const getHasVoted = (address: ValAddress, option?: Vote.Option) => {\n        return TerraProposal.some(({ voter, options }) => {\n          if (ValAddress.fromAccAddress(voter) !== address) return false\n\n          const voted = options.some(\n            (o) => (Vote.Option[o.option] as unknown as Vote.Option) === option\n          )\n\n          return !option || voted\n        })\n      }\n\n      return TerraValidators.filter(({ operator_address, status }) => {\n        if (getIsUnbonded(status)) return false\n        if (delegatedOnly && !getIsDelegated(operator_address)) return false\n        if (!tab) return !getHasVoted(operator_address)\n        return getHasVoted(operator_address, tab)\n      })\n    },\n    [TerraProposal, TerraValidators, delegatedOnly, delegations]\n  )\n\n  const getCount = useCallback(\n    (tab?: Vote.Option) => getList(tab).length,\n    [getList]\n  )\n\n  const render = () => {\n    if (!(delegations && TerraProposal && TerraValidators)) return null\n\n    const calcRate = getCalcVotingPowerRate(TerraValidators)\n\n    const dataSource = getList(tab)\n      .map((validator) => {\n        const voting_power_rate = calcRate(validator.operator_address)\n        return { ...validator, voting_power_rate }\n      })\n      .sort((a, b) => Number(b.voting_power_rate) - Number(a.voting_power_rate))\n\n    return (\n      <Grid gap={24}>\n        <div className={styles.filter}>\n          <section className={styles.tabs}>\n            <div className={styles.inner}>\n              <button\n                className={cx(styles.tab, { active: !tab })}\n                onClick={() => setTab(undefined)}\n              >\n                {t(\"Did not vote\")} ({getCount()})\n              </button>\n\n              {options.map((key) => {\n                const { label } = getVoteOptionItem(key)\n                return (\n                  <Tooltip content={tooltipContents[key]} key={key}>\n                    <button\n                      className={cx(styles.tab, { active: tab === key })}\n                      onClick={() => setTab(key)}\n                    >\n                      {label} ({getCount(key)})\n                    </button>\n                  </Tooltip>\n                )\n              })}\n            </div>\n          </section>\n\n          {delegations.length > 0 && (\n            <Checkbox\n              checked={delegatedOnly}\n              onChange={() => setDelegatedOnly(!delegatedOnly)}\n            >\n              {t(\"View my validators only\")}\n            </Checkbox>\n          )}\n        </div>\n\n        {!dataSource.length ? (\n          <Empty />\n        ) : (\n          <Table\n            columns={[\n              {\n                title: t(\"Validator\"),\n                dataIndex: [\"description\", \"moniker\"],\n                render: (moniker, { operator_address }) => (\n                  <Link to={`/validator/${operator_address}`}>{moniker}</Link>\n                ),\n              },\n              {\n                title: t(\"Voting power\"),\n                dataIndex: \"voting_power_rate\",\n                render: (value) => readPercent(value),\n                align: \"right\",\n              },\n              {\n                title: t(\"Contact\"),\n                dataIndex: [\"contact\", \"email\"],\n                render: (value) => (\n                  <ExternalLink\n                    href={`mailto:${value}`}\n                    className={cx(styles.link, { disabled: !value })}\n                    disabled={!value}\n                  >\n                    <EmailOutlinedIcon fontSize=\"small\" />\n                  </ExternalLink>\n                ),\n                align: \"right\",\n              },\n            ]}\n            dataSource={dataSource}\n            pagination={5}\n            size=\"small\"\n            key={tab}\n          />\n        )}\n      </Grid>\n    )\n  }\n\n  if (!TerraProposal?.length) return null\n\n  return (\n    <Card {...state} title={t(\"Validators\")} bordered>\n      {render()}\n    </Card>\n  )\n}\n\nexport default ProposalVotesByValidator\n","import { useTranslation } from \"react-i18next\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { useTallyParams } from \"data/queries/gov\"\nimport { Card } from \"components/layout\"\nimport DataList from \"./components/DataList\"\n\nconst ProposalParams = () => {\n  const { t } = useTranslation()\n  const { data: tallyParams, ...state } = useTallyParams()\n\n  const render = () => {\n    if (!tallyParams) return null\n    const { quorum, threshold, veto_threshold } = tallyParams\n    const contents = [\n      {\n        title: t(\"Quorum\"),\n        content: readPercent(quorum.toString()),\n      },\n      {\n        title: t(\"Pass threshold\"),\n        content: readPercent(threshold.toString()),\n      },\n      {\n        title: t(\"Veto threshold\"),\n        content: readPercent(veto_threshold.toString()),\n      },\n    ]\n\n    return <DataList list={contents} type=\"horizontal\" />\n  }\n\n  return (\n    <Card {...state} title={t(\"Tallying procedure\")} bordered>\n      {render()}\n    </Card>\n  )\n}\n\nexport default ProposalParams\n","import { useParams } from \"react-router-dom\"\n\nconst useProposalId = () => {\n  const { id } = useParams()\n  return Number(id)\n}\n\nexport default useProposalId\n","import { useTranslation } from \"react-i18next\"\nimport { Proposal } from \"@terra-money/terra.js\"\nimport { useProposal } from \"data/queries/gov\"\nimport { Col, Row, Page, Card, Grid } from \"components/layout\"\nimport { useGoBackOnError } from \"app/routes\"\nimport ProposalActions from \"./ProposalActions\"\nimport ProposalHeader from \"./ProposalHeader\"\nimport ProposalDescription from \"./ProposalDescription\"\nimport ProposalSummary from \"./ProposalSummary\"\nimport ProposalDeposits from \"./ProposalDeposits\"\nimport ProposalDepositors from \"./ProposalDepositors\"\nimport ProposalVotes from \"./ProposalVotes\"\nimport ProposalVotesByValidator from \"./ProposalVotesByValidator\"\nimport ProposalParams from \"./ProposalParams\"\nimport useProposalId from \"./useProposalId\"\n\nconst ProposalDetails = () => {\n  const { t } = useTranslation()\n\n  const id = useProposalId()\n  const { data: proposal, ...state } = useProposal(id)\n\n  useGoBackOnError(state)\n\n  const render = () => {\n    if (!proposal) return null\n\n    const { status } = proposal\n\n    return (\n      <Col>\n        <Row>\n          <Col span={2}>\n            <Card>\n              <Grid gap={28}>\n                <ProposalHeader proposal={proposal} />\n                <ProposalDescription proposal={proposal} />\n              </Grid>\n            </Card>\n          </Col>\n\n          <ProposalSummary proposal={proposal} />\n        </Row>\n\n        {status === Proposal.Status.PROPOSAL_STATUS_DEPOSIT_PERIOD ? (\n          <Row>\n            <Col>\n              <ProposalDeposits id={id} card />\n            </Col>\n\n            <Col span={2}>\n              <ProposalDepositors id={id} />\n            </Col>\n          </Row>\n        ) : (\n          status !== Proposal.Status.PROPOSAL_STATUS_REJECTED && (\n            <ProposalVotes id={id} card />\n          )\n        )}\n\n        {status !== Proposal.Status.PROPOSAL_STATUS_DEPOSIT_PERIOD && (\n          <ProposalVotesByValidator id={id} />\n        )}\n\n        <ProposalParams />\n      </Col>\n    )\n  }\n\n  return (\n    <Page\n      {...state}\n      title={t(\"Proposal details\")}\n      extra={proposal && <ProposalActions proposal={proposal} />}\n    >\n      {render()}\n    </Page>\n  )\n}\n\nexport default ProposalDetails\n","import { atom, useRecoilState } from \"recoil\"\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\nimport { SettingKey } from \"utils/localStorage\"\n\nconst addressBookListState = atom({\n  key: \"addressBookList\",\n  default: getLocalSetting<AddressBook[]>(SettingKey.AddressBook),\n})\n\nexport const useAddressBook = () => {\n  const [list, setList] = useRecoilState(addressBookListState)\n\n  const validateName = (name: string) =>\n    !list.some((item) => item.name === name)\n\n  const updateList = (list: AddressBook[]) => {\n    setList(list)\n    setLocalSetting(SettingKey.AddressBook, list)\n  }\n\n  const add = (newItem: AddressBook) => {\n    const name = newItem.name.trim()\n    if (!validateName(name)) throw new Error(\"Already exists\")\n    updateList([...list, { ...newItem, name }])\n  }\n\n  const remove = (name: string) => {\n    updateList(list.filter((item) => item.name !== name))\n  }\n\n  return { list, add, remove, validateName }\n}\n","import { useEffect } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport PersonIcon from \"@mui/icons-material/Person\"\nimport { truncate } from \"@terra.kitchen/utils\"\nimport { useAddressBook } from \"data/settings/AddressBook\"\nimport { useTnsAddress } from \"data/external/tns\"\nimport { InlineFlex } from \"components/layout\"\nimport { Form, FormItem, Submit, Input } from \"components/form\"\nimport { Fetching, useModal } from \"components/feedback\"\nimport validate from \"txs/validate\"\n\nconst AddAddressBookItem = () => {\n  const { t } = useTranslation()\n  const close = useModal()\n  const { add, validateName } = useAddressBook()\n\n  /* form */\n  const form = useForm<AddressBook>({ mode: \"onChange\" })\n  const { register, watch, setError, handleSubmit, formState } = form\n  const { errors } = formState\n  const { recipient } = watch()\n\n  const submit = (values: AddressBook) => {\n    add(values)\n    close()\n  }\n\n  /* resolve recipient */\n  const { data: resolvedAddress, ...tnsState } = useTnsAddress(recipient ?? \"\")\n\n  // validate(tns): not found\n  const invalid =\n    recipient?.endsWith(\".ust\") && !tnsState.isLoading && !resolvedAddress\n      ? t(\"Address not found\")\n      : \"\"\n\n  const disabled =\n    invalid || (tnsState.isLoading && t(\"Searching for address...\"))\n\n  useEffect(() => {\n    if (invalid) setError(\"recipient\", { type: \"invalid\", message: invalid })\n  }, [invalid, setError])\n\n  const renderResolvedAddress = () => {\n    if (!resolvedAddress) return null\n    return (\n      <InlineFlex gap={4} className=\"success\">\n        <PersonIcon fontSize=\"inherit\" />\n        {truncate(resolvedAddress)}\n      </InlineFlex>\n    )\n  }\n\n  return (\n    <Fetching isFetching={tnsState.isLoading}>\n      <Form onSubmit={handleSubmit(submit)}>\n        <FormItem label={t(\"Name\")} error={errors.name?.message}>\n          <Input\n            {...register(\"name\", {\n              required: true,\n              validate: {\n                exists: (value) =>\n                  !validateName(value) ? `${value} already exists` : undefined,\n              },\n            })}\n          />\n        </FormItem>\n\n        <FormItem\n          label={t(\"Address\")}\n          extra={renderResolvedAddress()}\n          error={errors.recipient?.message}\n        >\n          <Input\n            {...register(\"recipient\", { validate: validate.recipient() })}\n          />\n        </FormItem>\n\n        <FormItem\n          label={`${t(\"Memo\")} (${t(\"optional\")})`}\n          error={errors.memo?.message}\n        >\n          <Input\n            {...register(\"memo\", {\n              validate: {\n                size: validate.size(256),\n                bracket: validate.memo(),\n              },\n            })}\n          />\n        </FormItem>\n\n        <Submit disabled={!!disabled}>{disabled}</Submit>\n      </Form>\n    </Fetching>\n  )\n}\n\nexport default AddAddressBookItem\n","import { Fragment } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\"\nimport { Dl } from \"components/display\"\nimport styles from \"./CustomItem.module.scss\"\n\ninterface Props {\n  name: string\n  contents: { title: string; desc: string }[]\n  onClick: () => void\n  onDelete: (name: string) => void\n}\n\nconst CustomItem = ({ name, contents, onClick, onDelete }: Props) => {\n  const { t } = useTranslation()\n\n  return (\n    <article className={styles.item}>\n      <button className={styles.button} onClick={onClick}>\n        <Dl>\n          <dt>{t(\"Name\")}</dt>\n          <dd>{name}</dd>\n          {contents.map(({ title, desc }) => (\n            <Fragment key={title}>\n              <dt>{title}</dt>\n              <dd>{desc}</dd>\n            </Fragment>\n          ))}\n        </Dl>\n      </button>\n\n      <button\n        type=\"button\"\n        className={styles.delete}\n        onClick={() => {\n          if (window.confirm(t(\"Delete {{name}}?\", { name }))) onDelete(name)\n        }}\n      >\n        <DeleteOutlineIcon style={{ fontSize: 16 }} />\n      </button>\n    </article>\n  )\n}\n\nexport default CustomItem\n","import { useTranslation } from \"react-i18next\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport PersonAddOutlinedIcon from \"@mui/icons-material/PersonAddOutlined\"\nimport { truncate } from \"@terra.kitchen/utils\"\nimport { RenderButton } from \"types/components\"\nimport { useAddressBook } from \"data/settings/AddressBook\"\nimport { InternalButton } from \"components/general\"\nimport { Card, Grid } from \"components/layout\"\nimport { Empty, ModalButton } from \"components/feedback\"\nimport AddAddressBookItem from \"./AddAddressBookItem\"\nimport CustomItem from \"./CustomItem\"\n\ninterface Props {\n  onClick: (item: AddressBook) => void\n}\n\nconst AddressBookList = ({ onClick }: Props) => {\n  const { t } = useTranslation()\n  const { list, remove } = useAddressBook()\n\n  const renderModalButton = (renderButton: RenderButton) => (\n    <ModalButton title={t(\"Add a new address\")} renderButton={renderButton}>\n      <AddAddressBookItem />\n    </ModalButton>\n  )\n\n  return (\n    <Card\n      title={t(\"Address book\")}\n      extra={renderModalButton((open) => (\n        <button type=\"button\" onClick={open}>\n          <AddIcon />\n        </button>\n      ))}\n    >\n      {!list.length ? (\n        <Empty icon={<PersonAddOutlinedIcon fontSize=\"inherit\" />}>\n          {renderModalButton((open) => (\n            <InternalButton onClick={open}>\n              {t(\"Add an address\")}\n            </InternalButton>\n          ))}\n        </Empty>\n      ) : (\n        <Grid gap={12}>\n          {list.map((item) => {\n            const { name, recipient, memo } = item\n            return (\n              <CustomItem\n                name={name}\n                contents={[\n                  { title: t(\"Address\"), desc: truncate(recipient) },\n                  { title: t(\"Memo\"), desc: memo ?? \"\" },\n                ]}\n                onClick={() => onClick(item)}\n                onDelete={() => remove(name)}\n                key={name}\n              />\n            )\n          })}\n        </Grid>\n      )}\n    </Card>\n  )\n}\n\nexport default AddressBookList\n","import { useCallback, useEffect, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport PersonIcon from \"@mui/icons-material/Person\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { MsgExecuteContract, MsgSend } from \"@terra-money/terra.js\"\nimport { isDenom, toAmount, truncate } from \"@terra.kitchen/utils\"\nimport { SAMPLE_ADDRESS } from \"config/constants\"\nimport { queryKey } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useTnsAddress } from \"data/external/tns\"\nimport { ExternalLink } from \"components/general\"\nimport { Auto, Card, Grid, InlineFlex } from \"components/layout\"\nimport { Form, FormItem, FormHelp, Input, FormWarning } from \"components/form\"\nimport AddressBookList from \"../AddressBook/AddressBookList\"\nimport { getPlaceholder, toInput, CoinInput } from \"../utils\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\ninterface TxValues {\n  recipient?: string // AccAddress | TNS\n  address?: AccAddress // hidden input\n  input?: number\n  memo?: string\n}\n\ninterface Props extends TokenItem {\n  decimals: number\n  balance: Amount\n}\n\nconst SendForm = ({ token, decimals, balance }: Props) => {\n  const { t } = useTranslation()\n  const connectedAddress = useAddress()\n  const bankBalance = useBankBalance()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const form = useForm<TxValues>({ mode: \"onChange\" })\n  const { register, trigger, watch, setValue, setError, handleSubmit } = form\n  const { formState } = form\n  const { errors } = formState\n  const { recipient, input, memo } = watch()\n  const amount = toAmount(input, { decimals })\n\n  const onClickAddressBookItem = async ({ recipient, memo }: AddressBook) => {\n    setValue(\"recipient\", recipient)\n    setValue(\"memo\", memo)\n    await trigger(\"recipient\")\n  }\n\n  /* resolve recipient */\n  const { data: resolvedAddress, ...tnsState } = useTnsAddress(recipient ?? \"\")\n  useEffect(() => {\n    if (!recipient) {\n      setValue(\"address\", undefined)\n    } else if (AccAddress.validate(recipient)) {\n      setValue(\"address\", recipient)\n      form.setFocus(\"input\")\n    } else if (resolvedAddress) {\n      setValue(\"address\", resolvedAddress)\n    } else {\n      setValue(\"address\", recipient)\n    }\n  }, [form, recipient, resolvedAddress, setValue])\n\n  // validate(tns): not found\n  const invalid =\n    recipient?.endsWith(\".ust\") && !tnsState.isLoading && !resolvedAddress\n      ? t(\"Address not found\")\n      : \"\"\n\n  const disabled =\n    invalid || (tnsState.isLoading && t(\"Searching for address...\"))\n\n  useEffect(() => {\n    if (invalid) setError(\"recipient\", { type: \"invalid\", message: invalid })\n  }, [invalid, setError])\n\n  /* tx */\n  const createTx = useCallback(\n    ({ address, input, memo }: TxValues) => {\n      if (!connectedAddress) return\n      if (!(address && AccAddress.validate(address))) return\n      const amount = toAmount(input, { decimals })\n      const execute_msg = { transfer: { recipient: address, amount } }\n\n      const msgs = isDenom(token)\n        ? [new MsgSend(connectedAddress, address, amount + token)]\n        : [new MsgExecuteContract(connectedAddress, token, execute_msg)]\n\n      return { msgs, memo }\n    },\n    [connectedAddress, decimals, token]\n  )\n\n  /* fee */\n  const coins = [{ input, denom: token, taxRequired: true }] as CoinInput[]\n  const estimationTxValues = useMemo(\n    () => ({ address: connectedAddress, input: toInput(1, decimals) }),\n    [connectedAddress, decimals]\n  )\n\n  const onChangeMax = useCallback(\n    async (input: number) => {\n      setValue(\"input\", input)\n      await trigger(\"input\")\n    },\n    [setValue, trigger]\n  )\n\n  const tx = {\n    token,\n    decimals,\n    amount,\n    coins,\n    balance,\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    disabled,\n    onChangeMax,\n    onSuccess: { label: t(\"Wallet\"), path: \"/wallet\" },\n    taxRequired: true,\n    queryKeys: AccAddress.validate(token)\n      ? [[queryKey.wasm.contractQuery, token, { balance: connectedAddress }]]\n      : undefined,\n  }\n\n  const bridge = (\n    <ExternalLink href=\"https://bridge.terra.money\">Terra Bridge</ExternalLink>\n  )\n\n  const renderResolvedAddress = () => {\n    if (!resolvedAddress) return null\n    return (\n      <InlineFlex gap={4} className=\"success\">\n        <PersonIcon fontSize=\"inherit\" />\n        {truncate(resolvedAddress)}\n      </InlineFlex>\n    )\n  }\n\n  return (\n    <Auto\n      columns={[\n        <Card isFetching={tnsState.isLoading}>\n          <Tx {...tx}>\n            {({ max, fee, submit }) => (\n              <Form onSubmit={handleSubmit(submit.fn)}>\n                <Grid gap={4}>\n                  <FormHelp>Use {bridge} for interchain transfers</FormHelp>\n                  {!memo && (\n                    <FormWarning>\n                      {t(\"Check if this transaction requires a memo\")}\n                    </FormWarning>\n                  )}\n                </Grid>\n\n                <FormItem\n                  label={t(\"Recipient\")}\n                  extra={renderResolvedAddress()}\n                  error={errors.recipient?.message ?? errors.address?.message}\n                >\n                  <Input\n                    {...register(\"recipient\", {\n                      validate: validate.recipient(),\n                    })}\n                    placeholder={SAMPLE_ADDRESS}\n                    autoFocus\n                  />\n\n                  <input {...register(\"address\")} readOnly hidden />\n                </FormItem>\n\n                <FormItem\n                  label={t(\"Amount\")}\n                  extra={max.render()}\n                  error={errors.input?.message}\n                >\n                  <Input\n                    {...register(\"input\", {\n                      valueAsNumber: true,\n                      validate: validate.input(\n                        toInput(max.amount, decimals),\n                        decimals\n                      ),\n                    })}\n                    token={token}\n                    inputMode=\"decimal\"\n                    onFocus={max.reset}\n                    placeholder={getPlaceholder(decimals)}\n                  />\n                </FormItem>\n\n                <FormItem\n                  label={`${t(\"Memo\")} (${t(\"optional\")})`}\n                  error={errors.memo?.message}\n                >\n                  <Input\n                    {...register(\"memo\", {\n                      validate: {\n                        size: validate.size(256, \"Memo\"),\n                        brackets: validate.memo(),\n                      },\n                    })}\n                  />\n                </FormItem>\n\n                {fee.render()}\n                {submit.button}\n              </Form>\n            )}\n          </Tx>\n        </Card>,\n        <AddressBookList onClick={onClickAddressBookItem} />,\n      ]}\n    />\n  )\n}\n\nexport default SendForm\n","import { useTranslation } from \"react-i18next\"\nimport { useSearchParams } from \"react-router-dom\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { getAmount } from \"utils/coin\"\nimport { useTokenBalance } from \"data/queries/wasm\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useTokenItem } from \"data/token\"\nimport { Page } from \"components/layout\"\nimport TxContext from \"../TxContext\"\nimport SendForm from \"./SendForm\"\n\nconst SendTx = () => {\n  const { t } = useTranslation()\n  const bankBalance = useBankBalance()\n\n  const [searchParams] = useSearchParams()\n  const token = searchParams.get(\"token\")\n\n  if (!token) throw new Error(\"Token is not defined\")\n\n  const { data: cw20Balance, ...state } = useTokenBalance(token)\n  const tokenItem = useTokenItem(token)\n\n  const symbol = tokenItem?.symbol ?? \"\"\n  const balance = AccAddress.validate(token)\n    ? cw20Balance\n    : getAmount(bankBalance, token)\n\n  return (\n    <Page {...state} title={t(\"Send {{symbol}}\", { symbol })}>\n      <TxContext>\n        {tokenItem && balance && <SendForm {...tokenItem} balance={balance} />}\n      </TxContext>\n    </Page>\n  )\n}\n\nexport default SendTx\n","import { useCallback, useEffect, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport PersonIcon from \"@mui/icons-material/Person\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { MsgExecuteContract } from \"@terra-money/terra.js\"\nimport { truncate } from \"@terra.kitchen/utils\"\nimport { SAMPLE_ADDRESS } from \"config/constants\"\nimport { queryKey } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useTnsAddress } from \"data/external/tns\"\nimport { Auto, Card, InlineFlex } from \"components/layout\"\nimport { Form, FormItem, FormHelp, Input } from \"components/form\"\nimport NFTAssetItem from \"pages/nft/NFTAssetItem\"\nimport AddressBookList from \"../AddressBook/AddressBookList\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\ninterface TxValues {\n  recipient?: string // AccAddress | TNS\n  address?: AccAddress // hidden input\n  memo?: string\n}\n\ninterface Props {\n  contract: string\n  id: string\n}\n\nconst TransferCW721Form = ({ contract, id }: Props) => {\n  const { t } = useTranslation()\n  const connectedAddress = useAddress()\n  const bankBalance = useBankBalance()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const form = useForm<TxValues>({ mode: \"onChange\" })\n  const { register, trigger, watch, setValue, setError, handleSubmit } = form\n  const { formState } = form\n  const { errors } = formState\n  const { recipient, memo } = watch()\n\n  const onClickAddressBookItem = async ({ recipient, memo }: AddressBook) => {\n    setValue(\"recipient\", recipient)\n    setValue(\"memo\", memo)\n    await trigger(\"recipient\")\n  }\n\n  /* resolve recipient */\n  const { data: resolvedAddress, ...tnsState } = useTnsAddress(recipient ?? \"\")\n  useEffect(() => {\n    if (!recipient) {\n      setValue(\"address\", undefined)\n    } else if (AccAddress.validate(recipient)) {\n      setValue(\"address\", recipient)\n    } else if (resolvedAddress) {\n      setValue(\"address\", resolvedAddress)\n    } else {\n      setValue(\"address\", recipient)\n    }\n  }, [form, recipient, resolvedAddress, setValue])\n\n  // validate(tns): not found\n  const invalid =\n    recipient?.endsWith(\".ust\") && !tnsState.isLoading && !resolvedAddress\n      ? t(\"Address not found\")\n      : \"\"\n\n  const disabled =\n    invalid || (tnsState.isLoading && t(\"Searching for address...\"))\n\n  useEffect(() => {\n    if (invalid) setError(\"recipient\", { type: \"invalid\", message: invalid })\n  }, [invalid, setError])\n\n  /* tx */\n  const createTx = useCallback(\n    ({ address, memo }: TxValues) => {\n      if (!connectedAddress) return\n      if (!(address && AccAddress.validate(address))) return\n\n      const msgs = [\n        new MsgExecuteContract(connectedAddress, contract, {\n          transfer_nft: { recipient: address, token_id: id },\n        }),\n      ]\n\n      return { msgs, memo }\n    },\n    [connectedAddress, contract, id]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(\n    () => ({ address: connectedAddress }),\n    [connectedAddress]\n  )\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    disabled,\n    onSuccess: { label: t(\"NFT\"), path: \"/nft\" },\n    queryKeys: [\n      [\n        queryKey.wasm.contractQuery,\n        contract,\n        { tokens: { owner: connectedAddress } },\n      ],\n    ],\n  }\n\n  const renderResolvedAddress = () => {\n    if (!resolvedAddress) return null\n    return (\n      <InlineFlex gap={4} className=\"success\">\n        <PersonIcon fontSize=\"inherit\" />\n        {truncate(resolvedAddress)}\n      </InlineFlex>\n    )\n  }\n\n  return (\n    <Auto\n      columns={[\n        <Card isFetching={tnsState.isLoading}>\n          <NFTAssetItem contract={contract} id={id} />\n\n          <Tx {...tx}>\n            {({ fee, submit }) => (\n              <Form onSubmit={handleSubmit(submit.fn)}>\n                <FormItem\n                  label={t(\"Recipient\")}\n                  extra={renderResolvedAddress()}\n                  error={errors.recipient?.message}\n                >\n                  <Input\n                    {...register(\"recipient\", {\n                      validate: validate.recipient(),\n                    })}\n                    placeholder={SAMPLE_ADDRESS}\n                    autoFocus\n                  />\n\n                  <input {...register(\"address\")} readOnly hidden />\n                </FormItem>\n\n                <FormItem\n                  label={`${t(\"Memo\")} (${t(\"optional\")})`}\n                  error={errors.memo?.message}\n                >\n                  <Input\n                    {...register(\"memo\", {\n                      validate: {\n                        size: validate.size(256, \"Memo\"),\n                        brackets: validate.memo(),\n                      },\n                    })}\n                  />\n                </FormItem>\n\n                {fee.render()}\n\n                {!memo && (\n                  <FormHelp>\n                    {t(\"Check if this transaction requires a memo\")}\n                  </FormHelp>\n                )}\n\n                {submit.button}\n              </Form>\n            )}\n          </Tx>\n        </Card>,\n        <AddressBookList onClick={onClickAddressBookItem} />,\n      ]}\n    />\n  )\n}\n\nexport default TransferCW721Form\n","import { useTranslation } from \"react-i18next\"\nimport { useSearchParams } from \"react-router-dom\"\nimport { Page } from \"components/layout\"\nimport TxContext from \"../TxContext\"\nimport TransferCW721Form from \"./TransferCW721Form\"\n\nconst TransferCW721Tx = () => {\n  const { t } = useTranslation()\n  const [searchParams] = useSearchParams()\n  const contract = searchParams.get(\"contract\")\n  const id = searchParams.get(\"id\")\n\n  if (!(contract && id)) throw new Error(\"Invalid\")\n\n  return (\n    <Page title={t(\"Transfer NFT\")}>\n      <TxContext>\n        <TransferCW721Form contract={contract} id={id} />\n      </TxContext>\n    </Page>\n  )\n}\n\nexport default TransferCW721Tx\n","import { PropsWithChildren } from \"react\"\nimport { Coins } from \"@terra-money/terra.js\"\nimport createContext from \"utils/createContext\"\nimport { combineState } from \"data/query\"\nimport { useActiveDenoms, useExchangeRates } from \"data/queries/oracle\"\nimport { TerraContracts } from \"data/Terra/TerraAssets\"\nimport { useCW20Pairs } from \"data/Terra/TerraAssets\"\nimport { useTerraContracts } from \"data/Terra/TerraAssets\"\nimport { Fetching } from \"components/feedback\"\n\ninterface Swap {\n  activeDenoms: Denom[]\n  exchangeRates: Coins\n  pairs: CW20Pairs\n  contracts?: TerraContracts\n}\n\nexport const [useSwap, SwapProvider] = createContext<Swap>(\"useSwap\")\n\nconst SwapContext = ({ children }: PropsWithChildren<{}>) => {\n  const { data: activeDenoms, ...activeDenomsState } = useActiveDenoms()\n  const { data: exchangeRates, ...exchangeRatesState } = useExchangeRates()\n  const { data: pairs, ...cw20PairsState } = useCW20Pairs()\n  const { data: contracts, ...contractsState } = useTerraContracts()\n\n  const state = combineState(\n    activeDenomsState,\n    exchangeRatesState,\n    contractsState,\n    cw20PairsState\n  )\n\n  const render = () => {\n    if (!(activeDenoms && exchangeRates && pairs && contracts)) return null\n    const value = { activeDenoms, exchangeRates, pairs, contracts }\n    return <SwapProvider value={value}>{children}</SwapProvider>\n  }\n\n  return !state.isSuccess ? null : <Fetching {...state}>{render()}</Fetching>\n}\n\nexport default SwapContext\n","import { PropsWithChildren, useMemo } from \"react\"\nimport { flatten, uniq, zipObj } from \"ramda\"\nimport BigNumber from \"bignumber.js\"\nimport { isDenomIBC, toAmount } from \"@terra.kitchen/utils\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { getAmount, sortDenoms } from \"utils/coin\"\nimport { toPrice } from \"utils/num\"\nimport createContext from \"utils/createContext\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { combineState, useIsClassic } from \"data/query\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useTokenBalances } from \"data/queries/wasm\"\nimport { readIBCDenom, readNativeDenom } from \"data/token\"\nimport { useIBCWhitelist } from \"data/Terra/TerraAssets\"\nimport { useCW20Whitelist } from \"data/Terra/TerraAssets\"\nimport { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\nimport { Card } from \"components/layout\"\nimport { useSwap } from \"./SwapContext\"\nimport { SwapAssets, validateAssets } from \"./useSwapUtils\"\n\nexport interface SlippageParams extends SwapAssets {\n  input: number\n  slippageInput: number\n  ratio: Price\n}\n\nexport interface SwapSpread {\n  max_spread: string\n  minimum_receive: Amount\n  belief_price: string\n  price: number\n}\n\ninterface SingleSwap {\n  options: {\n    coins: TokenItemWithBalance[]\n    tokens: TokenItemWithBalance[]\n  }\n  findTokenItem: (token: Token) => TokenItemWithBalance\n  findDecimals: (token: Token) => number\n  calcExpected: (params: SlippageParams) => SwapSpread\n}\n\nexport const [useSingleSwap, SingleSwapProvider] =\n  createContext<SingleSwap>(\"useSingleSwap\")\n\nconst SingleSwapContext = ({ children }: PropsWithChildren<{}>) => {\n  const currency = useCurrency()\n  const isClassic = useIsClassic()\n  const bankBalance = useBankBalance()\n  const { activeDenoms, pairs } = useSwap()\n  const { list } = useCustomTokensCW20()\n  const customTokens = list.map(({ token }) => token)\n\n  /* contracts */\n  const { data: ibcWhitelist, ...ibcWhitelistState } = useIBCWhitelist()\n  const { data: cw20Whitelist, ...cw20WhitelistState } = useCW20Whitelist()\n\n  // Why?\n  // To search tokens with symbol (ibc, cw20)\n  // To filter tokens with balance (cw20)\n  const terraswapAvailableList = useMemo(() => {\n    if (!(ibcWhitelist && cw20Whitelist)) return\n\n    const terraswapAvailableList = uniq(\n      flatten(Object.values(pairs).map(({ assets }) => assets))\n    )\n\n    const ibc = terraswapAvailableList\n      .filter(isDenomIBC)\n      .filter((denom) => ibcWhitelist[denom.replace(\"ibc/\", \"\")])\n\n    const cw20 = terraswapAvailableList\n      .filter(AccAddress.validate)\n      .filter((token) => cw20Whitelist[token])\n\n    return { ibc, cw20 }\n  }, [cw20Whitelist, ibcWhitelist, pairs])\n\n  // Fetch cw20 balances: only listed and added by the user\n  const cw20TokensBalanceRequired = useMemo(() => {\n    if (!terraswapAvailableList) return []\n    return customTokens.filter((token) =>\n      terraswapAvailableList.cw20.includes(token)\n    )\n  }, [customTokens, terraswapAvailableList])\n\n  const cw20TokensBalancesState = useTokenBalances(cw20TokensBalanceRequired)\n  const cw20TokensBalances = useMemo(() => {\n    if (cw20TokensBalancesState.some(({ isSuccess }) => !isSuccess)) return\n\n    return zipObj(\n      cw20TokensBalanceRequired,\n      cw20TokensBalancesState.map(({ data }) => {\n        if (!data) throw new Error()\n        return data\n      })\n    )\n  }, [cw20TokensBalanceRequired, cw20TokensBalancesState])\n\n  const context = useMemo(() => {\n    if (!(terraswapAvailableList && ibcWhitelist && cw20Whitelist)) return\n    if (!cw20TokensBalances) return\n\n    const coins = sortDenoms(activeDenoms, currency).map((denom) => {\n      const balance = getAmount(bankBalance, denom)\n      return { ...readNativeDenom(denom, isClassic), balance }\n    })\n\n    const ibc = terraswapAvailableList.ibc.map((denom) => {\n      const item = ibcWhitelist[denom.replace(\"ibc/\", \"\")]\n      const balance = getAmount(bankBalance, denom)\n      return { ...readIBCDenom(item), balance }\n    })\n\n    const cw20 = terraswapAvailableList.cw20.map((token) => {\n      const balance = cw20TokensBalances[token] ?? \"0\"\n      return { ...cw20Whitelist[token], balance }\n    })\n\n    const options = { coins, tokens: [...ibc, ...cw20] }\n\n    const findTokenItem = (token: Token) => {\n      const key =\n        AccAddress.validate(token) || isDenomIBC(token) ? \"tokens\" : \"coins\"\n\n      const option = options[key].find((item) => item.token === token)\n      if (!option) throw new Error()\n      return option\n    }\n\n    const findDecimals = (token: Token) => findTokenItem(token).decimals\n\n    const calcExpected = (params: SlippageParams) => {\n      const { offerAsset, askAsset, input, slippageInput, ratio } = params\n      const offerDecimals = findDecimals(offerAsset)\n      const askDecimals = findDecimals(askAsset)\n\n      /* terraswap */\n      const belief_price = new BigNumber(ratio)\n        .dp(18, BigNumber.ROUND_DOWN)\n        .toString()\n\n      /* routeswap | on-chain */\n      const max_spread = new BigNumber(slippageInput).div(100).toString()\n      const amount = toAmount(input, { decimals: offerDecimals })\n      const value = Number(amount) / ratio\n      const minimum_receive = calcMinimumReceive(value, max_spread)\n\n      /* expected price */\n      const decimals = askDecimals - offerDecimals\n      const price = toPrice(\n        new BigNumber(ratio).times(new BigNumber(10).pow(decimals))\n      )\n\n      return { max_spread, belief_price, minimum_receive, price }\n    }\n\n    return { options, findTokenItem, findDecimals, calcExpected }\n  }, [\n    currency,\n    bankBalance,\n    activeDenoms,\n    ibcWhitelist,\n    cw20Whitelist,\n    terraswapAvailableList,\n    cw20TokensBalances,\n    isClassic,\n  ])\n\n  const state = combineState(\n    ibcWhitelistState,\n    cw20WhitelistState,\n    ...cw20TokensBalancesState\n  )\n\n  const render = () => {\n    if (!context) return null\n    return <SingleSwapProvider value={context}>{children}</SingleSwapProvider>\n  }\n\n  return <Card {...state}>{render()}</Card>\n}\n\nexport default SingleSwapContext\n\n/* type */\nexport const validateSlippageParams = (\n  params: Partial<SlippageParams>\n): params is SlippageParams => {\n  const { input, slippageInput, ratio, ...assets } = params\n  return !!(validateAssets(assets) && input && slippageInput && ratio)\n}\n\n/* minimum received */\nexport const calcMinimumReceive = (\n  simulatedValue: Value,\n  max_spread: string\n) => {\n  const minRatio = new BigNumber(1).minus(max_spread)\n  const value = new BigNumber(simulatedValue).times(minRatio)\n  return value.integerValue(BigNumber.ROUND_FLOOR).toString()\n}\n","import { InputHTMLAttributes, PropsWithChildren, ReactNode } from \"react\"\nimport { ForwardedRef, forwardRef } from \"react\"\nimport { Grid } from \"components/layout\"\nimport styles from \"./AssetFormItem.module.scss\"\n\ninterface Props {\n  label: string\n  extra?: ReactNode\n  error?: string\n}\n\nconst AssetFormItem = (props: PropsWithChildren<Props>) => {\n  const { label, extra, error, children } = props\n\n  return (\n    <Grid gap={3}>\n      <Grid gap={5} className={styles.border}>\n        <header className={styles.header}>\n          <label className={styles.label}>{label}</label>\n          {extra && <aside className={styles.extra}>{extra}</aside>}\n        </header>\n\n        {children}\n      </Grid>\n      <p className={styles.error}>{error}</p>\n    </Grid>\n  )\n}\n\nexport default AssetFormItem\n\n/* input */\nexport const AssetInput = forwardRef(\n  (\n    attrs: InputHTMLAttributes<HTMLInputElement>,\n    ref: ForwardedRef<HTMLInputElement>\n  ) => {\n    return (\n      <input {...attrs} className={styles.input} autoComplete=\"off\" ref={ref} />\n    )\n  }\n)\n\n/* read only */\nexport const AssetReadOnly = ({ children }: PropsWithChildren<{}>) => {\n  return <span className={styles.input}>{children}</span>\n}\n","import { ReactNode, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { flatten } from \"ramda\"\nimport classNames from \"classnames/bind\"\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\"\nimport SearchIcon from \"@mui/icons-material/Search\"\nimport createContext from \"utils/createContext\"\nimport { Flex, Grid } from \"components/layout\"\nimport { Empty } from \"components/feedback\"\nimport { TokenCard, TokenCardGrid, TokenIcon } from \"components/token\"\nimport styles from \"./SelectToken.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface GroupProps {\n  title: string\n  children: ItemProps[]\n  showName?: boolean\n}\n\nconst SelectTokenGroup = ({ title, children, showName }: GroupProps) => {\n  return !children.filter(({ hidden }) => !hidden).length ? null : (\n    <article>\n      <h1 className={styles.title}>{title}</h1>\n      <TokenCardGrid singleColumn={showName}>\n        {children.map((item) => (\n          <SelectTokenItem {...item} showName={showName} key={item.value} />\n        ))}\n      </TokenCardGrid>\n    </article>\n  )\n}\n\ninterface ItemProps extends TokenItem {\n  balance?: string\n  value: string\n  muted?: boolean\n  hidden?: boolean\n  showName?: boolean\n}\n\nconst SelectTokenItem = (props: ItemProps) => {\n  const { value, balance, muted, hidden, showName } = props\n  const { hideBalance, selectToken } = useSelectToken()\n\n  return hidden ? null : (\n    <button\n      type=\"button\"\n      className={cx(styles.button, { muted })}\n      onClick={() => selectToken(value)}\n    >\n      <TokenCard\n        {...props}\n        className={styles.item}\n        balance={hideBalance ? undefined : balance}\n        name={showName ? props.name : undefined /* Hide name */}\n        value={undefined /* To avoid put the `option` value */}\n      />\n    </button>\n  )\n}\n\ninterface Props {\n  value?: string\n  onChange: (value: string) => void\n  options: GroupProps[]\n  addonAfter: ReactNode // input\n  checkbox?: ReactNode\n  showName?: boolean\n}\n\ninterface Value {\n  hideBalance: boolean\n  selectToken: Props[\"onChange\"]\n}\n\nconst [useSelectToken, SelectTokenProvider] =\n  createContext<Value>(\"useSelectToken\")\n\nconst SelectToken = ({ value: selected, onChange, ...props }: Props) => {\n  const { options, addonAfter, checkbox, showName } = props\n  const { t } = useTranslation()\n\n  const [isOpen, setIsOpen] = useState(false)\n  const toggle = () => setIsOpen(!isOpen)\n  const selectToken = (value: string) => {\n    if (value !== selected) onChange(value)\n    toggle()\n  }\n\n  const [keyword, setKeyword] = useState(\"\")\n\n  const items = flatten(Object.values(options.map(({ children }) => children)))\n  const current = items.find((item) => item.value === selected)\n  const byKeyword = items.filter((item) =>\n    [item.value, item.symbol].some((k) =>\n      k.toLowerCase().includes(keyword.toLowerCase())\n    )\n  )\n\n  const empty = !byKeyword.length\n\n  return (\n    <SelectTokenProvider value={{ hideBalance: !checkbox, selectToken }}>\n      <div className={styles.component}>\n        <Flex>\n          <button type=\"button\" className={styles.toggle} onClick={toggle}>\n            {current ? (\n              <>\n                <TokenIcon token={current.token} icon={current.icon} />\n                {current.symbol}\n              </>\n            ) : (\n              t(\"Select a coin\")\n            )}\n\n            <ArrowDropDownIcon style={{ fontSize: 18 }} />\n          </button>\n\n          {addonAfter}\n        </Flex>\n\n        {isOpen && (\n          <section>\n            <Flex className={styles.search}>\n              <SearchIcon />\n              <input\n                value={keyword}\n                onChange={(e) => setKeyword(e.target.value)}\n                placeholder=\"\"\n                autoComplete=\"off\"\n                autoFocus\n              />\n            </Flex>\n\n            <Grid gap={20} className={cx(styles.list, { empty })}>\n              {keyword ? (\n                empty ? (\n                  <Empty />\n                ) : (\n                  <TokenCardGrid singleColumn={showName}>\n                    {byKeyword.map((item) => (\n                      <SelectTokenItem\n                        {...item}\n                        showName={showName}\n                        key={item.value}\n                      />\n                    ))}\n                  </TokenCardGrid>\n                )\n              ) : (\n                <>\n                  {checkbox && (\n                    <section className={cx(styles.checkbox)}>\n                      {checkbox}\n                    </section>\n                  )}\n\n                  {options.map((option) => (\n                    <SelectTokenGroup\n                      {...option}\n                      showName={showName}\n                      key={option.title}\n                    />\n                  ))}\n                </>\n              )}\n            </Grid>\n          </section>\n        )}\n      </div>\n    </SelectTokenProvider>\n  )\n}\n\nexport default SelectToken\n","import { ForwardedRef, forwardRef, InputHTMLAttributes } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport { Flex, Grid } from \"components/layout\"\nimport styles from \"./SlippageControl.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\n  input?: number\n  error?: string\n}\n\nconst SlippageControl = forwardRef(\n  ({ input, error, ...attrs }: Props, ref: ForwardedRef<HTMLInputElement>) => {\n    const { t } = useTranslation()\n\n    const warn = (n?: number) => {\n      if (!n) return\n      if (n > 5) return t(\"Transaction may be frontrun\")\n      if (n < 0.5) return t(\"Transaction may fail\")\n      return\n    }\n\n    const warning = warn(input)\n    const className = cx(\n      styles.wrapper,\n      error ? \"feedback-error\" : warning ? \"feedback-warning\" : undefined\n    )\n\n    return (\n      <Grid gap={2}>\n        <section className={styles.main}>\n          <label className={styles.label}>{t(\"Slippage tolerance\")}</label>\n          <Flex gap={2} className={className}>\n            <input {...attrs} autoComplete=\"off\" ref={ref} />\n            <span>%</span>\n          </Flex>\n        </section>\n\n        {error ? (\n          <p className={styles.error}>{error}</p>\n        ) : warning ? (\n          <p className={styles.warning}>{warning}</p>\n        ) : null}\n      </Grid>\n    )\n  }\n)\n\nexport default SlippageControl\n","import { useQuery } from \"react-query\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useLCDClient } from \"./lcdClient\"\n\nexport const useMarketParams = () => {\n  const lcd = useLCDClient()\n  return useQuery([queryKey.market.params], () => lcd.market.parameters(), {\n    ...RefetchOptions.INFINITY,\n  })\n}\n","import { Read } from \"components/token\"\nimport { SwapAssets } from \"../useSwapUtils\"\n\ninterface Props extends SwapAssets {\n  price?: Price\n  className?: string\n}\n\nconst Price = ({ price, offerAsset, askAsset, className }: Props) => {\n  if (!price) return null\n\n  return price > 1 ? (\n    <span className={className}>\n      <Read amount={String(1)} token={askAsset} decimals={0} /> ={\" \"}\n      <Read amount={String(price)} token={offerAsset} decimals={0} auto />\n    </span>\n  ) : (\n    <span className={className}>\n      <Read amount={String(1)} token={offerAsset} decimals={0} /> ={\" \"}\n      <Read amount={String(1 / price)} token={askAsset} decimals={0} auto />\n    </span>\n  )\n}\n\nexport default Price\n","import { useTranslation } from \"react-i18next\"\nimport { isDenomLuna, isDenomTerra } from \"@terra.kitchen/utils\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { toPrice } from \"utils/num\"\nimport { useMarketParams } from \"data/queries/market\"\nimport { useOracleParams } from \"data/queries/oracle\"\nimport { Read } from \"components/token\"\nimport { TooltipIcon } from \"components/display\"\nimport { PayloadOnchain, PayloadTerraswap } from \"../useSwapUtils\"\nimport { PayloadRouteswap } from \"../useSwapUtils\"\nimport { SwapMode } from \"../useSwapUtils\"\nimport { SlippageParams, SwapSpread, useSingleSwap } from \"../SingleSwapContext\"\nimport Price from \"./Price\"\n\ninterface Props extends SlippageParams, SwapSpread {\n  mode: SwapMode\n  isLoading: boolean\n  rate?: Price\n  payload?: PayloadOnchain | PayloadTerraswap | PayloadRouteswap\n}\n\nconst ExpectedPrice = ({ mode, input, ...props }: Props) => {\n  const { offerAsset, askAsset } = props\n  const { price, rate, minimum_receive, payload, isLoading } = props\n  const { t } = useTranslation()\n\n  /* decimals */\n  const { findDecimals } = useSingleSwap()\n  const offerDecimals = findDecimals(offerAsset)\n  const askDecimals = findDecimals(askAsset)\n\n  /* query: native */\n  const minSpread = useSwapSpread()\n  const tobinTax = useTobinTax(askAsset)\n\n  /* render: expected price */\n  const renderPrice = (price?: Price) => <Price {...props} price={price} />\n\n  const renderExpectedPrice = () => {\n    return (\n      <>\n        <dt>{t(\"Expected price\")}</dt>\n        <dd>{!isLoading && renderPrice(price)}</dd>\n      </>\n    )\n  }\n\n  /* render: by mode */\n  const renderOnchain = () => {\n    const spread = payload as PayloadOnchain\n\n    const tooltip = (\n      <>\n        {[offerAsset, askAsset].some(isDenomLuna) && (\n          <p>\n            {t(\"Minimum Luna swap spread: {{minSpread}}\", {\n              minSpread: readPercent(minSpread),\n            })}\n          </p>\n        )}\n\n        {askAsset && isDenomTerra(askAsset) && tobinTax && (\n          <p>\n            {t(\"Terra tobin tax: {{tobinTax}}\", {\n              tobinTax: readPercent(tobinTax),\n            })}\n          </p>\n        )}\n      </>\n    )\n\n    return (\n      <>\n        <dt>{t(\"Oracle price\")}</dt>\n        <dd>{renderPrice(rate)}</dd>\n        {renderExpectedPrice()}\n        <dt>\n          <TooltipIcon content={tooltip}>{t(\"Spread\")}</TooltipIcon>\n        </dt>\n        <dd>\n          {!isLoading && (\n            <Read amount={spread} denom={askAsset} decimals={askDecimals} />\n          )}\n        </dd>\n      </>\n    )\n  }\n\n  const renderTerraswap = () => {\n    const fee = payload as PayloadTerraswap\n\n    const decimals = askDecimals - offerDecimals\n    const price = toPrice(Number(rate) * Math.pow(10, decimals))\n\n    return (\n      <>\n        {!!price && (\n          <>\n            <dt>{t(\"Pair price\")}</dt>\n            <dd>{renderPrice(price)}</dd>\n          </>\n        )}\n\n        {renderExpectedPrice()}\n\n        <dt>{t(\"Trading fee\")}</dt>\n        <dd>\n          {!isLoading && (\n            <Read amount={fee} denom={askAsset} decimals={askDecimals} />\n          )}\n        </dd>\n      </>\n    )\n  }\n\n  const renderRouteswap = () => {\n    return <>{renderExpectedPrice()}</>\n  }\n\n  const renderByMode = (mode: SwapMode) =>\n    ({\n      [SwapMode.ONCHAIN]: renderOnchain,\n      [SwapMode.TERRASWAP]: renderTerraswap,\n      [SwapMode.ASTROPORT]: renderTerraswap,\n      [SwapMode.ROUTESWAP]: renderRouteswap,\n    }[mode]())\n\n  /* render: minimum received */\n  const renderMinimumReceived = () => {\n    return (\n      <>\n        <dt>{t(\"Minimum received\")}</dt>\n        <dd>\n          {!isLoading && (\n            <Read\n              amount={minimum_receive}\n              token={askAsset}\n              decimals={findDecimals(askAsset)}\n            />\n          )}\n        </dd>\n      </>\n    )\n  }\n\n  if (!Number.isFinite(price)) return null\n\n  return (\n    <dl>\n      {mode && renderByMode(mode)}\n      {renderMinimumReceived()}\n    </dl>\n  )\n}\n\nexport default ExpectedPrice\n\n/* hooks */\nconst useSwapSpread = () => {\n  const { data: marketParams } = useMarketParams()\n  const minSpread = marketParams?.min_stability_spread\n  return minSpread?.toString()\n}\n\nconst useTobinTax = (askAsset?: CoinDenom) => {\n  const { data: oracleParams } = useOracleParams()\n  const tobinTax = oracleParams?.whitelist.find(\n    ({ name }) => name === askAsset\n  )?.tobin_tax\n\n  return tobinTax?.toString()\n}\n","import { useCallback, useEffect, useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useLocation } from \"react-router-dom\"\nimport { useQuery } from \"react-query\"\nimport { useForm } from \"react-hook-form\"\nimport BigNumber from \"bignumber.js\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { isDenomTerra } from \"@terra.kitchen/utils\"\nimport { toAmount } from \"@terra.kitchen/utils\"\n\n/* helpers */\nimport { has } from \"utils/num\"\nimport { getAmount, sortCoins } from \"utils/coin\"\nimport { queryKey } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\n\n/* components */\nimport { Form, FormArrow, FormError } from \"components/form\"\nimport { Checkbox, RadioButton } from \"components/form\"\nimport { Read } from \"components/token\"\n\n/* tx modules */\nimport { getPlaceholder, toInput, CoinInput } from \"../../utils\"\nimport validate from \"../../validate\"\nimport Tx, { getInitialGasDenom } from \"../../Tx\"\n\n/* swap modules */\nimport AssetFormItem from \"./components/AssetFormItem\"\nimport { AssetInput, AssetReadOnly } from \"./components/AssetFormItem\"\nimport SelectToken from \"./components/SelectToken\"\nimport SlippageControl from \"./components/SlippageControl\"\nimport ExpectedPrice from \"./components/ExpectedPrice\"\nimport useSwapUtils, { validateAssets } from \"./useSwapUtils\"\nimport { SwapMode, validateParams } from \"./useSwapUtils\"\nimport { SlippageParams } from \"./SingleSwapContext\"\nimport { validateSlippageParams, useSingleSwap } from \"./SingleSwapContext\"\nimport styles from \"./SwapForm.module.scss\"\n\ninterface TxValues extends Partial<SlippageParams> {\n  mode?: SwapMode\n}\n\nconst SwapForm = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const { state } = useLocation()\n  const bankBalance = useBankBalance()\n  const { add } = useCustomTokensCW20()\n\n  /* swap context */\n  const utils = useSwapUtils()\n  const { getIsSwapAvailable, getAvailableSwapModes } = utils\n  const { getMsgsFunction, getSimulateFunction, getSimulateQuery } = utils\n  const { options, findTokenItem, findDecimals, calcExpected } = useSingleSwap()\n\n  const initialOfferAsset =\n    (state as Token) ??\n    (getAmount(bankBalance, \"uusd\") ? \"uusd\" : sortCoins(bankBalance)[0].denom)\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* options */\n  const [showAll, setShowAll] = useState(false)\n\n  const getOptions = (key: \"offerAsset\" | \"askAsset\") => {\n    const { coins, tokens } = options\n\n    const getOptionList = (list: TokenItemWithBalance[]) =>\n      list.map((item) => {\n        const { token: value, balance } = item\n\n        const muted = {\n          offerAsset:\n            !!askAsset && !getIsSwapAvailable({ offerAsset: value, askAsset }),\n          askAsset:\n            !!offerAsset &&\n            !getIsSwapAvailable({ offerAsset, askAsset: value }),\n        }[key]\n\n        const hidden = key === \"offerAsset\" && !showAll && !has(balance)\n        return { ...item, value, muted, hidden }\n      })\n\n    return [\n      { title: t(\"Coins\"), children: getOptionList(coins) },\n      { title: t(\"Tokens\"), children: getOptionList(tokens) },\n    ]\n  }\n\n  /* form */\n  const form = useForm<TxValues>({\n    mode: \"onChange\",\n    defaultValues: { offerAsset: initialOfferAsset, slippageInput: 1 },\n  })\n\n  const { register, trigger, watch, setValue, handleSubmit, formState } = form\n  const { errors } = formState\n  const values = watch()\n  const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values\n\n  useEffect(() => {\n    // validate input on change mode\n    if (mode) trigger(\"input\")\n  }, [mode, trigger])\n\n  const assets = useMemo(\n    () => ({ offerAsset, askAsset }),\n    [offerAsset, askAsset]\n  )\n\n  const slippageParams = useMemo(\n    () => ({ offerAsset, askAsset, input, slippageInput, ratio }),\n    [askAsset, input, offerAsset, ratio, slippageInput]\n  )\n\n  const offerTokenItem = offerAsset ? findTokenItem(offerAsset) : undefined\n  const offerDecimals = offerAsset ? findDecimals(offerAsset) : undefined\n  const askTokenItem = askAsset ? findTokenItem(askAsset) : undefined\n  const askDecimals = askAsset ? findDecimals(askAsset) : undefined\n\n  const amount = toAmount(input, { decimals: offerDecimals })\n\n  const swapAssets = () => {\n    setValue(\"offerAsset\", askAsset)\n    setValue(\"askAsset\", offerAsset)\n    setValue(\"input\", undefined)\n    trigger(\"input\")\n  }\n\n  /* simulate | execute */\n  const params = { amount, ...assets }\n  const availableSwapModes = getAvailableSwapModes(assets)\n  const isSwapAvailable = getIsSwapAvailable(assets)\n  const simulateQuery = getSimulateQuery(params)\n\n  /* simulate */\n  const { data: simulationResults, isFetching } = useQuery({\n    ...simulateQuery,\n    onSuccess: ({ profitable }) => setValue(\"mode\", profitable?.mode),\n  })\n\n  /* Simulated value to create tx */\n  // Simulated for all possible modes\n  // Do not simulate again even if the mode changes\n  const results = simulationResults?.values\n  const result = results && mode && results[mode]\n  const simulatedValue = result?.value\n  const simulatedRatio = result?.ratio\n\n  useEffect(() => {\n    // Set ratio on simulate\n    if (simulatedRatio) setValue(\"ratio\", simulatedRatio)\n  }, [simulatedRatio, setValue])\n\n  /* Select asset */\n  const onSelectAsset = (key: \"offerAsset\" | \"askAsset\") => {\n    return async (value: Token) => {\n      const assets = {\n        offerAsset: { offerAsset: value, askAsset },\n        askAsset: { offerAsset, askAsset: value },\n      }[key]\n\n      // set mode if only one available\n      const availableSwapModes = getAvailableSwapModes(assets)\n      const availableSwapMode =\n        availableSwapModes?.length === 1 ? availableSwapModes[0] : undefined\n      setValue(\"mode\", availableSwapMode)\n\n      // empty opposite asset if select the same asset\n      if (assets.offerAsset === assets.askAsset) {\n        setValue(key === \"offerAsset\" ? \"askAsset\" : \"offerAsset\", undefined)\n      }\n\n      // focus on input if select offer asset\n      if (key === \"offerAsset\") {\n        form.resetField(\"input\")\n        form.setFocus(\"input\")\n      }\n\n      setValue(key, value)\n    }\n  }\n\n  /* tx */\n  const balance = offerTokenItem?.balance\n  const createTx = useCallback(\n    (values: TxValues) => {\n      const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values\n      if (!(mode && input && offerAsset && askAsset && slippageInput && ratio))\n        return\n\n      const offerDecimals = findDecimals(offerAsset)\n      const amount = toAmount(input, { decimals: offerDecimals })\n      if (!balance || new BigNumber(amount).gt(balance)) return\n\n      const params = { amount, offerAsset, askAsset }\n      if (!validateParams(params)) return\n\n      const getMsgs = getMsgsFunction(mode)\n\n      /* slippage */\n      const expected = calcExpected({ ...params, input, slippageInput, ratio })\n      return { msgs: getMsgs({ ...params, ...expected }) }\n    },\n    [balance, calcExpected, findDecimals, getMsgsFunction]\n  )\n\n  /* fee */\n  const { data: estimationTxValues } = useQuery(\n    [\"estimationTxValues\", { mode, assets, balance }],\n    async () => {\n      if (!(mode && validateAssets(assets) && balance)) return\n      const { offerAsset, askAsset } = assets\n      const simulate = getSimulateFunction(mode)\n      // estimate fee only after ratio simulated\n      const { ratio } = await simulate({ ...assets, amount: balance })\n      const input = toInput(balance, findDecimals(offerAsset))\n      return { mode, offerAsset, askAsset, ratio, input, slippageInput: 1 }\n    }\n  )\n\n  const taxRequired = mode !== SwapMode.ONCHAIN\n  const token = offerAsset\n  const coins = [{ input, denom: token, taxRequired }] as CoinInput[]\n  const decimals = offerDecimals\n  const tx = {\n    token,\n    decimals,\n    amount,\n    coins,\n    balance,\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    taxRequired,\n    onPost: () => {\n      // add custom token on ask cw20\n      if (!(askAsset && AccAddress.validate(askAsset) && askTokenItem)) return\n      const { balance, ...rest } = askTokenItem\n      add(rest as CustomTokenCW20)\n    },\n    queryKeys: [offerAsset, askAsset]\n      .filter((asset) => asset && AccAddress.validate(asset))\n      .map((token) => [\n        queryKey.wasm.contractQuery,\n        token,\n        { balance: address },\n      ]),\n  }\n\n  const disabled = isFetching ? t(\"Simulating...\") : false\n\n  /* render */\n  const renderRadioGroup = () => {\n    if (!(validateAssets(assets) && isSwapAvailable)) return null\n\n    return (\n      <section className={styles.modes}>\n        {availableSwapModes.map((key) => {\n          const checked = mode === key\n\n          return (\n            <RadioButton\n              {...register(\"mode\")}\n              value={key}\n              checked={checked}\n              key={key}\n            >\n              {key}\n            </RadioButton>\n          )\n        })}\n      </section>\n    )\n  }\n\n  /* render: expected price */\n  const renderExpected = () => {\n    if (!(mode && validateSlippageParams(slippageParams))) return null\n    const expected = calcExpected(slippageParams)\n    const props = { mode, ...slippageParams, ...expected, ...result }\n    return <ExpectedPrice {...props} isLoading={isFetching} />\n  }\n\n  const slippageDisabled = [offerAsset, askAsset].every(isDenomTerra)\n\n  return (\n    <Tx {...tx} disabled={disabled}>\n      {({ max, fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          {renderRadioGroup()}\n\n          <AssetFormItem\n            label={t(\"From\")}\n            extra={max.render(async (value) => {\n              // Do not use automatic max here\n              // Confusion arises as the amount changes and simulates again\n              setValue(\"input\", toInput(value, offerDecimals))\n              await trigger(\"input\")\n            })}\n            error={errors.input?.message}\n          >\n            <SelectToken\n              value={offerAsset}\n              onChange={onSelectAsset(\"offerAsset\")}\n              options={getOptions(\"offerAsset\")}\n              checkbox={\n                <Checkbox\n                  checked={showAll}\n                  onChange={() => setShowAll(!showAll)}\n                >\n                  {t(\"Show all\")}\n                </Checkbox>\n              }\n              addonAfter={\n                <AssetInput\n                  {...register(\"input\", {\n                    valueAsNumber: true,\n                    validate: validate.input(\n                      toInput(max.amount, offerDecimals),\n                      offerDecimals\n                    ),\n                  })}\n                  inputMode=\"decimal\"\n                  placeholder={getPlaceholder(offerDecimals)}\n                  onFocus={max.reset}\n                  autoFocus\n                />\n              }\n            />\n          </AssetFormItem>\n\n          <FormArrow onClick={swapAssets} />\n\n          <AssetFormItem label={t(\"To\")}>\n            <SelectToken\n              value={askAsset}\n              onChange={onSelectAsset(\"askAsset\")}\n              options={getOptions(\"askAsset\")}\n              addonAfter={\n                <AssetReadOnly>\n                  {simulatedValue ? (\n                    <Read\n                      amount={simulatedValue}\n                      decimals={askDecimals}\n                      approx\n                    />\n                  ) : (\n                    <p className=\"muted\">\n                      {isFetching ? t(\"Simulating...\") : \"0\"}\n                    </p>\n                  )}\n                </AssetReadOnly>\n              }\n            />\n          </AssetFormItem>\n\n          {!slippageDisabled && (\n            <SlippageControl\n              {...register(\"slippageInput\", {\n                valueAsNumber: true,\n                validate: validate.input(50, 2, \"Slippage tolerance\"),\n              })}\n              input={slippageInput} // to warn\n              inputMode=\"decimal\"\n              placeholder={getPlaceholder(2)}\n              error={errors.slippageInput?.message}\n            />\n          )}\n\n          {renderExpected()}\n          {fee.render()}\n\n          {validateAssets(assets) && !isSwapAvailable && (\n            <FormError>{t(\"Pair does not exist\")}</FormError>\n          )}\n\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default SwapForm\n","import { ExternalLink } from \"components/general\"\nimport styles from \"./TFMPoweredBy.module.scss\"\n\nconst TFMPoweredBy = () => {\n  return (\n    <p className={styles.component}>\n      Powered by{\" \"}\n      <ExternalLink href=\"https://tfm.com\" className={styles.link}>\n        TFM\n      </ExternalLink>\n    </p>\n  )\n}\n\nexport default TFMPoweredBy\n","import { PropsWithChildren } from \"react\"\nimport createContext from \"utils/createContext\"\nimport { combineState } from \"data/query\"\nimport { TerraContracts } from \"data/Terra/TerraAssets\"\nimport { useCW20Pairs } from \"data/Terra/TerraAssets\"\nimport { useTerraContracts } from \"data/Terra/TerraAssets\"\nimport { Fetching } from \"components/feedback\"\n\ninterface Swap {\n  pairs: CW20Pairs\n  contracts?: TerraContracts\n}\n\nexport const [useSwap2, SwapProvider] = createContext<Swap>(\"useSwap2\")\n\nconst SwapContext2 = ({ children }: PropsWithChildren<{}>) => {\n  const { data: pairs, ...cw20PairsState } = useCW20Pairs()\n  const { data: contracts, ...contractsState } = useTerraContracts()\n\n  console.log(pairs)\n  console.log(contracts)\n\n  const state = combineState(contractsState, cw20PairsState)\n\n  const render = () => {\n    if (!(pairs && contracts)) return null\n    const value = { pairs, contracts }\n    return <SwapProvider value={value}>{children}</SwapProvider>\n  }\n\n  return !state.isSuccess ? null : <Fetching {...state}>{render()}</Fetching>\n}\n\nexport default SwapContext2\n","import { PropsWithChildren, useMemo } from \"react\"\nimport { flatten, uniq, zipObj } from \"ramda\"\nimport BigNumber from \"bignumber.js\"\nimport { isDenomIBC, toAmount } from \"@terra.kitchen/utils\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { getAmount } from \"utils/coin\"\nimport { toPrice } from \"utils/num\"\nimport createContext from \"utils/createContext\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { combineState, useIsClassic } from \"data/query\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useTokenBalances } from \"data/queries/wasm\"\nimport { readIBCDenom, readNativeDenom } from \"data/token\"\n// eslint-disable-next-line\nimport { useIBCWhitelist, useCW20Whitelist } from \"data/Terra/TerraAssets\"\n// eslint-disable-next-line\nimport { useOpzCW20Whitelist, useOpzIBCWhitelist } from \"data/moneies/OpzAssets\"\nimport { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\nimport { Card } from \"components/layout\"\nimport { SwapAssets, validateAssets } from \"../classic/useSwapUtils\"\nimport { useSwap2 } from \"./SwapContext2\"\n\nexport interface SlippageParams extends SwapAssets {\n  input: number\n  slippageInput: number\n  ratio: Price\n}\n\nexport interface SwapSpread {\n  max_spread: string\n  minimum_receive: Amount\n  belief_price: string\n  price: number\n}\n\ninterface SingleSwap {\n  options: {\n    coins: TokenItemWithBalance[]\n    tokens: TokenItemWithBalance[]\n  }\n  findTokenItem: (token: Token) => TokenItemWithBalance\n  findDecimals: (token: Token) => number\n  calcExpected: (params: SlippageParams) => SwapSpread\n}\n\nexport const [useSingleSwap2, SingleSwapProvider] =\n  createContext<SingleSwap>(\"useSingleSwap2\")\n\nconst SingleSwapContext2 = ({ children }: PropsWithChildren<{}>) => {\n  const currency = useCurrency()\n  const isClassic = useIsClassic()\n  const bankBalance = useBankBalance()\n  const { pairs } = useSwap2()\n  const { list } = useCustomTokensCW20()\n\n  /* from opz */\n  const { data: opzibc } = useOpzIBCWhitelist()\n  const { data: opzcw20 } = useOpzCW20Whitelist()\n  const _list = list.map(({ token }) => token)\n  let r: any[] = []\n  if (opzcw20 !== undefined && opzibc !== undefined) {\n    const _opzcw20 = Object.values(opzcw20).map(({ token }) => token)\n    const _opzibc = Object.values(opzibc).map(({ denom }) =>\n      denom.replace(\"ibc/\", \"\")\n    )\n    r = mergeArrays(_list, _opzcw20, _opzibc)\n  }\n\n  const customTokens = r //  list.map(({ token }) => token)\n\n  console.log(customTokens)\n\n  /* contracts */\n  const { data: ibcWhitelist, ...ibcWhitelistState } = useIBCWhitelist()\n  const { data: cw20Whitelist, ...cw20WhitelistState } = useCW20Whitelist()\n\n  // Why?\n  // To search tokens with symbol (ibc, cw20)\n  // To filter tokens with balance (cw20)\n  const terraswapAvailableList = useMemo(() => {\n    if (!(ibcWhitelist && cw20Whitelist)) return\n\n    const terraswapAvailableList = uniq(\n      flatten(Object.values(pairs).map(({ assets }) => assets))\n    )\n\n    const ibc = terraswapAvailableList\n      .filter(isDenomIBC)\n      .filter((denom) => ibcWhitelist[denom.replace(\"ibc/\", \"\")])\n\n    const cw20 = terraswapAvailableList\n      .filter(AccAddress.validate)\n      .filter((token) => cw20Whitelist[token])\n\n    return { ibc, cw20 }\n  }, [cw20Whitelist, ibcWhitelist, pairs])\n\n  // Fetch cw20 balances: only listed and added by the user\n  const cw20TokensBalanceRequired = useMemo(() => {\n    if (!terraswapAvailableList) return []\n    return customTokens.filter((token) =>\n      terraswapAvailableList.cw20.includes(token)\n    )\n  }, [customTokens, terraswapAvailableList])\n\n  const cw20TokensBalancesState = useTokenBalances(cw20TokensBalanceRequired)\n  const cw20TokensBalances = useMemo(() => {\n    if (cw20TokensBalancesState.some(({ isSuccess }) => !isSuccess)) return\n\n    return zipObj(\n      cw20TokensBalanceRequired,\n      cw20TokensBalancesState.map(({ data }) => {\n        if (!data) throw new Error()\n        return data\n      })\n    )\n  }, [cw20TokensBalanceRequired, cw20TokensBalancesState])\n\n  const context = useMemo(() => {\n    if (!(terraswapAvailableList && ibcWhitelist && cw20Whitelist)) return\n    if (!cw20TokensBalances) return\n\n    const coins = [\n      {\n        ...readNativeDenom(\"uluna\", isClassic),\n        balance: getAmount(bankBalance, \"uluna\"),\n      },\n    ]\n\n    const ibc = terraswapAvailableList.ibc.map((denom) => {\n      const item = ibcWhitelist[denom.replace(\"ibc/\", \"\")]\n      const balance = getAmount(bankBalance, denom)\n      return { ...readIBCDenom(item), balance }\n    })\n\n    const cw20 = terraswapAvailableList.cw20.map((token) => {\n      const balance = cw20TokensBalances[token] ?? \"0\"\n      return { ...cw20Whitelist[token], balance }\n    })\n\n    const options = { coins, tokens: [...ibc, ...cw20] }\n\n    const findTokenItem = (token: Token) => {\n      const key =\n        AccAddress.validate(token) || isDenomIBC(token) ? \"tokens\" : \"coins\"\n\n      const option = options[key].find((item) => item.token === token)\n      if (!option) throw new Error()\n      return option\n    }\n\n    const findDecimals = (token: Token) => findTokenItem(token).decimals\n\n    const calcExpected = (params: SlippageParams) => {\n      const { offerAsset, askAsset, input, slippageInput, ratio } = params\n      const offerDecimals = findDecimals(offerAsset)\n      const askDecimals = findDecimals(askAsset)\n\n      /* terraswap */\n      const belief_price = new BigNumber(ratio)\n        .dp(18, BigNumber.ROUND_DOWN)\n        .toString()\n\n      /* routeswap | on-chain */\n      const max_spread = new BigNumber(slippageInput).div(100).toString()\n      const amount = toAmount(input, { decimals: offerDecimals })\n      const value = Number(amount) / ratio\n      const minimum_receive = calcMinimumReceive(value, max_spread)\n\n      /* expected price */\n      const decimals = askDecimals - offerDecimals\n      const price = toPrice(\n        new BigNumber(ratio).times(new BigNumber(10).pow(decimals))\n      )\n\n      return { max_spread, belief_price, minimum_receive, price }\n    }\n\n    return { options, findTokenItem, findDecimals, calcExpected }\n    // eslint-disable-next-line\n  }, [\n    currency,\n    bankBalance,\n    // activeDenoms,\n    ibcWhitelist,\n    cw20Whitelist,\n    terraswapAvailableList,\n    cw20TokensBalances,\n    isClassic,\n  ])\n\n  const state = combineState(\n    ibcWhitelistState,\n    cw20WhitelistState,\n    ...cw20TokensBalancesState\n  )\n\n  const render = () => {\n    if (!context) return null\n    return <SingleSwapProvider value={context}>{children}</SingleSwapProvider>\n  }\n\n  return <Card {...state}>{render()}</Card>\n}\n\nexport default SingleSwapContext2\n\n/* type */\nexport const validateSlippageParams = (\n  params: Partial<SlippageParams>\n): params is SlippageParams => {\n  const { input, slippageInput, ratio, ...assets } = params\n  return !!(validateAssets(assets) && input && slippageInput && ratio)\n}\n\n/* minimum received */\nexport const calcMinimumReceive = (\n  simulatedValue: Value,\n  max_spread: string\n) => {\n  const minRatio = new BigNumber(1).minus(max_spread)\n  const value = new BigNumber(simulatedValue).times(minRatio)\n  return value.integerValue(BigNumber.ROUND_FLOOR).toString()\n}\n\n// Function to merge arrays without duplicates\n// eslint-disable-next-line\nfunction mergeArrays(...arrays: any[]) {\n  const mergedSet = new Set()\n\n  // Add tokens from each array to the Set\n  arrays.forEach((array) => {\n    array.forEach((element: any) => mergedSet.add(element))\n  })\n\n  // Convert the Set back to an array\n  const mergedArray = Array.from(mergedSet)\n  return mergedArray\n}\n","import { useCallback } from \"react\"\nimport BigNumber from \"bignumber.js\"\nimport { fromPairs, zipObj } from \"ramda\"\nimport { Coin, Coins, MsgExecuteContract, MsgSwap } from \"@terra-money/terra.js\"\nimport { isDenom, isDenomLuna } from \"@terra.kitchen/utils\"\nimport { isDenomTerra, isDenomTerraNative } from \"@terra.kitchen/utils\"\nimport { TERRASWAP_COMMISSION_RATE } from \"config/constants\"\nimport { has, toPrice } from \"utils/num\"\n// eslint-disable-next-line\nimport { getAmount, toAsset, toAssetInfo, toTokenItem } from \"utils/coin\"\nimport { toBase64 } from \"utils/data\"\nimport { useAddress } from \"data/wallet\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\nimport { useSwap2 } from \"./SwapContext2\"\nimport { SwapSpread } from \"../classic/SingleSwapContext\"\n\n/* Call this hook after wrap component around with a SwapContext.\nThen, various helper functions will be generated based on the fetched data. */\n\nexport enum SwapMode {\n  ONCHAIN = \"Market\",\n  TERRASWAP = \"Terraswap\",\n  ASTROPORT = \"Astroport\",\n  ROUTESWAP = \"Route\",\n}\n\nexport interface SwapAssets {\n  offerAsset: Token\n  askAsset: Token\n}\n\nexport interface SwapParams extends SwapAssets, Partial<SwapSpread> {\n  amount: Amount\n}\n\n/* simulated */\n// rate: original ratio\n// ratio: simulated ratio\n// price: simulated ratio to print considering `decimals`\n// belief_price: ratio to 18 decimal points\nexport interface SimulateResult<T = any> {\n  mode: SwapMode\n  query: SwapParams\n  value: Amount\n  ratio: Price\n  rate?: Price\n  payload: T\n}\n\nexport type PayloadOnchain = Amount // spread\nexport type PayloadTerraswap = Amount // fee\nexport type PayloadRouteswap = string[]\n\nconst useSwapUtils2 = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n  const context = useSwap2()\n  const { pairs, contracts } = context\n\n  /* helpers */\n  // terraswap\n  const findPair = useCallback(\n    (assets: SwapAssets, dex: Dex) => {\n      const { offerAsset, askAsset } = assets\n      const pair = Object.entries(pairs).find(([, item]) =>\n        [offerAsset, askAsset].every(\n          (asset) => dex === item.dex && item.assets.includes(asset)\n        )\n      )\n\n      if (!pair) return\n\n      const [address, item] = pair\n      return { address, ...item }\n    },\n    [pairs]\n  )\n\n  /* determine swap mode */\n  const getIsOnchainAvailable = useCallback(\n    ({ offerAsset, askAsset }: SwapAssets) => {\n      return [offerAsset, askAsset].every(isDenomTerraNative)\n    },\n    []\n  )\n\n  const getIsTerraswapAvailable = useCallback(\n    (assets: SwapAssets) => !!findPair(assets, \"terraswap\"),\n    [findPair]\n  )\n\n  const getIsAstroportAvailable = useCallback(\n    (assets: SwapAssets) => !!findPair(assets, \"astroport\"),\n    [findPair]\n  )\n\n  const getIsRouteswapAvaialble = useCallback(\n    (assets: SwapAssets) => {\n      if (!contracts) return false\n      if (getIsOnchainAvailable(assets)) return false\n      if (getIsTerraswapAvailable(assets)) return false\n\n      const r0 =\n        getIsOnchainAvailable({ ...assets, askAsset: \"uusd\" }) ||\n        getIsTerraswapAvailable({ ...assets, askAsset: \"uusd\" })\n\n      const r1 =\n        getIsOnchainAvailable({ ...assets, offerAsset: \"uusd\" }) ||\n        getIsTerraswapAvailable({ ...assets, offerAsset: \"uusd\" })\n\n      return r0 && r1\n    },\n    [contracts, getIsOnchainAvailable, getIsTerraswapAvailable]\n  )\n\n  const getAvailableSwapModes = useCallback(\n    (assets: Partial<SwapAssets>): SwapMode[] => {\n      if (!validateAssets(assets)) return []\n\n      const functions = {\n        [SwapMode.ONCHAIN]: getIsOnchainAvailable,\n        [SwapMode.TERRASWAP]: getIsTerraswapAvailable,\n        [SwapMode.ASTROPORT]: getIsAstroportAvailable,\n        [SwapMode.ROUTESWAP]: getIsRouteswapAvaialble,\n      }\n\n      return Object.entries(functions)\n        .filter(([, fn]) => fn(assets))\n        .map(([key]) => key as SwapMode)\n    },\n    [\n      getIsOnchainAvailable,\n      getIsTerraswapAvailable,\n      getIsAstroportAvailable,\n      getIsRouteswapAvaialble,\n    ]\n  )\n\n  const getIsSwapAvailable = (assets: Partial<SwapAssets>) =>\n    !!getAvailableSwapModes(assets).length\n\n  /* swap mode for multiple swap */\n  const getSwapMode = useCallback(\n    (assets: SwapAssets) => {\n      const { askAsset } = assets\n      if (isDenomLuna(askAsset)) {\n        return getIsTerraswapAvailable(assets)\n          ? SwapMode.TERRASWAP\n          : SwapMode.ROUTESWAP\n      }\n\n      return SwapMode.ONCHAIN\n    },\n    [getIsTerraswapAvailable]\n  )\n\n  /* simulate | execute */\n  type SimulateFn<T = any> = (params: SwapParams) => Promise<SimulateResult<T>>\n  const getOnchainParams = useCallback(\n    ({ amount, offerAsset, askAsset, minimum_receive }: SwapParams) => {\n      if (!address) return { msgs: [] }\n\n      const getAssertMessage = () => {\n        if (!getAssertRequired({ offerAsset, askAsset })) return\n        if (!(contracts?.assertLimitOrder && minimum_receive)) return\n\n        return new MsgExecuteContract(address, contracts.assertLimitOrder, {\n          assert_limit_order: {\n            offer_coin: { denom: offerAsset, amount },\n            ask_denom: askAsset,\n            minimum_receive,\n          },\n        })\n      }\n\n      const assert = getAssertMessage()\n      const offerCoin = new Coin(offerAsset, amount)\n      const swap = new MsgSwap(address, offerCoin, askAsset)\n      return { msgs: assert ? [assert, swap] : [swap] }\n    },\n    [address, contracts]\n  )\n\n  const simulateOnchain = async (params: SwapParams) => {\n    const getRate = (denom: CoinDenom) => \"1\"\n    // isDenomLuna(denom) ? \"1\" : getAmount(exchangeRates, denom)\n\n    const { amount, offerAsset, askAsset } = params\n    const offerCoin = new Coin(offerAsset, amount)\n    const res = await lcd.market.swapRate(offerCoin, askAsset)\n    const result = res.amount.toString()\n\n    /* spread */\n    const offerRate = getRate(offerAsset)\n    const askRate = getRate(askAsset)\n    const rate = new BigNumber(offerRate).div(askRate)\n    const value = new BigNumber(amount).div(rate)\n    const spread = value.minus(result).toString()\n\n    if (!result) throw new Error(\"Simulation failed\")\n\n    const ratio = toPrice(new BigNumber(amount).div(result))\n\n    return {\n      mode: SwapMode.ONCHAIN,\n      query: params,\n      value: result,\n      ratio,\n      rate: toPrice(rate),\n      payload: spread,\n    }\n  }\n\n  const getTerraswapParams = useCallback(\n    (params: SwapParams, dex: Dex) => {\n      const { amount, offerAsset, askAsset, belief_price, max_spread } = params\n      const fromNative = isDenom(offerAsset)\n      const pair = findPair({ offerAsset, askAsset }, dex)\n      const offer_asset = toAsset(offerAsset, amount)\n\n      if (!pair) throw new Error(\"Pair does not exist\")\n      const contract = fromNative ? pair.address : offerAsset\n\n      /* simulate */\n      const query = { simulation: { offer_asset } }\n\n      /* execute */\n      const swap =\n        belief_price && max_spread ? { belief_price, max_spread } : {}\n      const executeMsg = fromNative\n        ? { swap: { ...swap, offer_asset } }\n        : { send: { amount, contract: pair.address, msg: toBase64({ swap }) } }\n      const coins = fromNative ? new Coins({ [offerAsset]: amount }) : undefined\n      const msgs = address\n        ? [new MsgExecuteContract(address, contract, executeMsg, coins)]\n        : []\n\n      return { pair, simulation: { contract: pair.address, query }, msgs }\n    },\n    [address, findPair]\n  )\n\n  const simulateTerraswap = async (\n    params: SwapParams,\n    dex: Dex = \"terraswap\"\n  ) => {\n    const mode = {\n      terraswap: SwapMode.TERRASWAP,\n      astroport: SwapMode.ASTROPORT,\n    }[dex]\n\n    const query = params\n\n    const { amount } = params\n    const { pair, simulation } = getTerraswapParams(params, dex)\n\n    if (pair.type === \"stable\") {\n      const { return_amount: value, commission_amount } =\n        await lcd.wasm.contractQuery<{\n          return_amount: Amount\n          commission_amount: Amount\n        }>(pair.address, simulation.query)\n\n      const payload = commission_amount\n      const ratio = toPrice(new BigNumber(amount).div(value))\n      return { mode, query, value, ratio, payload }\n    } else {\n      const { assets } = await lcd.wasm.contractQuery<{\n        assets: [Asset, Asset]\n      }>(simulation.contract, { pool: {} })\n\n      const { pool, rate } = parsePool(params, assets)\n      const { return_amount: value, commission_amount } = calcXyk(amount, pool)\n      const payload = commission_amount\n      const ratio = toPrice(new BigNumber(amount).div(value))\n      return { mode, query, value, ratio, rate, payload }\n    }\n  }\n\n  const getAstroportParams = getTerraswapParams\n  const simulateAstroport = (params: SwapParams) =>\n    simulateTerraswap(params, \"astroport\")\n\n  const getRouteswapParams = useCallback(\n    (params: SwapParams) => {\n      /* helper function */\n      const createSwap = ({ offerAsset, askAsset }: SwapAssets) => {\n        const offer_asset_info = toAssetInfo(offerAsset)\n        const ask_asset_info = toAssetInfo(askAsset)\n        const buyLuna = isDenomTerra(offerAsset) && isDenomLuna(askAsset)\n        return buyLuna || !getIsOnchainAvailable({ offerAsset, askAsset })\n          ? { terra_swap: { offer_asset_info, ask_asset_info } }\n          : { native_swap: { offer_denom: offerAsset, ask_denom: askAsset } }\n      }\n\n      const { amount, offerAsset, askAsset, minimum_receive } = params\n      const fromNative = isDenom(offerAsset)\n      if (!contracts?.routeswap) throw new Error(\"Routeswap is not available\")\n\n      const route = [offerAsset, \"uusd\", askAsset]\n      const operations = [\n        createSwap({ offerAsset, askAsset: \"uusd\" }),\n        createSwap({ offerAsset: \"uusd\", askAsset }),\n      ]\n\n      const options = minimum_receive && { minimum_receive }\n      const swapOperations = { ...options, offer_amount: amount, operations }\n\n      /* simulation */\n      const simulation = { simulate_swap_operations: swapOperations }\n      const execute = { execute_swap_operations: swapOperations }\n\n      /* msgs */\n      const routeswap = contracts.routeswap\n      const contract = fromNative ? routeswap : offerAsset\n      const executeMsg = fromNative\n        ? execute\n        : { send: { contract: routeswap, msg: toBase64(execute), amount } }\n      const coins = fromNative ? [new Coin(offerAsset, amount)] : undefined\n      const msgs = address\n        ? [new MsgExecuteContract(address, contract, executeMsg, coins)]\n        : []\n\n      return { route, simulation, msgs }\n    },\n    [address, contracts?.routeswap, getIsOnchainAvailable]\n  )\n\n  const simulateRouteswap: SimulateFn<Token[]> = async (params: SwapParams) => {\n    if (!contracts?.routeswap) throw new Error(\"Routeswap is not available\")\n\n    const { simulation, route } = getRouteswapParams(params)\n    const { amount: value } = await lcd.wasm.contractQuery<{ amount: string }>(\n      contracts.routeswap,\n      simulation\n    )\n\n    const ratio = toPrice(new BigNumber(params.amount).div(value))\n\n    return {\n      mode: SwapMode.ROUTESWAP,\n      query: params,\n      value,\n      ratio,\n      payload: route,\n    }\n  }\n\n  const getSimulateFunction = (mode: SwapMode) => {\n    const simulationFunctions = {\n      [SwapMode.ONCHAIN]: simulateOnchain,\n      [SwapMode.TERRASWAP]: simulateTerraswap,\n      [SwapMode.ASTROPORT]: simulateAstroport,\n      [SwapMode.ROUTESWAP]: simulateRouteswap,\n    }\n\n    return simulationFunctions[mode]\n  }\n\n  const getMsgsFunction = useCallback(\n    (mode: SwapMode) => {\n      const getMsgs = {\n        [SwapMode.ONCHAIN]: (params: SwapParams) =>\n          getOnchainParams(params).msgs,\n        [SwapMode.TERRASWAP]: (params: SwapParams) =>\n          getTerraswapParams(params, \"terraswap\").msgs,\n        [SwapMode.ASTROPORT]: (params: SwapParams) =>\n          getAstroportParams(params, \"astroport\").msgs,\n        [SwapMode.ROUTESWAP]: (params: SwapParams) =>\n          getRouteswapParams(params).msgs,\n      }\n\n      return getMsgs[mode]\n    },\n    [\n      getOnchainParams,\n      getTerraswapParams,\n      getAstroportParams,\n      getRouteswapParams,\n    ]\n  )\n\n  const getSimulateQuery = (params: Partial<SwapParams>) => ({\n    queryKey: [\"simulate.swap\", params],\n    queryFn: async () => {\n      if (!validateParams(params)) throw new Error()\n      const modes = getAvailableSwapModes(params)\n      const functions = modes.map(getSimulateFunction)\n      const queries = functions.map((fn) => fn(params))\n      const responses = await Promise.allSettled(queries)\n      const results = responses.map((result) => {\n        if (result.status === \"rejected\") throw new Error(result.reason)\n        return result.value\n      })\n\n      return {\n        values: zipObj(modes, results),\n        profitable: findProfitable(results),\n      }\n    },\n    enabled: validateParams(params),\n  })\n\n  return {\n    ...context,\n    getIsSwapAvailable,\n    getSwapMode,\n    getAvailableSwapModes,\n    getSimulateFunction,\n    getSimulateQuery,\n    getMsgsFunction,\n  }\n}\n\nexport default useSwapUtils2\n\n/* type guard */\nexport const validateAssets = (\n  assets: Partial<SwapAssets>\n): assets is Required<SwapAssets> => {\n  const { offerAsset, askAsset } = assets\n  return !!offerAsset && !!askAsset && offerAsset !== askAsset\n}\n\nexport const validateParams = (\n  params: Partial<SwapParams>\n): params is SwapParams => {\n  const { amount, ...assets } = params\n  return has(amount) && validateAssets(assets)\n}\n\n/* determinant */\nconst getAssertRequired = ({ offerAsset, askAsset }: SwapAssets) =>\n  [offerAsset, askAsset].some(isDenomTerra) &&\n  [offerAsset, askAsset].some(isDenomLuna)\n\n/* helpers */\nconst findProfitable = (results: SimulateResult[]) => {\n  const index = results.reduce(\n    (acc, { value }, index) =>\n      new BigNumber(value).gt(results[acc].value) ? index : acc,\n    0\n  )\n\n  return results[index]\n}\n\n/* calc */\nconst parsePool = (\n  { offerAsset, askAsset }: SwapAssets,\n  pairPool: [Asset, Asset]\n) => {\n  const pair = fromPairs(\n    pairPool.map(toTokenItem).map(({ amount, token }) => [token, amount])\n  )\n\n  const offerPool = pair[offerAsset]\n  const askPool = pair[askAsset]\n  const pool = [offerPool, askPool] as [string, string]\n  const rate = toPrice(new BigNumber(pair[offerAsset]).div(pair[askAsset]))\n\n  return { pool, rate }\n}\n\nconst calcXyk = (amount: Amount, [offerPool, askPool]: [Amount, Amount]) => {\n  const returnAmount = new BigNumber(amount)\n    .times(askPool)\n    .div(new BigNumber(amount).plus(offerPool))\n    .integerValue(BigNumber.ROUND_FLOOR)\n\n  const spreadAmount = new BigNumber(amount)\n    .times(askPool)\n    .div(offerPool)\n    .minus(returnAmount)\n    .integerValue(BigNumber.ROUND_FLOOR)\n\n  const commissionAmount = returnAmount\n    .times(TERRASWAP_COMMISSION_RATE)\n    .integerValue(BigNumber.ROUND_FLOOR)\n\n  return {\n    return_amount: returnAmount.minus(commissionAmount).toString(),\n    spread_amount: spreadAmount.toString(),\n    commission_amount: commissionAmount.toString(),\n  }\n}\n","import { InputHTMLAttributes, PropsWithChildren, ReactNode } from \"react\"\nimport { ForwardedRef, forwardRef } from \"react\"\nimport { Grid } from \"components/layout\"\nimport styles from \"./AssetFormItem.module.scss\"\n\ninterface Props {\n  label: string\n  extra?: ReactNode\n  error?: string\n}\n\nconst AssetFormItem = (props: PropsWithChildren<Props>) => {\n  const { label, extra, error, children } = props\n\n  return (\n    <Grid gap={3}>\n      <Grid gap={5} className={styles.border}>\n        <header className={styles.header}>\n          <label className={styles.label}>{label}</label>\n          {extra && <aside className={styles.extra}>{extra}</aside>}\n        </header>\n\n        {children}\n      </Grid>\n      <p className={styles.error}>{error}</p>\n    </Grid>\n  )\n}\n\nexport default AssetFormItem\n\n/* input */\nexport const AssetInput = forwardRef(\n  (\n    attrs: InputHTMLAttributes<HTMLInputElement>,\n    ref: ForwardedRef<HTMLInputElement>\n  ) => {\n    return (\n      <input {...attrs} className={styles.input} autoComplete=\"off\" ref={ref} />\n    )\n  }\n)\n\n/* read only */\nexport const AssetReadOnly = ({ children }: PropsWithChildren<{}>) => {\n  return <span className={styles.input}>{children}</span>\n}\n","import { ReactNode, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { flatten } from \"ramda\"\nimport classNames from \"classnames/bind\"\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\"\nimport SearchIcon from \"@mui/icons-material/Search\"\nimport createContext from \"utils/createContext\"\nimport { Flex, Grid } from \"components/layout\"\nimport { Empty } from \"components/feedback\"\nimport { TokenCard, TokenCardGrid, TokenIcon } from \"components/token\"\nimport styles from \"./SelectToken.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface GroupProps {\n  title: string\n  children: ItemProps[]\n  showName?: boolean\n}\n\nconst SelectTokenGroup = ({ title, children, showName }: GroupProps) => {\n  return !children.filter(({ hidden }) => !hidden).length ? null : (\n    <article>\n      <h1 className={styles.title}>{title}</h1>\n      <TokenCardGrid singleColumn={showName}>\n        {children.map((item) => (\n          <SelectTokenItem {...item} showName={showName} key={item.value} />\n        ))}\n      </TokenCardGrid>\n    </article>\n  )\n}\n\ninterface ItemProps extends TokenItem {\n  balance?: string\n  value: string\n  muted?: boolean\n  hidden?: boolean\n  showName?: boolean\n}\n\nconst SelectTokenItem = (props: ItemProps) => {\n  const { value, balance, muted, hidden, showName } = props\n  const { hideBalance, selectToken } = useSelectToken()\n\n  return hidden ? null : (\n    <button\n      type=\"button\"\n      className={cx(styles.button, { muted })}\n      onClick={() => selectToken(value)}\n    >\n      <TokenCard\n        {...props}\n        className={styles.item}\n        balance={hideBalance ? undefined : balance}\n        name={showName ? props.name : undefined /* Hide name */}\n        value={undefined /* To avoid put the `option` value */}\n      />\n    </button>\n  )\n}\n\ninterface Props {\n  value?: string\n  onChange: (value: string) => void\n  options: GroupProps[]\n  addonAfter: ReactNode // input\n  checkbox?: ReactNode\n  showName?: boolean\n}\n\ninterface Value {\n  hideBalance: boolean\n  selectToken: Props[\"onChange\"]\n}\n\nconst [useSelectToken, SelectTokenProvider] =\n  createContext<Value>(\"useSelectToken\")\n\nconst SelectToken = ({ value: selected, onChange, ...props }: Props) => {\n  const { options, addonAfter, checkbox, showName } = props\n  const { t } = useTranslation()\n\n  const [isOpen, setIsOpen] = useState(false)\n  const toggle = () => setIsOpen(!isOpen)\n  const selectToken = (value: string) => {\n    if (value !== selected) onChange(value)\n    toggle()\n  }\n\n  const [keyword, setKeyword] = useState(\"\")\n\n  const items = flatten(Object.values(options.map(({ children }) => children)))\n  const current = items.find((item) => item.value === selected)\n  const byKeyword = items.filter((item) =>\n    [item.value, item.symbol].some((k) =>\n      k.toLowerCase().includes(keyword.toLowerCase())\n    )\n  )\n\n  const empty = !byKeyword.length\n\n  return (\n    <SelectTokenProvider value={{ hideBalance: !checkbox, selectToken }}>\n      <div className={styles.component}>\n        <Flex>\n          <button type=\"button\" className={styles.toggle} onClick={toggle}>\n            {current ? (\n              <>\n                <TokenIcon token={current.token} icon={current.icon} />\n                {current.symbol}\n              </>\n            ) : (\n              t(\"Select a coin\")\n            )}\n\n            <ArrowDropDownIcon style={{ fontSize: 18 }} />\n          </button>\n\n          {addonAfter}\n        </Flex>\n\n        {isOpen && (\n          <section>\n            <Flex className={styles.search}>\n              <SearchIcon />\n              <input\n                value={keyword}\n                onChange={(e) => setKeyword(e.target.value)}\n                placeholder=\"\"\n                autoComplete=\"off\"\n                autoFocus\n              />\n            </Flex>\n\n            <Grid gap={20} className={cx(styles.list, { empty })}>\n              {keyword ? (\n                empty ? (\n                  <Empty />\n                ) : (\n                  <TokenCardGrid singleColumn={showName}>\n                    {byKeyword.map((item) => (\n                      <SelectTokenItem\n                        {...item}\n                        showName={showName}\n                        key={item.value}\n                      />\n                    ))}\n                  </TokenCardGrid>\n                )\n              ) : (\n                <>\n                  {checkbox && (\n                    <section className={cx(styles.checkbox)}>\n                      {checkbox}\n                    </section>\n                  )}\n\n                  {options.map((option) => (\n                    <SelectTokenGroup\n                      {...option}\n                      showName={showName}\n                      key={option.title}\n                    />\n                  ))}\n                </>\n              )}\n            </Grid>\n          </section>\n        )}\n      </div>\n    </SelectTokenProvider>\n  )\n}\n\nexport default SelectToken\n","import { ForwardedRef, forwardRef, InputHTMLAttributes } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport { Flex, Grid } from \"components/layout\"\nimport styles from \"./SlippageControl.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\n  input?: number\n  error?: string\n}\n\nconst SlippageControl = forwardRef(\n  ({ input, error, ...attrs }: Props, ref: ForwardedRef<HTMLInputElement>) => {\n    const { t } = useTranslation()\n\n    const warn = (n?: number) => {\n      if (!n) return\n      if (n > 5) return t(\"Transaction may be frontrun\")\n      if (n < 0.5) return t(\"Transaction may fail\")\n      return\n    }\n\n    const warning = warn(input)\n    const className = cx(\n      styles.wrapper,\n      error ? \"feedback-error\" : warning ? \"feedback-warning\" : undefined\n    )\n\n    return (\n      <Grid gap={2}>\n        <section className={styles.main}>\n          <label className={styles.label}>{t(\"Slippage tolerance\")}</label>\n          <Flex gap={2} className={className}>\n            <input {...attrs} autoComplete=\"off\" ref={ref} />\n            <span>%</span>\n          </Flex>\n        </section>\n\n        {error ? (\n          <p className={styles.error}>{error}</p>\n        ) : warning ? (\n          <p className={styles.warning}>{warning}</p>\n        ) : null}\n      </Grid>\n    )\n  }\n)\n\nexport default SlippageControl\n","import { useCallback, useEffect, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useFieldArray, useForm } from \"react-hook-form\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport RemoveIcon from \"@mui/icons-material/Remove\"\nimport { AccAddress, Coins, MsgSubmitProposal } from \"@terra-money/terra.js\"\nimport { TextProposal, CommunityPoolSpendProposal } from \"@terra-money/terra.js\"\nimport { ParameterChangeProposal, ParamChange } from \"@terra-money/terra.js\"\nimport { ExecuteContractProposal } from \"@terra-money/terra.js/dist/core/wasm/proposals\"\nimport { isDenomTerraNative } from \"@terra.kitchen/utils\"\nimport { readAmount, readDenom, toAmount } from \"@terra.kitchen/utils\"\nimport { SAMPLE_ADDRESS } from \"config/constants\"\nimport { getAmount, sortCoins } from \"utils/coin\"\nimport { has } from \"utils/num\"\nimport { parseJSON } from \"utils/data\"\nimport { queryKey, useIsClassic } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { ExternalLink } from \"components/general\"\nimport { Grid } from \"components/layout\"\nimport { Form, FormGroup, FormItem } from \"components/form\"\nimport { FormHelp, FormWarning } from \"components/form\"\nimport { Input, TextArea, Select } from \"components/form\"\nimport { TooltipIcon } from \"components/display\"\nimport { getCoins, getPlaceholder, toInput } from \"../utils\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\nenum ProposalType {\n  TEXT = \"Text proposal\",\n  SPEND = \"Community pool spend\",\n  PARAMS = \"Parameter change\",\n  EXECUTE = \"Execute contract\",\n}\n\ninterface DefaultValues {\n  title: string\n  description: string\n  input?: number\n}\n\ninterface TextProposalValues extends DefaultValues {\n  type: ProposalType.TEXT\n}\n\ninterface CommunityPoolSpendProposalValues extends DefaultValues {\n  type: ProposalType.SPEND\n  spend: { input?: number; denom: CoinDenom; recipient: AccAddress }\n}\n\ninterface ParameterChangeProposalValues extends DefaultValues {\n  type: ProposalType.PARAMS\n  changes: ParamChange[]\n}\n\ninterface ExecuteContractProposalValues extends DefaultValues {\n  type: ProposalType.EXECUTE\n  runAs: AccAddress\n  contractAddress: AccAddress\n  msg: string\n  coins: { input?: number; denom: CoinDenom }[]\n}\n\ntype TxValues =\n  | TextProposalValues\n  | CommunityPoolSpendProposalValues\n  | ParameterChangeProposalValues\n  | ExecuteContractProposalValues\n\nconst DEFAULT_PAREMETER_CHANGE = { subspace: \"\", key: \"\", value: \"\" }\n\ninterface Props {\n  communityPool: Coins\n  minDeposit: Amount\n}\n\nconst SubmitProposalForm = ({ communityPool, minDeposit }: Props) => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const isClassic = useIsClassic()\n\n  const bankBalance = useBankBalance()\n  const balance = getAmount(bankBalance, \"uluna\")\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n  const defaultCoinItem = { denom: initialGasDenom }\n\n  /* form */\n  const form = useForm<TxValues>({\n    mode: \"onChange\",\n    defaultValues: { input: toInput(minDeposit), coins: [defaultCoinItem] },\n  })\n\n  const { register, trigger, control, watch, setValue, handleSubmit } = form\n  const { errors } = form.formState\n  const { input, ...values } = watch()\n  const amount = toAmount(input)\n  const { fields, append, remove } = useFieldArray({ control, name: \"changes\" })\n  const coinsFieldArray = useFieldArray({ control, name: \"coins\" })\n\n  /* effect: ParameterChangeProposal */\n  const shouldAppendChange =\n    values.type === ProposalType.PARAMS && !values.changes.length\n\n  useEffect(() => {\n    if (shouldAppendChange) append(DEFAULT_PAREMETER_CHANGE)\n  }, [append, shouldAppendChange])\n\n  /* tx */\n  const createTx = useCallback(\n    ({ input, title, description, ...values }: TxValues) => {\n      if (!address) return\n      const amount = toAmount(input)\n      const deposit = has(amount) ? new Coins({ uluna: amount }) : []\n\n      const getContent = () => {\n        if (values.type === ProposalType.SPEND) {\n          const { input, denom, recipient } = values.spend\n          const coins = new Coins({ [denom]: toAmount(input) })\n          return new CommunityPoolSpendProposal(\n            title,\n            description,\n            recipient,\n            coins\n          )\n        }\n\n        if (values.type === ProposalType.PARAMS) {\n          const { changes } = values\n          return new ParameterChangeProposal(title, description, changes)\n        }\n\n        if (values.type === ProposalType.EXECUTE) {\n          const { runAs, contractAddress, msg } = values\n          const execute_msg = parseJSON(msg)\n          const coins = getCoins(values.coins)\n          return new ExecuteContractProposal(\n            title,\n            description,\n            runAs,\n            contractAddress,\n            execute_msg,\n            coins\n          )\n        }\n\n        return new TextProposal(title, description)\n      }\n\n      const msgs = [new MsgSubmitProposal(getContent(), deposit, address)]\n      return { msgs }\n    },\n    [address]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(\n    (): TextProposalValues => ({\n      type: ProposalType.TEXT,\n      title: ESTIMATE.TITLE,\n      description: ESTIMATE.DESCRIPTION,\n      input: toInput(balance),\n    }),\n    [balance]\n  )\n\n  const onChangeMax = useCallback(\n    async (input: number) => {\n      setValue(\"input\", input)\n      await trigger(\"input\")\n    },\n    [setValue, trigger]\n  )\n\n  const token = \"uluna\"\n  const tx = {\n    token,\n    amount,\n    balance,\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onChangeMax,\n    onSuccess: { label: t(\"Gov\"), path: \"/gov\" },\n    queryKeys: [queryKey.gov.proposals],\n  }\n\n  const render = () => {\n    if (values.type === ProposalType.SPEND) {\n      const max = values.spend && getAmount(communityPool, values.spend.denom)\n      const placeholder = readAmount(max, { integer: true })\n\n      return (\n        <>\n          <FormItem\n            label={t(\"Recipient\")}\n            error={\n              \"spend\" in errors ? errors.spend?.recipient?.message : undefined\n            }\n          >\n            <Input\n              {...register(\"spend.recipient\", {\n                validate: validate.address(),\n              })}\n              placeholder={SAMPLE_ADDRESS}\n            />\n          </FormItem>\n\n          <FormItem\n            label={t(\"Amount\")}\n            error={\"spend\" in errors ? errors.spend?.input?.message : undefined}\n          >\n            <Input\n              {...register(\"spend.input\", {\n                valueAsNumber: true,\n                validate: validate.input(toInput(max)),\n              })}\n              inputMode=\"decimal\"\n              placeholder={placeholder}\n              selectBefore={\n                <Select {...register(\"spend.denom\")} before>\n                  {[\"uluna\", \"uusd\"].map((denom) => (\n                    <option value={denom} key={denom}>\n                      {readDenom(denom)}\n                    </option>\n                  ))}\n                </Select>\n              }\n            />\n          </FormItem>\n        </>\n      )\n    }\n\n    if (values.type === ProposalType.PARAMS) {\n      const length = fields.length\n      return (\n        <FormItem label={t(\"Changes\")}>\n          {fields.map(({ id }, index) => (\n            <FormGroup\n              button={\n                length - 1 === index\n                  ? {\n                      onClick: () => append(DEFAULT_PAREMETER_CHANGE),\n                      children: <AddIcon style={{ fontSize: 18 }} />,\n                    }\n                  : {\n                      onClick: () => remove(index),\n                      children: <RemoveIcon style={{ fontSize: 18 }} />,\n                    }\n              }\n              key={id}\n            >\n              {/* do not translate labels here */}\n              <FormItem label=\"subspace\">\n                <Input\n                  {...register(`changes.${index}.subspace`, {\n                    required: \"`subspace` is required\",\n                  })}\n                  placeholder=\"staking\"\n                />\n              </FormItem>\n\n              <FormItem label=\"key\">\n                <Input\n                  {...register(`changes.${index}.key`, {\n                    required: \"`key` is required\",\n                  })}\n                  placeholder=\"MaxValidators\"\n                />\n              </FormItem>\n\n              <FormItem label=\"value\">\n                <Input\n                  {...register(`changes.${index}.value`, {\n                    required: \"`value` is required\",\n                  })}\n                  placeholder=\"100\"\n                />\n              </FormItem>\n            </FormGroup>\n          ))}\n        </FormItem>\n      )\n    }\n\n    if (values.type === ProposalType.EXECUTE) {\n      const { fields, append, remove } = coinsFieldArray\n      const length = fields.length\n\n      return (\n        <>\n          <FormItem\n            label={t(\"Run as\")}\n            error={\"runAs\" in errors ? errors.runAs?.message : undefined}\n          >\n            <Input\n              {...register(\"runAs\", { validate: validate.address() })}\n              placeholder={SAMPLE_ADDRESS}\n            />\n          </FormItem>\n\n          <FormItem\n            label={t(\"Contract address\")}\n            error={\n              \"contractAddress\" in errors\n                ? errors.contractAddress?.message\n                : undefined\n            }\n          >\n            <Input\n              {...register(\"contractAddress\", { validate: validate.address() })}\n              placeholder={SAMPLE_ADDRESS}\n            />\n          </FormItem>\n\n          <FormItem\n            /* do not translate */\n            label=\"Msg\"\n            error={\"msg\" in errors ? errors.msg?.message : undefined}\n          >\n            <TextArea\n              {...register(\"msg\", { validate: validate.msg() })}\n              placeholder=\"{}\"\n            />\n          </FormItem>\n\n          <FormItem label={t(\"Amount\")}>\n            {fields.map(({ id }, index) => (\n              <FormGroup\n                button={\n                  length - 1 === index\n                    ? {\n                        onClick: () => append(defaultCoinItem),\n                        children: <AddIcon style={{ fontSize: 18 }} />,\n                      }\n                    : {\n                        onClick: () => remove(index),\n                        children: <RemoveIcon style={{ fontSize: 18 }} />,\n                      }\n                }\n                key={id}\n              >\n                <Input\n                  {...register(`coins.${index}.input`, {\n                    valueAsNumber: true,\n                  })}\n                  inputMode=\"decimal\"\n                  placeholder={getPlaceholder()}\n                  selectBefore={\n                    <Select {...register(`coins.${index}.denom`)} before>\n                      {sortCoins(bankBalance)\n                        .filter(({ denom }) => isDenomTerraNative(denom))\n                        .map(({ denom }) => (\n                          <option value={denom} key={denom}>\n                            {readDenom(denom)}\n                          </option>\n                        ))}\n                    </Select>\n                  }\n                />\n              </FormGroup>\n            ))}\n          </FormItem>\n        </>\n      )\n    }\n  }\n\n  const agoraURL = isClassic ? \"classic-agora.terra.money\" : \"agora.terra.money\"\n\n  return (\n    <Tx {...tx}>\n      {({ max, fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <Grid gap={4}>\n            <FormHelp>\n              Upload proposal only after forum discussion on{\" \"}\n              <ExternalLink href={`https://${agoraURL}`}>\n                {agoraURL}\n              </ExternalLink>\n            </FormHelp>\n            <FormWarning>\n              {t(\n                \"Proposal deposits will not be refunded if the proposal fails to reach the quorum or the result is NO_WITH_VETO\"\n              )}\n            </FormWarning>\n            {values.type === ProposalType.TEXT && (\n              <FormWarning>\n                {t(\"Parameters cannot be changed by text proposals\")}\n              </FormWarning>\n            )}\n            <FormWarning>\n              {t(\n                \"Links to websites outside the Terra ecosystem will not be displayed\"\n              )}\n            </FormWarning>\n          </Grid>\n\n          <FormItem label={t(\"Proposal type\")} error={errors.type?.message}>\n            <Select {...register(\"type\")}>\n              {Object.values(ProposalType).map((type) => (\n                <option value={type} key={type}>\n                  {t(type)}\n                </option>\n              ))}\n            </Select>\n          </FormItem>\n\n          <FormItem label={t(\"Title\")} error={errors.title?.message}>\n            <Input\n              {...register(\"title\", { required: \"Title is required\" })}\n              placeholder={t(\"Burn community pool\")}\n              autoFocus\n            />\n          </FormItem>\n\n          <FormItem\n            label={t(\"Description\")}\n            error={errors.description?.message}\n          >\n            <TextArea\n              {...register(\"description\", {\n                required: \"Description is required\",\n              })}\n              placeholder={t(\n                \"We're proposing to spend 100,000 LUNA from the Community Pool to fund the creation of public goods for the Terra ecosystem\"\n              )}\n            />\n          </FormItem>\n\n          <FormItem\n            label={\n              <TooltipIcon content=\"To help push the proposal to the voting period, consider depositing more LUNA to reach the minimum 512 LUNA (optional).\">\n                {t(\"Initial deposit\")} ({t(\"optional\")})\n              </TooltipIcon>\n            }\n            extra={max.render()}\n            error={errors.input?.message}\n          >\n            <Input\n              {...register(\"input\", {\n                valueAsNumber: true,\n                validate: validate.input(\n                  toInput(max.amount),\n                  undefined,\n                  \"Initial deposit\",\n                  true\n                ),\n              })}\n              token=\"uluna\"\n              onFocus={max.reset}\n              inputMode=\"decimal\"\n              placeholder={getPlaceholder()}\n            />\n          </FormItem>\n\n          {render()}\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default SubmitProposalForm\n\n/* fee estimation */\nconst ESTIMATE = {\n  TITLE: \"Lorem ipsum\",\n  DESCRIPTION:\n    \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n}\n","import { Read } from \"components/token\"\nimport { SwapAssets } from \"../useSwapUtils2\"\n\ninterface Props extends SwapAssets {\n  price?: Price\n  className?: string\n}\n\nconst Price = ({ price, offerAsset, askAsset, className }: Props) => {\n  if (!price) return null\n\n  return price > 1 ? (\n    <span className={className}>\n      <Read amount={String(1)} token={askAsset} decimals={0} /> ={\" \"}\n      <Read amount={String(price)} token={offerAsset} decimals={0} auto />\n    </span>\n  ) : (\n    <span className={className}>\n      <Read amount={String(1)} token={offerAsset} decimals={0} /> ={\" \"}\n      <Read amount={String(1 / price)} token={askAsset} decimals={0} auto />\n    </span>\n  )\n}\n\nexport default Price\n","import { useTranslation } from \"react-i18next\"\nimport { isDenomLuna, isDenomTerra } from \"@terra.kitchen/utils\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { toPrice } from \"utils/num\"\nimport { useMarketParams } from \"data/queries/market\"\nimport { useOracleParams } from \"data/queries/oracle\"\nimport { Read } from \"components/token\"\nimport { TooltipIcon } from \"components/display\"\nimport { PayloadOnchain, PayloadTerraswap } from \"../useSwapUtils2\"\nimport { PayloadRouteswap } from \"../useSwapUtils2\"\nimport { SwapMode } from \"../useSwapUtils2\"\nimport {\n  SlippageParams,\n  SwapSpread,\n  useSingleSwap2,\n} from \"../SingleSwapContext2\"\nimport Price from \"./Price\"\n\ninterface Props extends SlippageParams, SwapSpread {\n  mode: SwapMode\n  isLoading: boolean\n  rate?: Price\n  payload?: PayloadOnchain | PayloadTerraswap | PayloadRouteswap\n}\n\nconst ExpectedPrice = ({ mode, input, ...props }: Props) => {\n  const { offerAsset, askAsset } = props\n  const { price, rate, minimum_receive, payload, isLoading } = props\n  const { t } = useTranslation()\n\n  /* decimals */\n  const { findDecimals } = useSingleSwap2()\n  const offerDecimals = findDecimals(offerAsset)\n  const askDecimals = findDecimals(askAsset)\n\n  /* query: native */\n  const minSpread = useSwapSpread()\n  const tobinTax = useTobinTax(askAsset)\n\n  /* render: expected price */\n  const renderPrice = (price?: Price) => <Price {...props} price={price} />\n\n  const renderExpectedPrice = () => {\n    return (\n      <>\n        <dt>{t(\"Expected price\")}</dt>\n        <dd>{!isLoading && renderPrice(price)}</dd>\n      </>\n    )\n  }\n\n  /* render: by mode */\n  const renderOnchain = () => {\n    const spread = payload as PayloadOnchain\n\n    const tooltip = (\n      <>\n        {[offerAsset, askAsset].some(isDenomLuna) && (\n          <p>\n            {t(\"Minimum Luna swap spread: {{minSpread}}\", {\n              minSpread: readPercent(minSpread),\n            })}\n          </p>\n        )}\n\n        {askAsset && isDenomTerra(askAsset) && tobinTax && (\n          <p>\n            {t(\"Terra tobin tax: {{tobinTax}}\", {\n              tobinTax: readPercent(tobinTax),\n            })}\n          </p>\n        )}\n      </>\n    )\n\n    return (\n      <>\n        <dt>{t(\"Oracle price\")}</dt>\n        <dd>{renderPrice(rate)}</dd>\n        {renderExpectedPrice()}\n        <dt>\n          <TooltipIcon content={tooltip}>{t(\"Spread\")}</TooltipIcon>\n        </dt>\n        <dd>\n          {!isLoading && (\n            <Read amount={spread} denom={askAsset} decimals={askDecimals} />\n          )}\n        </dd>\n      </>\n    )\n  }\n\n  const renderTerraswap = () => {\n    const fee = payload as PayloadTerraswap\n\n    const decimals = askDecimals - offerDecimals\n    const price = toPrice(Number(rate) * Math.pow(10, decimals))\n\n    return (\n      <>\n        {!!price && (\n          <>\n            <dt>{t(\"Pair price\")}</dt>\n            <dd>{renderPrice(price)}</dd>\n          </>\n        )}\n\n        {renderExpectedPrice()}\n\n        <dt>{t(\"Trading fee\")}</dt>\n        <dd>\n          {!isLoading && (\n            <Read amount={fee} denom={askAsset} decimals={askDecimals} />\n          )}\n        </dd>\n      </>\n    )\n  }\n\n  const renderRouteswap = () => {\n    return <>{renderExpectedPrice()}</>\n  }\n\n  const renderByMode = (mode: SwapMode) =>\n    ({\n      [SwapMode.ONCHAIN]: renderOnchain,\n      [SwapMode.TERRASWAP]: renderTerraswap,\n      [SwapMode.ASTROPORT]: renderTerraswap,\n      [SwapMode.ROUTESWAP]: renderRouteswap,\n    }[mode]())\n\n  /* render: minimum received */\n  const renderMinimumReceived = () => {\n    return (\n      <>\n        <dt>{t(\"Minimum received\")}</dt>\n        <dd>\n          {!isLoading && (\n            <Read\n              amount={minimum_receive}\n              token={askAsset}\n              decimals={findDecimals(askAsset)}\n            />\n          )}\n        </dd>\n      </>\n    )\n  }\n\n  if (!Number.isFinite(price)) return null\n\n  return (\n    <dl>\n      {mode && renderByMode(mode)}\n      {renderMinimumReceived()}\n    </dl>\n  )\n}\n\nexport default ExpectedPrice\n\n/* hooks */\nconst useSwapSpread = () => {\n  const { data: marketParams } = useMarketParams()\n  const minSpread = marketParams?.min_stability_spread\n  return minSpread?.toString()\n}\n\nconst useTobinTax = (askAsset?: CoinDenom) => {\n  const { data: oracleParams } = useOracleParams()\n  const tobinTax = oracleParams?.whitelist.find(\n    ({ name }) => name === askAsset\n  )?.tobin_tax\n\n  return tobinTax?.toString()\n}\n","import { useCallback, useEffect, useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useLocation } from \"react-router-dom\"\nimport { useQuery } from \"react-query\"\nimport { useForm } from \"react-hook-form\"\nimport BigNumber from \"bignumber.js\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { isDenomTerra } from \"@terra.kitchen/utils\"\nimport { toAmount } from \"@terra.kitchen/utils\"\n\n/* helpers */\nimport { has } from \"utils/num\"\nimport { getAmount, sortCoins } from \"utils/coin\"\nimport { queryKey } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\n\n/* components */\nimport { Form, FormArrow, FormError } from \"components/form\"\nimport { Checkbox, RadioButton } from \"components/form\"\nimport { Read } from \"components/token\"\n\n/* tx modules */\nimport { getPlaceholder, toInput, CoinInput } from \"../../utils\"\nimport validate from \"../../validate\"\nimport Tx, { getInitialGasDenom } from \"../../Tx\"\n\n/* swap modules */\nimport AssetFormItem from \"./components/AssetFormItem\"\nimport { AssetInput, AssetReadOnly } from \"./components/AssetFormItem\"\nimport SelectToken from \"./components/SelectToken\"\nimport SlippageControl from \"./components/SlippageControl\"\nimport ExpectedPrice from \"./components/ExpectedPrice\"\nimport useSwapUtils2, { validateAssets } from \"./useSwapUtils2\"\nimport { SwapMode, validateParams } from \"./useSwapUtils2\"\nimport { SlippageParams } from \"./SingleSwapContext2\"\nimport { validateSlippageParams, useSingleSwap2 } from \"./SingleSwapContext2\"\nimport styles from \"./SwapForm.module.scss\"\n\ninterface TxValues extends Partial<SlippageParams> {\n  mode?: SwapMode\n}\n\nconst SwapForm2 = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const { state } = useLocation()\n  const bankBalance = useBankBalance()\n  const { add } = useCustomTokensCW20()\n\n  /* swap context */\n  const utils = useSwapUtils2()\n  const { getIsSwapAvailable, getAvailableSwapModes } = utils\n  const { getMsgsFunction, getSimulateFunction, getSimulateQuery } = utils\n  const { options, findTokenItem, findDecimals, calcExpected } =\n    useSingleSwap2()\n\n  const initialOfferAsset =\n    (state as Token) ??\n    (getAmount(bankBalance, \"uluna\")\n      ? \"uluna\"\n      : sortCoins(bankBalance)[0].denom)\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* options */\n  const [showAll, setShowAll] = useState(false)\n\n  const getOptions = (key: \"offerAsset\" | \"askAsset\") => {\n    const { coins, tokens } = options\n\n    const getOptionList = (list: TokenItemWithBalance[]) =>\n      list.map((item) => {\n        const { token: value, balance } = item\n\n        const muted = {\n          offerAsset:\n            !!askAsset && !getIsSwapAvailable({ offerAsset: value, askAsset }),\n          askAsset:\n            !!offerAsset &&\n            !getIsSwapAvailable({ offerAsset, askAsset: value }),\n        }[key]\n\n        const hidden = key === \"offerAsset\" && !showAll && !has(balance)\n        return { ...item, value, muted, hidden }\n      })\n\n    return [\n      { title: t(\"Coins\"), children: getOptionList(coins) },\n      { title: t(\"Tokens\"), children: getOptionList(tokens) },\n    ]\n  }\n\n  /* form */\n  const form = useForm<TxValues>({\n    mode: \"onChange\",\n    defaultValues: { offerAsset: initialOfferAsset, slippageInput: 1 },\n  })\n\n  const { register, trigger, watch, setValue, handleSubmit, formState } = form\n  const { errors } = formState\n  const values = watch()\n  const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values\n\n  useEffect(() => {\n    // validate input on change mode\n    if (mode) trigger(\"input\")\n  }, [mode, trigger])\n\n  const assets = useMemo(\n    () => ({ offerAsset, askAsset }),\n    [offerAsset, askAsset]\n  )\n\n  const slippageParams = useMemo(\n    () => ({ offerAsset, askAsset, input, slippageInput, ratio }),\n    [askAsset, input, offerAsset, ratio, slippageInput]\n  )\n\n  const offerTokenItem = offerAsset ? findTokenItem(offerAsset) : undefined\n  const offerDecimals = offerAsset ? findDecimals(offerAsset) : undefined\n  const askTokenItem = askAsset ? findTokenItem(askAsset) : undefined\n  const askDecimals = askAsset ? findDecimals(askAsset) : undefined\n\n  const amount = toAmount(input, { decimals: offerDecimals })\n\n  const swapAssets = () => {\n    setValue(\"offerAsset\", askAsset)\n    setValue(\"askAsset\", offerAsset)\n    setValue(\"input\", undefined)\n    trigger(\"input\")\n  }\n\n  /* simulate | execute */\n  const params = { amount, ...assets }\n  const availableSwapModes = getAvailableSwapModes(assets)\n  const isSwapAvailable = getIsSwapAvailable(assets)\n  const simulateQuery = getSimulateQuery(params)\n\n  /* simulate */\n  const { data: simulationResults, isFetching } = useQuery({\n    ...simulateQuery,\n    onSuccess: ({ profitable }) => setValue(\"mode\", profitable?.mode),\n  })\n\n  /* Simulated value to create tx */\n  // Simulated for all possible modes\n  // Do not simulate again even if the mode changes\n  const results = simulationResults?.values\n  const result = results && mode && results[mode]\n  const simulatedValue = result?.value\n  const simulatedRatio = result?.ratio\n\n  useEffect(() => {\n    // Set ratio on simulate\n    if (simulatedRatio) setValue(\"ratio\", simulatedRatio)\n  }, [simulatedRatio, setValue])\n\n  /* Select asset */\n  const onSelectAsset = (key: \"offerAsset\" | \"askAsset\") => {\n    return async (value: Token) => {\n      const assets = {\n        offerAsset: { offerAsset: value, askAsset },\n        askAsset: { offerAsset, askAsset: value },\n      }[key]\n\n      // set mode if only one available\n      const availableSwapModes = getAvailableSwapModes(assets)\n      const availableSwapMode =\n        availableSwapModes?.length === 1 ? availableSwapModes[0] : undefined\n      setValue(\"mode\", availableSwapMode)\n\n      // empty opposite asset if select the same asset\n      if (assets.offerAsset === assets.askAsset) {\n        setValue(key === \"offerAsset\" ? \"askAsset\" : \"offerAsset\", undefined)\n      }\n\n      // focus on input if select offer asset\n      if (key === \"offerAsset\") {\n        form.resetField(\"input\")\n        form.setFocus(\"input\")\n      }\n\n      setValue(key, value)\n    }\n  }\n\n  /* tx */\n  const balance = offerTokenItem?.balance\n  const createTx = useCallback(\n    (values: TxValues) => {\n      const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values\n      if (!(mode && input && offerAsset && askAsset && slippageInput && ratio))\n        return\n\n      const offerDecimals = findDecimals(offerAsset)\n      const amount = toAmount(input, { decimals: offerDecimals })\n      if (!balance || new BigNumber(amount).gt(balance)) return\n\n      const params = { amount, offerAsset, askAsset }\n      if (!validateParams(params)) return\n\n      const getMsgs = getMsgsFunction(mode)\n\n      /* slippage */\n      const expected = calcExpected({ ...params, input, slippageInput, ratio })\n      return { msgs: getMsgs({ ...params, ...expected }) }\n    },\n    [balance, calcExpected, findDecimals, getMsgsFunction]\n  )\n\n  /* fee */\n  const { data: estimationTxValues } = useQuery(\n    [\"estimationTxValues\", { mode, assets, balance }],\n    async () => {\n      if (!(mode && validateAssets(assets) && balance)) return\n      const { offerAsset, askAsset } = assets\n      const simulate = getSimulateFunction(mode)\n      // estimate fee only after ratio simulated\n      const { ratio } = await simulate({ ...assets, amount: balance })\n      const input = toInput(balance, findDecimals(offerAsset))\n      return { mode, offerAsset, askAsset, ratio, input, slippageInput: 1 }\n    }\n  )\n\n  const taxRequired = mode !== SwapMode.ONCHAIN\n  const token = offerAsset\n  const coins = [{ input, denom: token, taxRequired }] as CoinInput[]\n  const decimals = offerDecimals\n  const tx = {\n    token,\n    decimals,\n    amount,\n    coins,\n    balance,\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    taxRequired,\n    onPost: () => {\n      // add custom token on ask cw20\n      if (!(askAsset && AccAddress.validate(askAsset) && askTokenItem)) return\n      const { balance, ...rest } = askTokenItem\n      add(rest as CustomTokenCW20)\n    },\n    queryKeys: [offerAsset, askAsset]\n      .filter((asset) => asset && AccAddress.validate(asset))\n      .map((token) => [\n        queryKey.wasm.contractQuery,\n        token,\n        { balance: address },\n      ]),\n  }\n\n  const disabled = isFetching ? t(\"Simulating...\") : false\n\n  /* render */\n  const renderRadioGroup = () => {\n    if (!(validateAssets(assets) && isSwapAvailable)) return null\n\n    return (\n      <section className={styles.modes}>\n        {availableSwapModes.map((key) => {\n          const checked = mode === key\n\n          return (\n            <RadioButton\n              {...register(\"mode\")}\n              value={key}\n              checked={checked}\n              key={key}\n            >\n              {key}\n            </RadioButton>\n          )\n        })}\n      </section>\n    )\n  }\n\n  /* render: expected price */\n  const renderExpected = () => {\n    if (!(mode && validateSlippageParams(slippageParams))) return null\n    const expected = calcExpected(slippageParams)\n    const props = { mode, ...slippageParams, ...expected, ...result }\n    return <ExpectedPrice {...props} isLoading={isFetching} />\n  }\n\n  const slippageDisabled = [offerAsset, askAsset].every(isDenomTerra)\n\n  return (\n    <Tx {...tx} disabled={disabled}>\n      {({ max, fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          {renderRadioGroup()}\n\n          <AssetFormItem\n            label={t(\"From\")}\n            extra={max.render(async (value) => {\n              // Do not use automatic max here\n              // Confusion arises as the amount changes and simulates again\n              setValue(\"input\", toInput(value, offerDecimals))\n              await trigger(\"input\")\n            })}\n            error={errors.input?.message}\n          >\n            <SelectToken\n              value={offerAsset}\n              onChange={onSelectAsset(\"offerAsset\")}\n              options={getOptions(\"offerAsset\")}\n              checkbox={\n                <Checkbox\n                  checked={showAll}\n                  onChange={() => setShowAll(!showAll)}\n                >\n                  {t(\"Show all\")}\n                </Checkbox>\n              }\n              addonAfter={\n                <AssetInput\n                  {...register(\"input\", {\n                    valueAsNumber: true,\n                    validate: validate.input(\n                      toInput(max.amount, offerDecimals),\n                      offerDecimals\n                    ),\n                  })}\n                  inputMode=\"decimal\"\n                  placeholder={getPlaceholder(offerDecimals)}\n                  onFocus={max.reset}\n                  autoFocus\n                />\n              }\n            />\n          </AssetFormItem>\n\n          <FormArrow onClick={swapAssets} />\n\n          <AssetFormItem label={t(\"To\")}>\n            <SelectToken\n              value={askAsset}\n              onChange={onSelectAsset(\"askAsset\")}\n              options={getOptions(\"askAsset\")}\n              addonAfter={\n                <AssetReadOnly>\n                  {simulatedValue ? (\n                    <Read\n                      amount={simulatedValue}\n                      decimals={askDecimals}\n                      approx\n                    />\n                  ) : (\n                    <p className=\"muted\">\n                      {isFetching ? t(\"Simulating...\") : \"0\"}\n                    </p>\n                  )}\n                </AssetReadOnly>\n              }\n            />\n          </AssetFormItem>\n\n          {!slippageDisabled && (\n            <SlippageControl\n              {...register(\"slippageInput\", {\n                valueAsNumber: true,\n                validate: validate.input(50, 2, \"Slippage tolerance\"),\n              })}\n              input={slippageInput} // to warn\n              inputMode=\"decimal\"\n              placeholder={getPlaceholder(2)}\n              error={errors.slippageInput?.message}\n            />\n          )}\n\n          {renderExpected()}\n          {fee.render()}\n\n          {validateAssets(assets) && !isSwapAvailable && (\n            <FormError>{t(\"Pair does not exist\")}</FormError>\n          )}\n\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default SwapForm2\n","import { useTranslation } from \"react-i18next\"\nimport { useIsClassic } from \"data/query\"\nimport { useNetworkName } from \"data/wallet\"\nimport { LinkButton } from \"components/general\"\nimport { Card, Page } from \"components/layout\"\nimport { Wrong } from \"components/feedback\"\nimport TxContext from \"../TxContext\"\nimport SwapContext from \"./classic/SwapContext\"\nimport SingleSwapContext from \"./classic/SingleSwapContext\"\nimport SwapForm from \"./classic/SwapForm\"\n// eslint-disable-next-line\nimport TFMSwapContext from \"./tfm/TFMSwapContext\"\n// eslint-disable-next-line\nimport TFMSwapForm from \"./tfm/TFMSwapForm\"\n// eslint-disable-next-line\nimport TFMPoweredBy from \"./tfm/TFMPoweredBy\"\nimport SwapContext2 from \"./terra2/SwapContext2\"\nimport SingleSwapContext2 from \"./terra2/SingleSwapContext2\"\nimport SwapForm2 from \"./terra2/SwapForm2\"\n\n// The sequence below is required before rendering the Swap form:\n// 1. `TxContext` - Fetch gas prices through, like other forms.\n// 2. `SwapContext` - Complete the network request related to swap.\n// 3. `SwapSingleContext` - Complete the network request not related to multiple swap\n\nconst SwapTx = () => {\n  const { t } = useTranslation()\n  // eslint-disable-next-line\n  const networkName = useNetworkName()\n  // eslint-disable-next-line\n  const isClassic = useIsClassic()\n\n  const extra = (\n    <LinkButton to=\"/swap/multiple\" size=\"small\">\n      {t(\"Swap multiple coins\")}\n    </LinkButton>\n  )\n\n  if (networkName === \"testnet\") {\n    return (\n      <Page title={t(\"Swap\")} small>\n        <Card>\n          <Wrong>{t(\"Not supported\")}</Wrong>\n        </Card>\n      </Page>\n    )\n  }\n\n  if (!isClassic)\n    return (\n      <Page title={t(\"Swap\")} small extra={<TFMPoweredBy />}>\n        <TxContext>\n          <SwapContext2>\n            <SingleSwapContext2>\n              <SwapForm2 />\n            </SingleSwapContext2>\n          </SwapContext2>\n        </TxContext>\n      </Page>\n    )\n\n  /*\nif (!isClassic)\n  return (\n    <Page title={t(\"Swap\")} small extra={<TFMPoweredBy />}>\n      <TxContext>\n        <TFMSwapContext>\n          <TFMSwapForm />\n        </TFMSwapContext>\n      </TxContext>\n    </Page>\n  )\n  */\n\n  return (\n    <Page title={t(\"Swap\")} small extra={extra}>\n      <TxContext>\n        <SwapContext>\n          <SingleSwapContext>\n            <SwapForm />\n          </SingleSwapContext>\n        </SwapContext>\n      </TxContext>\n    </Page>\n  )\n}\n\nexport default SwapTx\n","import { PropsWithChildren, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { zipObj } from \"ramda\"\nimport { isDenomTerraNative } from \"@terra.kitchen/utils\"\nimport { getAmount, sortCoins } from \"utils/coin\"\nimport createContext from \"utils/createContext\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { combineState, useIsClassic } from \"data/query\"\nimport { useBankBalance, useTerraNativeLength } from \"data/queries/bank\"\nimport { useTaxCaps, useTaxRate } from \"data/queries/treasury\"\nimport { readNativeDenom } from \"data/token\"\nimport { Card } from \"components/layout\"\nimport { Wrong } from \"components/feedback\"\n\ninterface MultipleSwap {\n  taxRate: string\n  taxCaps: Record<Denom, Amount>\n  available: TokenItemWithBalance[]\n}\n\nexport const [useMultipleSwap, MultipleSwapProvider] =\n  createContext<MultipleSwap>(\"useMultipleSwap\")\n\nconst MultipleSwapContext = ({ children }: PropsWithChildren<{}>) => {\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n  const currency = useCurrency()\n  const bankBalance = useBankBalance()\n  const length = useTerraNativeLength()\n\n  const denoms = sortCoins(bankBalance, currency)\n    .map(({ denom }) => denom)\n    .filter(isDenomTerraNative)\n\n  /* treasury */\n  const { data: taxRate, ...taxRateState } = useTaxRate()\n  const taxCapsState = useTaxCaps(denoms)\n  const taxCaps = taxCapsState.every(({ isSuccess }) => isSuccess)\n    ? zipObj(\n        denoms,\n        taxCapsState.map(({ data }) => {\n          if (!data) throw new Error()\n          return data\n        })\n      )\n    : undefined\n\n  const available = useMemo(() => {\n    return denoms.map((denom) => {\n      const balance = getAmount(bankBalance, denom)\n      return { ...readNativeDenom(denom, isClassic), balance }\n    })\n  }, [bankBalance, denoms, isClassic])\n\n  const state = combineState(taxRateState, ...taxCapsState)\n\n  const render = () => {\n    if (length < 2)\n      return <Wrong>{t(\"Multiple swap requires at least 2 coins\")}</Wrong>\n\n    if (!(taxRate && taxCaps && available)) return null\n\n    return (\n      <MultipleSwapProvider value={{ taxRate, taxCaps, available }}>\n        {children}\n      </MultipleSwapProvider>\n    )\n  }\n\n  return <Card {...state}>{render()}</Card>\n}\n\nexport default MultipleSwapContext\n","import { useCallback, useEffect, useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useQuery } from \"react-query\"\nimport { useForm } from \"react-hook-form\"\nimport BigNumber from \"bignumber.js\"\nimport { flatten, fromPairs } from \"ramda\"\n\n/* helpers */\nimport { has } from \"utils/num\"\nimport { sortDenoms } from \"utils/coin\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { readNativeDenom, WithTokenItem } from \"data/token\"\nimport { useIsClassic } from \"data/query\"\nimport { useMemoizedCalcValue, useMemoizedPrices } from \"data/queries/oracle\"\n\n/* components */\nimport { Form, FormArrow, Checkbox } from \"components/form\"\nimport { Table } from \"components/layout\"\nimport { Read, Token } from \"components/token\"\n\n/* tx modules */\nimport Tx, { calcMax } from \"../../Tx\"\n\n/* swap modules */\nimport AssetFormItem, { AssetReadOnly } from \"./components/AssetFormItem\"\nimport SelectToken from \"./components/SelectToken\"\nimport Price from \"./components/Price\"\nimport useSwapUtils, { SwapMode } from \"./useSwapUtils\"\nimport { useSwap } from \"./SwapContext\"\nimport { useMultipleSwap } from \"./MultipleSwapContext\"\nimport styles from \"./SwapMultipleForm.module.scss\"\nimport { CoinInput, toInput } from \"txs/utils\"\n\ninterface TxValues {\n  askAsset: CoinDenom\n}\n\n// available > simulatable > simulated > selectable > offers\n// available: all assets\n// simulatable: non-askAsset, balance exists except tax.\n// selectable: simulated result value exists\n// offers: selected by the user\nconst SwapMultipleForm = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const isClassic = useIsClassic()\n\n  /* swap context */\n  const utils = useSwapUtils()\n  const { getSwapMode, getSimulateFunction, getMsgsFunction } = utils\n  const { activeDenoms } = useSwap()\n  const { taxRate, taxCaps, available } = useMultipleSwap()\n  const initialGasDenom = \"uluna\"\n\n  /* options: askAsset */\n  const options = [\n    {\n      title: t(\"Coins\"),\n      children: sortDenoms(activeDenoms, currency).map((denom) => {\n        return { ...readNativeDenom(denom, isClassic), value: denom }\n      }),\n    },\n  ]\n\n  /* form */\n  const form = useForm<TxValues>({\n    mode: \"onChange\",\n    defaultValues: { askAsset: \"uluna\" },\n  })\n\n  const { watch, setValue, handleSubmit } = form\n  const { askAsset } = watch()\n\n  const simulatable = useMemo(\n    () =>\n      available\n        .map((item) => {\n          const { token: offerAsset, balance } = item\n          const mode = getSwapMode({ offerAsset, askAsset })\n          if (mode === SwapMode.ONCHAIN)\n            return { ...item, max: balance, tax: \"0\" }\n          const cap = taxCaps[offerAsset]\n          const max = calcMax({\n            balance,\n            rate: taxRate,\n            cap,\n            gasAmount: \"0\",\n            taxRequired: isClassic,\n          })\n          return { ...item, ...max }\n        })\n        .filter(({ token, max }) => token !== askAsset && has(max)),\n    [askAsset, available, getSwapMode, taxCaps, taxRate, isClassic]\n  )\n\n  /* simulate */\n  const { data: simulated = [], isFetching: isSimulating } = useQuery(\n    [\"simulate.swap.multiple\", simulatable, askAsset],\n    async () => {\n      const simulated = await Promise.allSettled(\n        simulatable.map(async ({ token: offerAsset, max: amount, tax }) => {\n          const mode = getSwapMode({ offerAsset, askAsset })\n\n          try {\n            const params = { amount, offerAsset, askAsset }\n            const { value } = await getSimulateFunction(mode)(params)\n            return { offerAsset, mode, amount, tax, value }\n          } catch (error) {\n            // errors because too small amount is simulated\n            return { offerAsset, mode, amount, tax, value: \"0\" }\n          }\n        })\n      )\n\n      return simulated.map((result) => {\n        if (result.status === \"rejected\") throw new Error(result.reason)\n        return result.value\n      })\n    }\n  )\n\n  /* select denoms */\n  const selectable = useMemo(\n    () => simulated.filter(({ value }) => has(value)),\n    [simulated]\n  )\n\n  const init = useMemo(\n    () => fromPairs(selectable.map(({ offerAsset }) => [offerAsset, true])),\n    [selectable]\n  )\n\n  const [state, setState] = useState<Record<CoinDenom, boolean>>(init)\n\n  useEffect(() => {\n    setState(init)\n  }, [init, selectable, setValue])\n\n  /* tx */\n  const offers = selectable.filter(({ offerAsset }) => state[offerAsset])\n  const createTx = useCallback(\n    ({ askAsset }: TxValues) => {\n      if (isSimulating || !offers.length) return\n\n      const msgs = flatten(\n        offers.map((params) => {\n          const getMsgs = getMsgsFunction(params.mode)\n          return getMsgs({ ...params, askAsset })\n        })\n      )\n\n      return { msgs }\n    },\n    [offers, isSimulating, getMsgsFunction]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(() => ({ askAsset }), [askAsset])\n\n  const coins = offers.map(({ offerAsset, amount, tax }) => {\n    return {\n      input: toInput(amount),\n      denom: offerAsset,\n      taxRequired: isClassic && !!parseFloat(tax),\n    } as CoinInput\n  })\n  const excludeGasDenom = useCallback(\n    (denom: string) => !!state[denom],\n    [state]\n  )\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    coins,\n    taxRequired: isClassic,\n    excludeGasDenom,\n    onSuccess: { label: t(\"Wallet\"), path: \"/wallet\" },\n  }\n\n  const disabled = isSimulating ? t(\"Simulating...\") : false\n\n  /* render */\n  const { data: prices } = useMemoizedPrices(askAsset)\n  const calcValue = useMemoizedCalcValue(askAsset)\n  const renderTable = () => {\n    if (isSimulating || !(selectable && prices && calcValue)) return []\n\n    const dataSource = selectable.map((item) => {\n      const { offerAsset, amount, value: expectedValue } = item\n\n      /* oracle */\n      const oracleValue = calcValue({ amount, denom: offerAsset })\n      const oraclePrice = 1 / prices?.[offerAsset]\n      const oracle = { value: oracleValue, price: oraclePrice }\n\n      /* expected */\n      const expectedPrice = Number(amount) / Number(expectedValue)\n      const expected = { value: expectedValue, price: expectedPrice }\n\n      return { ...item, oracle, expected }\n    })\n\n    return (\n      <Table\n        dataSource={dataSource}\n        columns={[\n          {\n            dataIndex: \"offerAsset\",\n            key: \"checkbox\",\n            render: (offerAsset) => {\n              const checked = state[offerAsset]\n              return (\n                <Checkbox\n                  checked={checked}\n                  onChange={() =>\n                    setState({ ...state, [offerAsset]: !checked })\n                  }\n                  key={offerAsset}\n                />\n              )\n            },\n          },\n          {\n            dataIndex: \"offerAsset\",\n            render: (offerAsset) => (\n              <WithTokenItem token={offerAsset}>\n                {(item) => <Token {...item} name=\"\" />}\n              </WithTokenItem>\n            ),\n          },\n          {\n            title: \"Balance\",\n            dataIndex: \"amount\",\n            render: (amount) => <Read amount={amount} />,\n            align: \"right\",\n          },\n          {\n            title: \"Value\",\n            dataIndex: \"oracle\",\n            render: (oracle, { offerAsset }) => {\n              return (\n                <>\n                  <Read\n                    amount={oracle.value}\n                    denom={askAsset}\n                    auto\n                    approx\n                    block\n                  />\n                  <Price\n                    price={oracle.price}\n                    offerAsset={offerAsset}\n                    askAsset={askAsset}\n                    className={styles.price}\n                  />\n                </>\n              )\n            },\n            align: \"right\",\n          },\n          {\n            title: \"Expected\",\n            dataIndex: \"expected\",\n            render: (expected, { offerAsset }) => {\n              if (!expected) return null\n              return (\n                <>\n                  <Read amount={expected.value} denom={askAsset} approx block />\n                  <Price\n                    price={expected.price}\n                    offerAsset={offerAsset}\n                    askAsset={askAsset}\n                    className={styles.price}\n                  />\n                </>\n              )\n            },\n            align: \"right\",\n          },\n        ]}\n        size=\"small\"\n      />\n    )\n  }\n\n  const expectedTotal = useMemo(() => {\n    if (isSimulating) return\n    return BigNumber.sum(...offers.map(({ value }) => value)).toString()\n  }, [isSimulating, offers])\n\n  return (\n    <Tx {...tx} disabled={disabled}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          {renderTable()}\n\n          {!!selectable.length && (\n            <>\n              <FormArrow />\n\n              <AssetFormItem label={t(\"To\")}>\n                <SelectToken\n                  value={askAsset}\n                  onChange={(value) => setValue(\"askAsset\", value)}\n                  options={options}\n                  addonAfter={\n                    <AssetReadOnly>\n                      <Read amount={expectedTotal} />\n                    </AssetReadOnly>\n                  }\n                />\n              </AssetFormItem>\n            </>\n          )}\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default SwapMultipleForm\n","import { useTranslation } from \"react-i18next\"\nimport { Page } from \"components/layout\"\nimport TxContext from \"../../TxContext\"\nimport SwapContext from \"./SwapContext\"\nimport MultipleSwapContext from \"./MultipleSwapContext\"\nimport SwapMultipleForm from \"./SwapMultipleForm\"\n\nconst SwapMultipleTx = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Swap multiple coins\")} small>\n      <TxContext>\n        <SwapContext>\n          <MultipleSwapContext>\n            <SwapMultipleForm />\n          </MultipleSwapContext>\n        </SwapContext>\n      </TxContext>\n    </Page>\n  )\n}\n\nexport default SwapMultipleTx\n","import { useTranslation } from \"react-i18next\"\nimport { useLocation, useParams } from \"react-router-dom\"\nimport { getAvailableStakeActions } from \"data/queries/staking\"\nimport { useDelegations, useValidators } from \"data/queries/staking\"\nimport { combineState } from \"data/query\"\nimport { useBalances } from \"data/queries/bank\"\nimport { Auto, Page, Tabs, Card } from \"components/layout\"\nimport ValidatorCompact from \"pages/stake/ValidatorCompact\"\nimport TxContext from \"../TxContext\"\nimport StakeForm, { StakeAction } from \"./StakeForm\"\n\nconst StakeTx = () => {\n  const { t } = useTranslation()\n  const { address: destination } = useParams() // destination validator\n\n  if (!destination) throw new Error(\"Validator is not defined\")\n\n  const location = useLocation()\n  const initialTab = location.state as string\n\n  const { data: balances, ...balancesState } = useBalances()\n  const { data: validators, ...validatorsState } = useValidators()\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const state = combineState(balancesState, validatorsState, delegationsState)\n\n  const getDisabled = (tab: StakeAction) => {\n    if (!delegations) return true\n    const availableActions = getAvailableStakeActions(destination, delegations)\n    return !availableActions[tab]\n  }\n\n  const renderTab = (tab: StakeAction) => {\n    if (!(balances && validators && delegations)) return null\n    const props = { tab, destination, balances, validators, delegations }\n    return <StakeForm {...props} />\n  }\n\n  return (\n    <Page {...state} title={t(\"Delegate\")}>\n      <Tabs\n        tabs={Object.values(StakeAction).map((tab) => {\n          return {\n            key: tab,\n            tab: t(tab),\n            children: (\n              <Auto\n                columns={[\n                  <Card>\n                    <TxContext>{renderTab(tab)}</TxContext>\n                  </Card>,\n                  <ValidatorCompact vertical />,\n                ]}\n              />\n            ),\n            disabled: getDisabled(tab),\n          }\n        })}\n        defaultActiveKey={initialTab}\n        type=\"card\"\n      />\n    </Page>\n  )\n}\n\nexport default StakeTx\n","import { useCallback, useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport BigNumber from \"bignumber.js\"\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\"\nimport ExpandLessIcon from \"@mui/icons-material/ExpandLess\"\nimport { isDenomTerraNative } from \"@terra.kitchen/utils\"\nimport { Validator, ValAddress } from \"@terra-money/terra.js\"\nimport { Rewards } from \"@terra-money/terra.js\"\nimport { MsgWithdrawDelegatorReward } from \"@terra-money/terra.js\"\nimport { queryKey } from \"data/query\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { getFindMoniker } from \"data/queries/staking\"\nimport { calcRewardsValues } from \"data/queries/distribution\"\nimport { WithTokenItem } from \"data/token\"\nimport { ValidatorLink } from \"components/general\"\nimport { Form, FormArrow, FormItem, Checkbox } from \"components/form\"\nimport { Card, Flex, Grid } from \"components/layout\"\nimport { TokenCard, TokenCardGrid } from \"components/token\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\nimport styles from \"./WithdrawRewardsForm.module.scss\"\n\ninterface Props {\n  activeDenoms: Denom[]\n  rewards: Rewards\n  validators: Validator[]\n  IBCWhitelist: IBCWhitelist\n}\n\nconst WithdrawRewardsForm = ({ rewards, validators, ...props }: Props) => {\n  const { IBCWhitelist } = props\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n  const calcValue = useMemoizedCalcValue()\n  const findMoniker = getFindMoniker(validators)\n  const { byValidator } = calcRewardsValues(rewards, currency, calcValue)\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* select validators */\n  const init = (value = false) =>\n    byValidator.reduce((acc, { address }) => ({ ...acc, [address]: value }), {})\n\n  const [state, setState] = useState<Record<ValAddress, boolean>>(init(true))\n  const selectable = byValidator.length > 1\n  const selected = useMemo(\n    () => Object.keys(state).filter((address) => state[address]),\n    [state]\n  )\n\n  const [isOpen, setIsOpen] = useState(true)\n  const toggle = () => setIsOpen(!isOpen)\n\n  /* calc */\n  const selectedTotal = selected.reduce<Record<Denom, Amount>>(\n    (prev, address) => {\n      const item = byValidator.find((item) => item.address === address)\n\n      if (!item) throw new Error()\n\n      return {\n        ...prev,\n        ...item.list.reduce(\n          (acc, { amount, denom }) => ({\n            ...acc,\n            [denom]: new BigNumber(amount)\n              .plus(prev[denom] ?? 0)\n              .integerValue(BigNumber.ROUND_FLOOR)\n              .toString(),\n          }),\n          {}\n        ),\n      }\n    },\n    {}\n  )\n\n  const selectedValidatorsText = !selected.length\n    ? t(\"Not selected\")\n    : selected.length === 1\n    ? findMoniker(selected[0])\n    : t(\"{{moniker}} and {{length}} others\", {\n        moniker: findMoniker(selected[0]),\n        length: selected.length - 1,\n      })\n\n  /* form */\n  const { handleSubmit } = useForm({ mode: \"onChange\" })\n\n  /* tx */\n  const createTx = useCallback(() => {\n    if (!address) return\n\n    const msgs = selected.map((operatorAddress) => {\n      return new MsgWithdrawDelegatorReward(address, operatorAddress)\n    })\n\n    return { msgs }\n  }, [address, selected])\n\n  /* fee */\n  const estimationTxValues = useMemo(() => ({}), [])\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onSuccess: { label: t(\"Stake\"), path: \"/stake\" },\n    querykeys: [queryKey.distribution.rewards],\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <Grid gap={12}>\n            <dl>\n              <dt>{t(\"Validators\")}</dt>\n              <dd>\n                {selectable ? (\n                  <button type=\"button\" onClick={toggle}>\n                    {selectedValidatorsText}\n                    {isOpen ? (\n                      <ExpandLessIcon style={{ fontSize: 16 }} />\n                    ) : (\n                      <ExpandMoreIcon style={{ fontSize: 16 }} />\n                    )}\n                  </button>\n                ) : (\n                  selectedValidatorsText\n                )}\n              </dd>\n            </dl>\n\n            {selectable && isOpen && (\n              <Card size=\"small\" className={styles.card}>\n                <Flex className={styles.actions} start>\n                  {Object.values(state).some((state) => !state) ? (\n                    <button\n                      type=\"button\"\n                      className={styles.button}\n                      onClick={() => setState(init(true))}\n                    >\n                      {t(\"Select all\")}\n                    </button>\n                  ) : (\n                    <button\n                      type=\"button\"\n                      className={styles.button}\n                      onClick={() => setState(init(false))}\n                    >\n                      {t(\"Deselect all\")}\n                    </button>\n                  )}\n                </Flex>\n\n                <section className={styles.validators}>\n                  {byValidator.map(({ address, sum }) => {\n                    const checked = state[address]\n\n                    return (\n                      <Checkbox\n                        className={styles.checkbox}\n                        checked={checked}\n                        onChange={() =>\n                          setState({ ...state, [address]: !checked })\n                        }\n                        key={address}\n                      >\n                        <div className={styles.item}>\n                          <ValidatorLink address={address} />\n                        </div>\n                      </Checkbox>\n                    )\n                  })}\n                </section>\n              </Card>\n            )}\n\n            <FormArrow />\n\n            <FormItem>\n              <TokenCardGrid maxHeight>\n                {Object.entries(selectedTotal)\n                  .filter(([denom]) => {\n                    const isListedIBC = IBCWhitelist[denom.replace(\"ibc/\", \"\")]\n                    return isDenomTerraNative(denom) || isListedIBC\n                  })\n                  .map(([denom, amount]) => (\n                    <WithTokenItem token={denom} key={denom}>\n                      {(item) => (\n                        <TokenCard\n                          {...item}\n                          name=\"\"\n                          value={calcValue({ amount, denom })}\n                          amount={amount}\n                        />\n                      )}\n                    </WithTokenItem>\n                  ))}\n              </TokenCardGrid>\n            </FormItem>\n          </Grid>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default WithdrawRewardsForm\n","import { useTranslation } from \"react-i18next\"\nimport { combineState } from \"data/query\"\nimport { calcRewardsValues, useRewards } from \"data/queries/distribution\"\nimport { useDelegations, useValidators } from \"data/queries/staking\"\nimport { has } from \"utils/num\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { useActiveDenoms, useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { useIBCWhitelist } from \"data/Terra/TerraAssets\"\nimport { Page, Card } from \"components/layout\"\nimport DelegationsPromote from \"app/containers/DelegationsPromote\"\nimport TxContext from \"../TxContext\"\nimport WithdrawRewardsForm from \"./WithdrawRewardsForm\"\n\nconst WithdrawRewardsTx = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const calcValue = useMemoizedCalcValue()\n\n  const { data: activeDenoms, ...activeDenomsState } = useActiveDenoms()\n  const { data: rewards, ...rewardsState } = useRewards()\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const { data: validators, ...validatorsState } = useValidators()\n  const { data: IBCWhitelist, ...IBCWhitelistState } = useIBCWhitelist()\n\n  const state = combineState(\n    activeDenomsState,\n    rewardsState,\n    delegationsState,\n    validatorsState,\n    IBCWhitelistState\n  )\n\n  const render = () => {\n    if (!activeDenoms) return null\n    if (!(rewards && delegations && validators && IBCWhitelist)) return null\n\n    const { total } = calcRewardsValues(rewards, currency, calcValue)\n    const hasRewards = !!has(total.sum)\n    const hasDelegations = !!delegations.length\n\n    if (!hasRewards)\n      return hasDelegations ? (\n        <Card>{t(\"No rewards yet\")}</Card>\n      ) : (\n        <DelegationsPromote />\n      )\n\n    return (\n      <Card>\n        <TxContext>\n          <WithdrawRewardsForm\n            activeDenoms={activeDenoms}\n            rewards={rewards}\n            validators={validators}\n            IBCWhitelist={IBCWhitelist}\n          />\n        </TxContext>\n      </Card>\n    )\n  }\n\n  return (\n    <Page {...state} title={t(\"Withdraw rewards\")} small>\n      {render()}\n    </Page>\n  )\n}\n\nexport default WithdrawRewardsTx\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { ValAddress } from \"@terra-money/terra.js\"\nimport { MsgWithdrawValidatorCommission } from \"@terra-money/terra.js\"\nimport { sortCoins } from \"utils/coin\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useMemoizedCalcValue } from \"data/queries/oracle\"\nimport { useValidatorCommission } from \"data/queries/distribution\"\nimport { useWithdrawAddress } from \"data/queries/distribution\"\nimport { WithTokenItem } from \"data/token\"\nimport { Form, FormArrow, Input } from \"components/form\"\nimport { TokenCard, TokenCardGrid } from \"components/token\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\nconst WithdrawCommissionForm = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n  const calcValue = useMemoizedCalcValue()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const { handleSubmit } = useForm({ mode: \"onChange\" })\n\n  /* tx */\n  const createTx = useCallback(() => {\n    if (!address) return\n    const validatorAddress = ValAddress.fromAccAddress(address)\n    const msgs = [new MsgWithdrawValidatorCommission(validatorAddress)]\n    return { msgs }\n  }, [address])\n\n  /* fee */\n  const estimationTxValues = useMemo(() => ({}), [])\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onSuccess: { label: t(\"Stake\"), path: \"/stake\" },\n  }\n\n  /* render */\n  const { data: validatorCommission } = useValidatorCommission()\n  const { data: withdrawAddress } = useWithdrawAddress()\n\n  const renderCommission = () => {\n    if (!validatorCommission) return null\n\n    const sorter = (a: CoinData, b: CoinData) =>\n      Number(calcValue(b)) - Number(calcValue(a))\n\n    const list = sortCoins(validatorCommission, currency, sorter)\n\n    return (\n      <TokenCardGrid maxHeight>\n        {list.map((item) => {\n          const { amount, denom } = item\n          return (\n            <WithTokenItem token={denom} key={denom}>\n              {(data) => (\n                <TokenCard {...data} amount={amount} value={calcValue(item)} />\n              )}\n            </WithTokenItem>\n          )\n        })}\n      </TokenCardGrid>\n    )\n  }\n\n  const renderAddress = () => {\n    if (!withdrawAddress) return null\n    return (\n      <>\n        <FormArrow />\n        <Input defaultValue={withdrawAddress} readOnly />\n      </>\n    )\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          {renderCommission()}\n          {renderAddress()}\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default WithdrawCommissionForm\n","import { useTranslation } from \"react-i18next\"\nimport { useAddress } from \"data/wallet\"\nimport { useValidators } from \"data/queries/staking\"\nimport { getConnectedMoniker } from \"data/queries/distribution\"\nimport { Page, Card } from \"components/layout\"\nimport { Wrong } from \"components/feedback\"\nimport TxContext from \"../TxContext\"\nimport WithdrawCommissionForm from \"./WithdrawCommissionForm\"\n\nconst WithdrawCommissionTx = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const { data: validators, ...state } = useValidators()\n  const moniker = getConnectedMoniker(address, validators)\n\n  const render = () => {\n    if (!validators) return null\n    if (!moniker) return <Wrong>{t(\"Validator account not connected\")}</Wrong>\n\n    return (\n      <TxContext>\n        <WithdrawCommissionForm />\n      </TxContext>\n    )\n  }\n\n  return (\n    <Page title={t(\"Withdraw commission\")} small>\n      <Card {...state} title={moniker}>\n        {render()}\n      </Card>\n    </Page>\n  )\n}\n\nexport default WithdrawCommissionTx\n","import { useTranslation } from \"react-i18next\"\nimport { useCallback, useMemo } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { toAmount } from \"@terra.kitchen/utils\"\nimport { has } from \"utils/num\"\nimport { getAmount } from \"utils/coin\"\nimport { queryKey } from \"data/query\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useAnchorGetMsgs } from \"data/external/anchor\"\nimport { Form, FormItem, Input } from \"components/form\"\nimport { toInput, getPlaceholder } from \"../utils\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\ninterface Props {\n  tab: AnchorEarnAction\n  deposit: string\n  rate: string\n}\n\ninterface TxValues {\n  input?: number\n}\n\nexport enum AnchorEarnAction {\n  DEPOSIT = \"deposit\",\n  WITHDRAW = \"withdraw\",\n}\n\nconst AnchorEarnForm = ({ tab, deposit, rate }: Props) => {\n  const { t } = useTranslation()\n  const bankBalance = useBankBalance()\n\n  /* tx context */\n  const token = tab === AnchorEarnAction.DEPOSIT ? \"uusd\" : \"\"\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* context */\n  const getMsgs = useAnchorGetMsgs(rate)\n\n  /* form */\n  const form = useForm<TxValues>({ mode: \"onChange\" })\n  const { register, trigger, watch, setValue, handleSubmit, formState } = form\n  const { errors } = formState\n  const { input } = watch()\n  const amount = toAmount(input)\n\n  /* tx */\n  const createTx = useCallback(\n    ({ input }: TxValues) => {\n      const amount = toAmount(input)\n      if (!has(amount)) return\n      return { msgs: getMsgs(amount, tab) ?? [] }\n    },\n    [getMsgs, tab]\n  )\n\n  /* fee */\n  const balance =\n    tab === AnchorEarnAction.WITHDRAW ? deposit : getAmount(bankBalance, token)\n  const estimationTxValues = useMemo(\n    // Anchor deposit throw if amount is too small\n    () => ({ input: toInput(balance) }),\n    [balance]\n  )\n\n  const onChangeMax = useCallback(\n    async (input: number) => {\n      setValue(\"input\", input)\n      await trigger(\"input\")\n    },\n    [setValue, trigger]\n  )\n\n  const tx = {\n    token,\n    amount,\n    balance,\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onChangeMax,\n    onSuccess: { label: t(\"Wallet\"), path: \"/wallet\" },\n    queryKeys: [queryKey.Anchor.TotalDeposit],\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ max, fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <FormItem\n            label={t(\"Amount\")}\n            extra={max.render()}\n            error={errors.input?.message}\n          >\n            <Input\n              {...register(\"input\", {\n                valueAsNumber: true,\n                validate: validate.input(toInput(max.amount)),\n              })}\n              token=\"uusd\"\n              onFocus={max.reset}\n              inputMode=\"decimal\"\n              placeholder={getPlaceholder()}\n              autoFocus\n            />\n          </FormItem>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default AnchorEarnForm\n","import { useTranslation } from \"react-i18next\"\nimport { getAmount } from \"utils/coin\"\nimport { combineState } from \"data/query\"\nimport { useDepositParams } from \"data/queries/gov\"\nimport { useCommunityPool } from \"data/queries/distribution\"\nimport { Page, Card } from \"components/layout\"\nimport TxContext from \"../TxContext\"\nimport SubmitProposalForm from \"./SubmitProposalForm\"\n\nconst SubmitProposalTx = () => {\n  const { t } = useTranslation()\n\n  const { data: communityPool, ...communityPoolState } = useCommunityPool()\n  const { data: depositParams, ...depositParamsState } = useDepositParams()\n  const state = combineState(communityPoolState, depositParamsState)\n\n  const render = () => {\n    if (!(communityPool && depositParams)) return null\n    const minDeposit = getAmount(depositParams.min_deposit, \"uluna\")\n    return (\n      <SubmitProposalForm\n        communityPool={communityPool}\n        minDeposit={minDeposit}\n      />\n    )\n  }\n\n  return (\n    <Page {...state} title={t(\"New proposal\")} small>\n      <Card>\n        <TxContext>{render()}</TxContext>\n      </Card>\n    </Page>\n  )\n}\n\nexport default SubmitProposalTx\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { MsgDeposit } from \"@terra-money/terra.js\"\nimport { toAmount } from \"@terra.kitchen/utils\"\nimport { getAmount } from \"utils/coin\"\nimport { queryKey } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { Form, FormItem, Input } from \"components/form\"\nimport useProposalId from \"pages/gov/useProposalId\"\nimport { getPlaceholder, toInput } from \"../utils\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\ninterface TxValues {\n  input?: number\n}\n\nconst DepositForm = () => {\n  const { t } = useTranslation()\n  const id = useProposalId()\n  const address = useAddress()\n\n  const bankBalance = useBankBalance()\n  const balance = getAmount(bankBalance, \"uluna\")\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const form = useForm<TxValues>({ mode: \"onChange\" })\n  const { register, trigger, watch, setValue, handleSubmit, formState } = form\n  const { errors } = formState\n  const { input } = watch()\n  const amount = toAmount(input)\n\n  /* tx */\n  const createTx = useCallback(\n    ({ input }: TxValues) => {\n      if (!address) return\n      const amount = toAmount(input)\n      const msgs = [new MsgDeposit(id, address, amount + \"uluna\")]\n      return { msgs }\n    },\n    [address, id]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(\n    () => ({ input: toInput(balance) }),\n    [balance]\n  )\n\n  const onChangeMax = useCallback(\n    async (input: number) => {\n      setValue(\"input\", input)\n      await trigger(\"input\")\n    },\n    [setValue, trigger]\n  )\n\n  const token = \"uluna\"\n  const tx = {\n    token,\n    amount,\n    balance,\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onChangeMax,\n    onSuccess: {\n      label: [t(\"Proposal\"), id].join(\" \"),\n      path: `/proposal/${id}`,\n    },\n    queryKeys: [[queryKey.gov.deposits, id]],\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ max, fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <FormItem\n            label={t(\"Amount\")}\n            extra={max.render()}\n            error={errors.input?.message}\n          >\n            <Input\n              {...register(\"input\", {\n                valueAsNumber: true,\n                validate: validate.input(toInput(max.amount)),\n              })}\n              token=\"uluna\"\n              onFocus={max.reset}\n              inputMode=\"decimal\"\n              placeholder={getPlaceholder()}\n              autoFocus\n            />\n          </FormItem>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default DepositForm\n","import { useTranslation } from \"react-i18next\"\nimport { useProposal } from \"data/queries/gov\"\nimport { Auto, Page, Card } from \"components/layout\"\nimport useProposalId from \"pages/gov/useProposalId\"\nimport ProposalHeader from \"pages/gov/ProposalHeader\"\nimport TxContext from \"../TxContext\"\nimport DepositForm from \"./DepositForm\"\n\nconst DepositTx = () => {\n  const { t } = useTranslation()\n  const id = useProposalId()\n  const { data: proposal, ...state } = useProposal(id)\n\n  return (\n    <Page title={t(\"Deposit\")}>\n      <Auto\n        columns={[\n          <Card>\n            <TxContext>\n              <DepositForm />\n            </TxContext>\n          </Card>,\n          <Card {...state}>\n            {proposal && <ProposalHeader proposal={proposal} />}\n          </Card>,\n        ]}\n      />\n    </Page>\n  )\n}\n\nexport default DepositTx\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport classNames from \"classnames/bind\"\nimport { MsgVote, Vote } from \"@terra-money/terra.js\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useGetVoteOptionItem } from \"data/queries/gov\"\nimport { Form } from \"components/form\"\nimport useProposalId from \"pages/gov/useProposalId\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\nimport styles from \"./VoteForm.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface TxValues {\n  option: Vote.Option\n}\n\nconst Options = [\n  Vote.Option.VOTE_OPTION_YES,\n  Vote.Option.VOTE_OPTION_ABSTAIN,\n  Vote.Option.VOTE_OPTION_NO,\n  Vote.Option.VOTE_OPTION_NO_WITH_VETO,\n]\n\nconst VoteForm = () => {\n  const { t } = useTranslation()\n  const getVoteOptionItem = useGetVoteOptionItem()\n  const id = useProposalId()\n\n  if (!id) throw new Error(\"Proposal is not defined\")\n\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const form = useForm<TxValues>({ mode: \"onChange\" })\n  const { register, watch, handleSubmit } = form\n  const { option } = watch()\n  const selected = Number(option)\n\n  /* tx */\n  const createTx = useCallback(\n    ({ option }: TxValues) => {\n      if (!address) return\n      const msgs = [new MsgVote(id, address, Number(option))]\n      return { msgs }\n    },\n    [address, id]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(\n    () => ({ option: Vote.Option.VOTE_OPTION_YES }),\n    []\n  )\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onSuccess: {\n      label: [t(\"Proposal\"), id].join(\" \"),\n      path: `/proposal/${id}`,\n    },\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <section className={styles.options}>\n            {Options.map((option) => {\n              const { color, label } = getVoteOptionItem(option)\n              const className = cx(styles.option, color, `border-${color}`, {\n                active: selected === option,\n              })\n\n              return (\n                <label className={className} key={option}>\n                  <input\n                    {...register(\"option\")}\n                    type=\"radio\"\n                    value={option}\n                    hidden\n                  />\n                  {label}\n                </label>\n              )\n            })}\n          </section>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default VoteForm\n","import { useTranslation } from \"react-i18next\"\nimport { useProposal } from \"data/queries/gov\"\nimport { Auto, Page, Card } from \"components/layout\"\nimport useProposalId from \"pages/gov/useProposalId\"\nimport ProposalHeader from \"pages/gov/ProposalHeader\"\nimport TxContext from \"../TxContext\"\nimport VoteForm from \"./VoteForm\"\n\nconst VoteTx = () => {\n  const { t } = useTranslation()\n  const id = useProposalId()\n  const { data: proposal, ...state } = useProposal(id)\n\n  return (\n    <Page title={t(\"Vote\")}>\n      <Auto\n        columns={[\n          <Card>\n            <TxContext>\n              <VoteForm />\n            </TxContext>\n          </Card>,\n          <Card {...state}>\n            {proposal && <ProposalHeader proposal={proposal} />}\n          </Card>,\n        ]}\n      />\n    </Page>\n  )\n}\n\nexport default VoteTx\n","import { useCallback, useEffect, useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { MsgStoreCode } from \"@terra-money/terra.js\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { Form, FormItem, Upload } from \"components/form\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\ninterface TxValues {\n  code: string\n}\n\nconst StoreCodeForm = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const [file, setFile] = useState<File>()\n  const form = useForm<TxValues>({ mode: \"onChange\" })\n  const { watch, setValue, handleSubmit } = form\n  const values = watch()\n\n  useEffect(() => {\n    const store = async (file: File) => {\n      setValue(\"code\", await readFile(file))\n    }\n\n    if (file) store(file)\n  }, [file, setValue])\n\n  /* tx */\n  const createTx = useCallback(\n    ({ code }: TxValues) => {\n      if (!address || !code) return\n      const msgs = [new MsgStoreCode(address, code)]\n      return { msgs }\n    },\n    [address]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(() => values, [values])\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onSuccess: { label: t(\"Instantiate\"), path: \"/contract/instantiate\" },\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <FormItem label={t(\"File\")}>\n            <Upload value={file} onUpload={setFile} />\n          </FormItem>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default StoreCodeForm\n\n/* helpers */\nconst readFile = (file: File): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n\n    reader.readAsDataURL(file)\n\n    reader.onload = () => {\n      let encoded = reader.result?.toString().replace(/^data:(.*,)?/, \"\") ?? \"\"\n      if (encoded.length % 4 > 0)\n        encoded += \"=\".repeat(4 - (encoded.length % 4))\n\n      resolve(encoded)\n    }\n\n    reader.onerror = (error) => reject(error)\n  })\n}\n","import { useTranslation } from \"react-i18next\"\nimport { Page, Card } from \"components/layout\"\nimport TxContext from \"../TxContext\"\nimport StoreCodeForm from \"./StoreCodeForm\"\n\nconst StoreCodeTx = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Upload a wasm file\")} small>\n      <Card>\n        <TxContext>\n          <StoreCodeForm />\n        </TxContext>\n      </Card>\n    </Page>\n  )\n}\n\nexport default StoreCodeTx\n","import { PropsWithChildren, useCallback } from \"react\"\nimport createContext from \"utils/createContext\"\nimport { useIBCWhitelist } from \"data/Terra/TerraAssets\"\n\nexport type FindDecimals = (token: string) => number\nexport const [useIBCHelper, IBCHelperProvider] = createContext<{\n  findDecimals: FindDecimals\n}>(\"useIBC\")\n\nconst IBCHelperContext = ({ children }: PropsWithChildren<{}>) => {\n  const { data: ibcWhitelist } = useIBCWhitelist()\n\n  const findDecimals = useCallback(\n    (token: string) => {\n      if (!ibcWhitelist) throw new Error()\n      const item = ibcWhitelist[token.replace(\"ibc/\", \"\")]\n      return item?.decimals ?? 6\n    },\n    [ibcWhitelist]\n  )\n\n  if (!ibcWhitelist) return null\n\n  return (\n    <IBCHelperProvider value={{ findDecimals }}>{children}</IBCHelperProvider>\n  )\n}\n\nexport default IBCHelperContext\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useFieldArray, useForm } from \"react-hook-form\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport RemoveIcon from \"@mui/icons-material/Remove\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { MsgInstantiateContract } from \"@terra-money/terra.js\"\nimport { SAMPLE_ADDRESS } from \"config/constants\"\nimport { sortCoins } from \"utils/coin\"\nimport { parseJSON, validateMsg } from \"utils/data\"\nimport { useAddress } from \"data/wallet\"\nimport { useIsClassic } from \"data/query\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { WithTokenItem } from \"data/token\"\nimport { Form, FormGroup, FormItem } from \"components/form\"\nimport { Input, EditorInput, Select } from \"components/form\"\nimport { getCoins, getPlaceholder } from \"../utils\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\nimport { useIBCHelper } from \"../IBCHelperContext\"\n\ninterface TxValues {\n  admin?: AccAddress\n  id?: number\n  msg?: string\n  coins: { input?: number; denom: CoinDenom }[]\n  label?: string\n}\n\nconst InstantiateContractForm = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n  const isClassic = useIsClassic()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n  const defaultItem = { denom: initialGasDenom }\n  const { findDecimals } = useIBCHelper()\n\n  /* form */\n  const form = useForm<TxValues>({\n    mode: \"onChange\",\n    defaultValues: { coins: [defaultItem] },\n  })\n\n  const { register, control, watch, handleSubmit, formState } = form\n  const { errors } = formState\n  const values = watch()\n  const { coins } = values\n  const { fields, append, remove } = useFieldArray({ control, name: \"coins\" })\n\n  /* tx */\n  const createTx = useCallback(\n    ({ id, msg, label, ...values }: TxValues) => {\n      if (!address || !(id && msg)) return\n      if (!validateMsg(msg)) return\n\n      const admin = values.admin || undefined\n      const code_id = Number(id)\n      const init_msg = parseJSON(msg)\n      const coins = getCoins(values.coins, findDecimals)\n      const msgs = [\n        new MsgInstantiateContract(\n          address,\n          admin,\n          code_id,\n          init_msg,\n          coins,\n          label || undefined\n        ),\n      ]\n\n      return { msgs }\n    },\n    [address, findDecimals]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(() => values, [values])\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    coins,\n    createTx,\n    onSuccess: { label: t(\"Contract\"), path: \"/contract\" },\n    taxRequired: true,\n  }\n\n  const length = fields.length\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <FormItem\n            label={`${t(\"Admin\")} (${t(\"optional\")})`}\n            error={errors.admin?.message}\n          >\n            <Input\n              {...register(\"admin\", {\n                validate: validate.address(\"Admin\", true),\n              })}\n              placeholder={SAMPLE_ADDRESS}\n            />\n          </FormItem>\n\n          <FormItem label={t(\"Code ID\")} error={errors.id?.message}>\n            <Input\n              {...register(\"id\", {\n                valueAsNumber: true,\n                required: \"Code ID is required\",\n                min: {\n                  value: 0,\n                  message: \"Code ID must be a positive integer\",\n                },\n                validate: {\n                  integer: (value) =>\n                    Number.isInteger(value) || \"Code ID must be an integer\",\n                },\n              })}\n              inputMode=\"decimal\"\n              placeholder=\"1\"\n              autoFocus\n            />\n          </FormItem>\n\n          <FormItem\n            label=\"Init msg\" // do not translate this\n            error={errors.msg?.message}\n          >\n            <EditorInput {...register(\"msg\", { validate: validate.msg() })} />\n          </FormItem>\n\n          <FormItem label={t(\"Amount\")}>\n            {fields.map(({ id }, index) => {\n              const { denom } = fields[index]\n              const decimals = findDecimals(denom)\n\n              return (\n                <FormGroup\n                  button={\n                    length - 1 === index\n                      ? {\n                          onClick: () => append(defaultItem),\n                          children: <AddIcon style={{ fontSize: 18 }} />,\n                        }\n                      : {\n                          onClick: () => remove(index),\n                          children: <RemoveIcon style={{ fontSize: 18 }} />,\n                        }\n                  }\n                  key={id}\n                >\n                  <Input\n                    {...register(`coins.${index}.input`, {\n                      valueAsNumber: true,\n                    })}\n                    inputMode=\"decimal\"\n                    placeholder={getPlaceholder(decimals)}\n                    selectBefore={\n                      <Select {...register(`coins.${index}.denom`)} before>\n                        {sortCoins(bankBalance).map(({ denom }) => (\n                          <WithTokenItem token={denom} key={denom}>\n                            {({ symbol }) => (\n                              <option value={denom}>{symbol}</option>\n                            )}\n                          </WithTokenItem>\n                        ))}\n                      </Select>\n                    }\n                  />\n                </FormGroup>\n              )\n            })}\n          </FormItem>\n\n          {!isClassic && (\n            <FormItem label={t(\"Label\")} error={errors.label?.message}>\n              <Input {...register(\"label\")} />\n            </FormItem>\n          )}\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default InstantiateContractForm\n","import { useTranslation } from \"react-i18next\"\nimport { Page, Card } from \"components/layout\"\nimport TxContext from \"../TxContext\"\nimport IBCHelperContext from \"../IBCHelperContext\"\nimport InstantiateContractForm from \"./InstantiateContractForm\"\n\nconst InstantiateContractTx = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Instantiate a code\")} small>\n      <Card>\n        <TxContext>\n          <IBCHelperContext>\n            <InstantiateContractForm />\n          </IBCHelperContext>\n        </TxContext>\n      </Card>\n    </Page>\n  )\n}\n\nexport default InstantiateContractTx\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useParams } from \"react-router-dom\"\nimport { useFieldArray, useForm } from \"react-hook-form\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport RemoveIcon from \"@mui/icons-material/Remove\"\nimport { MsgExecuteContract } from \"@terra-money/terra.js\"\nimport { sortCoins } from \"utils/coin\"\nimport { parseJSON, validateMsg } from \"utils/data\"\nimport { queryKey } from \"data/query\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { WithTokenItem } from \"data/token\"\nimport { Form, FormGroup, FormItem } from \"components/form\"\nimport { Input, Select, EditorInput } from \"components/form\"\nimport { getCoins, getPlaceholder } from \"../utils\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\nimport { useIBCHelper } from \"../IBCHelperContext\"\n\ninterface TxValues {\n  msg: string\n  coins: { input?: number; denom: CoinDenom }[]\n}\n\nconst ExecuteContractForm = () => {\n  const { t } = useTranslation()\n  const { contract } = useParams()\n\n  if (!contract) throw new Error(\"Contract is not defined\")\n\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n  const defaultItem = { denom: initialGasDenom }\n  const { findDecimals } = useIBCHelper()\n\n  /* form */\n  const form = useForm<TxValues>({\n    mode: \"onChange\",\n    defaultValues: { coins: [defaultItem] },\n  })\n\n  const { register, control, watch, handleSubmit, formState } = form\n  const { errors } = formState\n  const values = watch()\n  const { coins } = values\n  const { fields, append, remove } = useFieldArray({ control, name: \"coins\" })\n\n  /* tx */\n  const createTx = useCallback(\n    ({ msg, ...values }: TxValues) => {\n      if (!address || !validateMsg(msg)) return\n\n      const execute_msg = parseJSON(msg)\n      const coins = getCoins(values.coins, findDecimals)\n      const msgs = [\n        new MsgExecuteContract(address, contract, execute_msg, coins),\n      ]\n\n      return { msgs }\n    },\n    [address, contract, findDecimals]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(() => values, [values])\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    coins,\n    createTx,\n    onSuccess: { label: t(\"Contract\"), path: \"/contract\" },\n    taxRequired: true,\n    queryKeys: [\n      [queryKey.wasm.contractQuery, contract, { tokens: { owner: address } }],\n    ],\n  }\n\n  const length = fields.length\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <FormItem\n            /* do not translate */\n            label=\"Msg\"\n            error={errors.msg?.message}\n          >\n            <EditorInput\n              {...register(\"msg\", { validate: validate.msg() })}\n              placeholder=\"{}\"\n              autoFocus\n            />\n          </FormItem>\n\n          <FormItem label={t(\"Amount\")}>\n            {fields.map(({ id }, index) => {\n              const { denom } = fields[index]\n              const decimals = findDecimals(denom)\n\n              return (\n                <FormGroup\n                  button={\n                    length - 1 === index\n                      ? {\n                          onClick: () => append(defaultItem),\n                          children: <AddIcon style={{ fontSize: 18 }} />,\n                        }\n                      : {\n                          onClick: () => remove(index),\n                          children: <RemoveIcon style={{ fontSize: 18 }} />,\n                        }\n                  }\n                  key={id}\n                >\n                  <Input\n                    {...register(`coins.${index}.input`, {\n                      valueAsNumber: true,\n                    })}\n                    inputMode=\"decimal\"\n                    placeholder={getPlaceholder(decimals)}\n                    selectBefore={\n                      <Select {...register(`coins.${index}.denom`)} before>\n                        {sortCoins(bankBalance).map(({ denom }) => (\n                          <WithTokenItem token={denom} key={denom}>\n                            {({ symbol }) => (\n                              <option value={denom}>{symbol}</option>\n                            )}\n                          </WithTokenItem>\n                        ))}\n                      </Select>\n                    }\n                  />\n                </FormGroup>\n              )\n            })}\n          </FormItem>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default ExecuteContractForm\n","import { useTranslation } from \"react-i18next\"\nimport { Page, Card } from \"components/layout\"\nimport TxContext from \"../TxContext\"\nimport IBCHelperContext from \"../IBCHelperContext\"\nimport ExecuteContractForm from \"./ExecuteContractForm\"\n\nconst ExecuteContractTx = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Execute\")} small>\n      <Card>\n        <TxContext>\n          <IBCHelperContext>\n            <ExecuteContractForm />\n          </IBCHelperContext>\n        </TxContext>\n      </Card>\n    </Page>\n  )\n}\n\nexport default ExecuteContractTx\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { AccAddress, MsgMigrateContract } from \"@terra-money/terra.js\"\nimport { parseJSON, validateMsg } from \"utils/data\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { Form, FormItem } from \"components/form\"\nimport { Input, EditorInput } from \"components/form\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\ninterface TxValues {\n  id?: number\n  msg?: string\n}\n\nconst MigrateContractForm = ({ contract }: { contract: AccAddress }) => {\n  const { t } = useTranslation()\n\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const form = useForm<TxValues>({ mode: \"onChange\" })\n  const { register, watch, handleSubmit, formState } = form\n  const { errors } = formState\n  const values = watch()\n\n  /* tx */\n  const createTx = useCallback(\n    ({ id, msg }: TxValues) => {\n      if (!address || !(id && msg)) return\n      if (!validateMsg(msg)) return\n\n      const code_id = Number(id)\n      const migrate_msg = parseJSON(msg)\n      const msgs = [\n        new MsgMigrateContract(address, contract, code_id, migrate_msg),\n      ]\n\n      return { msgs }\n    },\n    [address, contract]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(() => values, [values])\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onSuccess: { label: t(\"Contract\"), path: \"/contract\" },\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <FormItem label={t(\"Code ID\")} error={errors.id?.message}>\n            <Input\n              {...register(\"id\", {\n                valueAsNumber: true,\n                required: \"Code ID is required\",\n                min: {\n                  value: 0,\n                  message: \"Code ID must be a positive integer\",\n                },\n                validate: {\n                  integer: (value) =>\n                    Number.isInteger(value) || \"Code ID must be an integer\",\n                },\n              })}\n              inputMode=\"decimal\"\n              placeholder=\"1\"\n              autoFocus\n            />\n          </FormItem>\n\n          <FormItem\n            label=\"Migrate msg\" // do not translate this\n            error={errors.msg?.message}\n          >\n            <EditorInput {...register(\"msg\", { validate: validate.msg() })} />\n          </FormItem>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default MigrateContractForm\n","import { useTranslation } from \"react-i18next\"\nimport { useParams } from \"react-router-dom\"\nimport { Page, Card } from \"components/layout\"\nimport TxContext from \"../TxContext\"\nimport MigrateContractForm from \"./MigrateContractForm\"\n\nconst MigrateContractTx = () => {\n  const { t } = useTranslation()\n  const { contract } = useParams()\n\n  if (!contract) throw new Error(\"Contract is not defined\")\n\n  return (\n    <Page title={t(\"Migrate\")} small>\n      <Card>\n        <TxContext>\n          <MigrateContractForm contract={contract} />\n        </TxContext>\n      </Card>\n    </Page>\n  )\n}\n\nexport default MigrateContractTx\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { AccAddress, MsgUpdateContractAdmin } from \"@terra-money/terra.js\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { Form, FormItem } from \"components/form\"\nimport { Input } from \"components/form\"\nimport validate from \"../validate\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\ninterface TxValues {\n  new_admin?: string\n}\n\nconst UpdateAdminContractForm = ({ contract }: { contract: AccAddress }) => {\n  const { t } = useTranslation()\n\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const form = useForm<TxValues>({ mode: \"onChange\" })\n  const { register, watch, handleSubmit, formState } = form\n  const { errors } = formState\n  const values = watch()\n\n  /* tx */\n  const createTx = useCallback(\n    ({ new_admin }: TxValues) => {\n      if (!address || !new_admin) return\n      const msgs = [new MsgUpdateContractAdmin(address, new_admin, contract)]\n      return { msgs }\n    },\n    [address, contract]\n  )\n\n  /* fee */\n  const estimationTxValues = useMemo(() => values, [values])\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n    onSuccess: { label: t(\"Contract\"), path: \"/contract\" },\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <FormItem label={t(\"New admin\")} error={errors.new_admin?.message}>\n            <Input\n              {...register(\"new_admin\", {\n                required: \"New admin is required\",\n                validate: validate.address(),\n              })}\n              autoFocus\n            />\n          </FormItem>\n\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default UpdateAdminContractForm\n","import { useTranslation } from \"react-i18next\"\nimport { useParams } from \"react-router-dom\"\nimport { Page, Card } from \"components/layout\"\nimport TxContext from \"../TxContext\"\nimport UpdateAdminContractForm from \"./UpdateAdminContractForm\"\n\nconst MigrateContractTx = () => {\n  const { t } = useTranslation()\n  const { contract } = useParams()\n\n  if (!contract) throw new Error(\"Contract is not defined\")\n\n  return (\n    <Page title={t(\"UpdateAdmin\")} small>\n      <Card>\n        <TxContext>\n          <UpdateAdminContractForm contract={contract} />\n        </TxContext>\n      </Card>\n    </Page>\n  )\n}\n\nexport default MigrateContractTx\n","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAnchorEarnLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 132 18\",\n    width: 132,\n    height: 18,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M9 18A9 9 0 0 1 9 0a9 9 0 0 1 0 18\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"m25.838 13.812.699-1.731h3.788l.7 1.73h2.907l-4.166-9.683h-2.614L23 13.812h2.838zm3.69-3.805h-2.194l1.104-2.72 1.09 2.72zm8.039 3.805V8.537l4.194 5.275h2.362V4.196H41.44V9.28l-4.026-5.083h-2.53v9.616h2.684zm13.015.192c2.153 0 3.397-.92 4.32-2.17l-2.041-1.429c-.587.7-1.189 1.168-2.21 1.168-1.37 0-2.334-1.127-2.334-2.569v-.027c0-1.402.965-2.555 2.335-2.555.937 0 1.58.453 2.139 1.126l2.04-1.552c-.866-1.168-2.152-1.992-4.151-1.992-2.964 0-5.145 2.198-5.145 5v.027c0 2.871 2.251 4.973 5.047 4.973zm8.206-.192v-3.654h3.481v3.654h2.712V4.196H62.27v3.6h-3.48v-3.6h-2.713v9.616h2.712zm12.861.192c3.02 0 5.285-2.239 5.285-5v-.027c0-2.761-2.237-4.973-5.257-4.973-3.02 0-5.284 2.239-5.284 5v.027c0 2.761 2.237 4.973 5.256 4.973zm.028-2.404c-1.495 0-2.516-1.209-2.516-2.596v-.027c0-1.388.993-2.57 2.488-2.57 1.496 0 2.503 1.196 2.503 2.597v.027c0 1.388-.993 2.57-2.475 2.57zm9.367 2.212V10.9h1.202l1.971 2.912h3.118L85 10.46c1.216-.508 2.013-1.483 2.013-2.967v-.027c0-.948-.293-1.676-.867-2.24-.657-.645-1.691-1.03-3.187-1.03h-4.627v9.616h2.712zm1.803-5h-1.803V6.49h1.79c.894 0 1.467.385 1.467 1.154v.028c0 .7-.545 1.14-1.454 1.14zm17.35 5-.001-2.267H94.94V10.02h4.697v-2.1H94.94V6.45h5.186V4.196h-7.87v9.616h7.94zm3.466 0 .699-1.731h3.789l.699 1.73h2.907l-4.166-9.683h-2.614l-4.152 9.684h2.838zm3.69-3.805h-2.194l1.104-2.72 1.09 2.72zm8.067 3.805V10.9h1.202l1.971 2.912h3.118l-2.335-3.352c1.216-.508 2.013-1.483 2.013-2.967v-.027c0-.948-.293-1.676-.866-2.24-.657-.645-1.692-1.03-3.188-1.03h-4.627v9.616h2.712zm1.803-5h-1.803V6.49h1.79c.894 0 1.467.385 1.467 1.154v.028c0 .7-.545 1.14-1.454 1.14zm8.22 5V8.537l4.194 5.275H132V4.196h-2.684V9.28l-4.026-5.083h-2.53v9.616h2.683z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"anchor-protocol-stroke\",\n    d: \"M14.12 10.88a1.727 1.727 0 0 1-2.994 1.72L7.503 6.325a1.727 1.727 0 0 1 2.994-1.721l3.623 6.276z\",\n    opacity: 0.4\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"anchor-protocol-stroke\",\n    d: \"M6.874 12.6a1.727 1.727 0 0 1-2.994-1.72l3.623-6.276a1.727 1.727 0 0 1 2.994 1.72L6.874 12.6z\",\n    opacity: 0.8\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"anchor-protocol-stroke\",\n    d: \"M10.487 4.587a1.762 1.762 0 0 0-.064-.1l-.032-.046a1.706 1.706 0 0 0-.067-.084l-.043-.05c-.02-.024-.042-.045-.064-.067-.02-.02-.038-.039-.058-.057l-.06-.05-.075-.06-.056-.038c-.029-.02-.058-.04-.089-.057-.006-.004-.012-.009-.019-.012l-.042-.022a1.76 1.76 0 0 0-.33-.136 1.728 1.728 0 0 0-.744-.052 1.741 1.741 0 0 0-.564.189l-.04.02-.018.012a1.729 1.729 0 0 0-.092.06.618.618 0 0 0-.053.036c-.028.02-.054.042-.08.063-.018.015-.037.03-.054.046-.023.02-.043.041-.064.062l-.06.06-.048.059c-.02.025-.041.05-.06.076l-.04.056-.056.088a1.725 1.725 0 0 0-.012 1.74L9 8.916l1.497-2.593a1.725 1.725 0 0 0-.01-1.736\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAnchorEarnLogo);\nexport default __webpack_public_path__ + \"static/media/AnchorEarnLogo.b2f153eb.svg\";\nexport { ForwardRef as ReactComponent };","import { useCallback, useMemo } from \"react\"\nimport { useQuery } from \"react-query\"\nimport BigNumber from \"bignumber.js\"\nimport * as anchor from \"@anchor-protocol/anchor.js\"\nimport { readAmount, toAmount } from \"@terra.kitchen/utils\"\nimport { Coins } from \"@terra-money/terra.js\"\nimport { has } from \"utils/num\"\nimport { getAmount } from \"utils/coin\"\nimport { AnchorEarnAction } from \"txs/earn/AnchorEarnForm\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useAddress, useNetworkName } from \"../wallet\"\nimport { useLCDClient } from \"../queries/lcdClient\"\n\nconst {\n  AddressProviderFromJson,\n  columbus5,\n  Earn,\n  fabricateMarketDepositStableCoin,\n  fabricateMarketRedeemStable,\n  MARKET_DENOMS,\n  queryMarketEpochState,\n  bombay12,\n} = anchor\n\nconst market = MARKET_DENOMS.UUSD\n\nconst useAddresses = () => {\n  const name = useNetworkName()\n  return useMemo(\n    () => ({ classic: columbus5, testnet: bombay12 }[name]),\n    [name]\n  )\n}\n\nexport const useIsAnchorAvailable = () => {\n  const addresses = useAddresses()\n  return !!addresses\n}\n\nconst useAddressProvider = () => {\n  const addresses = useAddresses()\n\n  const provider = useMemo(() => {\n    if (!addresses) throw new Error(`Anchor is not supported`)\n    return new AddressProviderFromJson(addresses)\n  }, [addresses])\n\n  return provider\n}\n\nconst useAnchorEarn = () => {\n  const lcd = useLCDClient()\n  const addressProvider = useAddressProvider()\n\n  const earn = useMemo(() => {\n    return new Earn(lcd, addressProvider)\n  }, [lcd, addressProvider])\n\n  return earn\n}\n\n/* queries */\nexport const useAnchorTotalDeposit = () => {\n  const earn = useAnchorEarn()\n  const address = useAddress()\n\n  return useQuery(\n    [queryKey.Anchor.TotalDeposit, address],\n    async () => {\n      if (!address) return \"0\"\n      const deposit = await earn.getTotalDeposit({ address, market })\n      return toAmount(deposit)\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useAnchorAPY = () => {\n  const earn = useAnchorEarn()\n  return useQuery([queryKey.Anchor.APY], () => earn.getAPY({ market }), {\n    ...RefetchOptions.INFINITY,\n  })\n}\n\nexport const useAnchorExchangeRate = () => {\n  const lcd = useLCDClient()\n  const addressProvider = useAddressProvider()\n\n  return useQuery(\n    [queryKey.Anchor.MarketEpochState],\n    async () => {\n      const { exchange_rate } = await queryMarketEpochState({ lcd, market })(\n        addressProvider\n      )\n\n      return exchange_rate\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useAnchorGetMsgs = (rate: string) => {\n  const address = useAddress()\n  const addressProvider = useAddressProvider()\n\n  const getMsgs = useCallback(\n    (value: string, type: AnchorEarnAction) => {\n      if (!address) return\n      if (!has(value)) throw new Error(`Anchor tx: Invalid amount ${value}`)\n\n      const amount = {\n        [AnchorEarnAction.DEPOSIT]: readAmount(value),\n        [AnchorEarnAction.WITHDRAW]: readAmount(\n          new BigNumber(value).div(rate).toString()\n        ),\n      }[type]\n\n      const params = { address, amount, market }\n\n      return {\n        [AnchorEarnAction.DEPOSIT]:\n          fabricateMarketDepositStableCoin(params)(addressProvider),\n        [AnchorEarnAction.WITHDRAW]:\n          fabricateMarketRedeemStable(params)(addressProvider),\n      }[type]\n    },\n    [address, addressProvider, rate]\n  )\n\n  return getMsgs\n}\n\n/* helpers */\nexport const getAvailableAnchorEarnActions = (\n  deposit: Amount,\n  bankBalance: Coins\n) => {\n  return {\n    [AnchorEarnAction.DEPOSIT]: has(getAmount(bankBalance, \"uusd\")),\n    [AnchorEarnAction.WITHDRAW]: has(deposit),\n  }\n}\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { Pre } from \"components/general\"\nimport { Grid } from \"components/layout\"\nimport { Form, FormItem, FormWarning } from \"components/form\"\nimport { Input, RadioButton, Submit } from \"components/form\"\nimport { Modal } from \"components/feedback\"\nimport useAuth from \"../../hooks/useAuth\"\nimport QRCode from \"../../components/QRCode\"\n\nenum Mode {\n  QR = \"QR code\",\n  KEY = \"Private key\",\n}\n\ninterface Values {\n  mode: Mode\n  password: string\n}\n\nconst ExportWalletForm = () => {\n  const { t } = useTranslation()\n  const { validatePassword, encodeEncryptedWallet } = useAuth()\n\n  /* form */\n  const form = useForm<Values>({\n    mode: \"onChange\",\n    defaultValues: { mode: Mode.QR },\n  })\n\n  const { register, watch, handleSubmit, formState } = form\n  const { errors } = formState\n  const { mode } = watch()\n\n  /* submit */\n  const [encoded, setEncoded] = useState<string>()\n  const submit = ({ password }: Values) => {\n    const encoded = encodeEncryptedWallet(password)\n    setEncoded(encoded)\n  }\n\n  /* reset */\n  const reset = () => {\n    form.reset()\n    setEncoded(undefined)\n  }\n\n  /* render */\n  const render = {\n    [Mode.QR]: () => (\n      <QRCode value={`terrastation://wallet_recover/?payload=${encoded}`} />\n    ),\n    [Mode.KEY]: () => (\n      <Pre normal break copy>\n        {encoded}\n      </Pre>\n    ),\n  }\n\n  return (\n    <>\n      {encoded && (\n        <Modal title={mode} isOpen onRequestClose={reset}>\n          <Grid gap={20}>\n            <FormWarning>{t(\"Keep this private\")}</FormWarning>\n            {render[mode]()}\n          </Grid>\n        </Modal>\n      )}\n\n      <Form onSubmit={handleSubmit(submit)}>\n        <section>\n          {Object.values(Mode).map((key) => {\n            const checked = mode === key\n\n            return (\n              <RadioButton\n                {...register(\"mode\")}\n                value={key}\n                checked={checked}\n                key={key}\n              >\n                {key}\n              </RadioButton>\n            )\n          })}\n        </section>\n\n        <FormItem label={t(\"Password\")} error={errors.password?.message}>\n          <Input\n            {...register(\"password\", { validate: validatePassword })}\n            type=\"password\"\n            autoFocus\n          />\n        </FormItem>\n\n        <Submit />\n      </Form>\n    </>\n  )\n}\n\nexport default ExportWalletForm\n","import { ReactComponent as Logo } from \"./AnchorEarnLogo.svg\"\nimport \"./AnchorEarnLogo.scss\"\n\nconst AnchorEarnLogo = () => {\n  return <Logo />\n}\n\nexport default AnchorEarnLogo\n","import { PropsWithChildren } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { readPercent } from \"@terra.kitchen/utils\"\nimport { useAnchorAPY } from \"data/external/anchor\"\nimport { Card } from \"components/layout\"\nimport AnchorEarnLogo from \"styles/images/AnchorEarn/AnchorEarnLogo\"\nimport styles from \"./AnchorEarnPromote.module.scss\"\n\nconst AnchorEarnPromote = ({ children }: PropsWithChildren<{}>) => {\n  const { t } = useTranslation()\n  const { data: apy, ...state } = useAnchorAPY()\n\n  return (\n    <Card {...state} title={<AnchorEarnLogo />} className={styles.card}>\n      {apy && (\n        <header className={styles.header}>\n          {t(\"APY\")} <strong>{readPercent(apy)}</strong>\n        </header>\n      )}\n\n      <p>\n        {t(\n          \"Anchor is a savings protocol that offers stable yields on UST deposits\"\n        )}\n      </p>\n\n      {children && <footer className={styles.footer}>{children}</footer>}\n    </Card>\n  )\n}\n\nexport default AnchorEarnPromote\n","import { useTranslation } from \"react-i18next\"\nimport { combineState } from \"data/query\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { getAvailableAnchorEarnActions } from \"data/external/anchor\"\nimport { useAnchorExchangeRate } from \"data/external/anchor\"\nimport { useAnchorTotalDeposit } from \"data/external/anchor\"\nimport { Auto, Page, Tabs, Card } from \"components/layout\"\nimport AnchorEarnPromote from \"app/containers/AnchorEarnPromote\"\nimport TxContext from \"../TxContext\"\nimport AnchorEarnForm, { AnchorEarnAction } from \"./AnchorEarnForm\"\n\nconst AnchorEarnTx = () => {\n  const { t } = useTranslation()\n\n  const bankBalance = useBankBalance()\n  const { data: deposit, ...totalDepositState } = useAnchorTotalDeposit()\n  const { data: rate, ...exchangeRateState } = useAnchorExchangeRate()\n  const state = combineState(totalDepositState, exchangeRateState)\n\n  const getDisabled = (tab: AnchorEarnAction) => {\n    if (!deposit) return true\n    const availableActions = getAvailableAnchorEarnActions(deposit, bankBalance)\n    return !availableActions[tab]\n  }\n\n  const renderTab = (tab: AnchorEarnAction) => {\n    if (!(deposit && rate)) return null\n    return <AnchorEarnForm tab={tab} deposit={deposit} rate={rate} />\n  }\n\n  return (\n    <Page {...state} title={t(\"Earn\")}>\n      <Tabs\n        tabs={Object.values(AnchorEarnAction).map((tab) => ({\n          key: tab,\n          tab,\n          children: (\n            <Auto\n              columns={[\n                <Card>\n                  <TxContext>{renderTab(tab)}</TxContext>\n                </Card>,\n                <AnchorEarnPromote />,\n              ]}\n            />\n          ),\n          disabled: getDisabled(tab),\n        }))}\n        type=\"card\"\n      />\n    </Page>\n  )\n}\n\nexport default AnchorEarnTx\n","import { useSearchParams } from \"react-router-dom\"\n\nconst useDefaultValues = () => {\n  const [searchParams] = useSearchParams()\n  const address = searchParams.get(\"address\") || \"\"\n  const tx = searchParams.get(\"tx\") || \"\"\n  return { address, tx: decodeURIComponent(tx) }\n}\n\nexport default useDefaultValues\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport { Wrong } from \"components/feedback\"\nimport { isWallet, useAuth } from \"auth\"\nimport TxContext from \"../../txs/TxContext\"\nimport useDefaultValues from \"./utils/useDefaultValues\"\nimport SignMultisigTxForm from \"./SignMultisigTxForm\"\n\nconst SignMultisigTxPage = () => {\n  const { t } = useTranslation()\n  const { wallet } = useAuth()\n  const defaultValues = useDefaultValues()\n\n  const render = () => {\n    if (isWallet.multisig(wallet))\n      return (\n        <Card>\n          <Wrong>{t(\"Multisig wallet cannot sign a tx\")}</Wrong>\n        </Card>\n      )\n\n    return (\n      <TxContext>\n        <SignMultisigTxForm defaultValues={defaultValues} />\n      </TxContext>\n    )\n  }\n\n  return <Page title={t(\"Sign a multisig tx\")}>{render()}</Page>\n}\n\nexport default SignMultisigTxPage\n","import { getStoredWallet } from \"./keystore\"\nimport wordlist from \"./wordlist.json\"\n\nconst validate = {\n  name: {\n    alphanumeric: (name: string) =>\n      /^[a-z0-9-_]+$/.test(name) || \"Enter lowercase alphanumeric characters\",\n    length: (name: string) =>\n      (name.length >= 3 && name.length <= 20) ||\n      \"Enter 3-20 lowercase alphanumeric characters\",\n    exists: (name: string) => {\n      try {\n        const { address } = getStoredWallet(name)\n        return `Already exists: ${address}`\n      } catch {\n        return true\n      }\n    },\n  },\n\n  password: {\n    required: (password: string) => !!password.length || \"Password is required\",\n    length: (password: string) =>\n      password.length >= 10 || \"Password must be longer than 10 characters\",\n  },\n\n  confirm: (password: string, confirm: string) =>\n    password === confirm || \"Password does not match\",\n\n  mnemonic: {\n    length: (mnemonic: string) => {\n      const seed = mnemonic.trim().split(\" \")\n      return seed.length === 12 || seed.length === 24 || \"Invalid mnemonic\"\n    },\n    wordlist: (mnemonic: string) => {\n      const seed = mnemonic.trim().split(\" \")\n      const invalid = seed.find((word) => !wordlist.includes(word))\n      return !invalid || `${invalid} is invalid`\n    },\n  },\n\n  index: {\n    integer: (index: number) =>\n      Number.isInteger(index) || \"Index must be an integer\",\n    range: (index: number) =>\n      (index >= 0 && index <= 1e6) || \"Index must be between 0 and 1000000\",\n  },\n}\n\nexport default validate\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useFieldArray, useForm } from \"react-hook-form\"\nimport axios from \"axios\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport RemoveIcon from \"@mui/icons-material/Remove\"\nimport { AccAddress, SimplePublicKey } from \"@terra-money/terra.js\"\nimport { LegacyAminoMultisigPublicKey } from \"@terra-money/terra.js\"\nimport { SAMPLE_ADDRESS } from \"config/constants\"\nimport { getErrorMessage } from \"utils/error\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\nimport { Grid } from \"components/layout\"\nimport { Form, FormGroup, FormItem } from \"components/form\"\nimport { FormError, FormWarning } from \"components/form\"\nimport { Input, Submit, Paste } from \"components/form\"\nimport validate from \"../../scripts/validate\"\n\ninterface Values {\n  addresses: { value: AccAddress }[]\n  threshold: number\n}\n\ninterface Props {\n  onCreated: (publicKey: LegacyAminoMultisigPublicKey) => void\n}\n\nconst CreateMultisigWalletForm = ({ onCreated }: Props) => {\n  const { t } = useTranslation()\n  const lcd = useLCDClient()\n\n  /* form */\n  const defaultValues = {\n    addresses: [{ value: \"\" }, { value: \"\" }, { value: \"\" }],\n    threshold: 2,\n  }\n\n  const form = useForm<Values>({ mode: \"onChange\", defaultValues })\n\n  const { register, control, handleSubmit, formState } = form\n  const { errors, isValid } = formState\n\n  const fieldArray = useFieldArray({ control, name: \"addresses\" })\n  const { fields, append, remove } = fieldArray\n\n  const [error, setError] = useState<Error>()\n\n  const paste = async (lines: string[]) => {\n    const values = lines.filter(AccAddress.validate).map((value) => ({ value }))\n    if (values.length) fieldArray.replace(values)\n  }\n\n  /* query */\n  const getPublicKey = async (address: AccAddress) => {\n    const accountInfo = await lcd.auth.accountInfo(address)\n    const publicKey = accountInfo.getPublicKey()\n    if (!publicKey) throw new Error(`Public key is null: ${address}`)\n    return publicKey\n  }\n\n  const getPublicKeys = async (addresses: AccAddress[]) => {\n    const results = await Promise.allSettled(addresses.map(getPublicKey))\n\n    return results.map((result) => {\n      if (result.status === \"rejected\") {\n        const message = axios.isAxiosError(result.reason)\n          ? getErrorMessage(result.reason)\n          : result.reason\n\n        throw new Error(message)\n      }\n\n      return result.value as SimplePublicKey\n    })\n  }\n\n  /* submit */\n  const [submitting, setSubmitting] = useState(false)\n\n  const submit = async ({ addresses, threshold }: Values) => {\n    setSubmitting(true)\n\n    try {\n      const values = addresses.map(({ value }) => value)\n      const publicKeys = await getPublicKeys(values)\n      const publicKey = new LegacyAminoMultisigPublicKey(threshold, publicKeys)\n      onCreated(publicKey)\n    } catch (error) {\n      setError(error as Error)\n    }\n\n    setSubmitting(false)\n  }\n\n  /* render */\n  const length = fields.length\n  return (\n    <Form onSubmit={handleSubmit(submit)}>\n      <Grid gap={4}>\n        <FormWarning>\n          {t(\n            \"A new multisig wallet is created when the order of addresses or the threshold change\"\n          )}\n        </FormWarning>\n        <FormWarning>{t(\"Participants must have coins\")}</FormWarning>\n      </Grid>\n\n      <FormItem label={t(\"Address\")} extra={<Paste paste={paste} />}>\n        {fields.map(({ id }, index) => (\n          <FormGroup\n            button={\n              length - 1 === index\n                ? {\n                    onClick: () => append({ value: \"\" }),\n                    children: <AddIcon style={{ fontSize: 18 }} />,\n                  }\n                : {\n                    onClick: () => remove(index),\n                    children: <RemoveIcon style={{ fontSize: 18 }} />,\n                  }\n            }\n            key={id}\n          >\n            <FormItem>\n              <Input\n                {...register(`addresses.${index}.value`, {\n                  validate: AccAddress.validate,\n                })}\n                placeholder={SAMPLE_ADDRESS}\n              />\n            </FormItem>\n          </FormGroup>\n        ))}\n      </FormItem>\n\n      <FormItem label={t(\"Threshold\")} error={errors.threshold?.message}>\n        <Input\n          {...register(\"threshold\", {\n            valueAsNumber: true,\n            validate: validate.index,\n          })}\n          placeholder={String(Math.ceil(length / 2))}\n        />\n      </FormItem>\n\n      {error && <FormError>{error.message}</FormError>}\n\n      <Submit submitting={submitting} disabled={!isValid} />\n    </Form>\n  )\n}\n\nexport default CreateMultisigWalletForm\n","import { PropsWithChildren } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Modal } from \"components/feedback\"\nimport { Props as ModalProps } from \"components/feedback/Modal\"\nimport { Submit } from \"components/form\"\n\nconst ConfirmModal = (props: PropsWithChildren<Omit<ModalProps, \"isOpen\">>) => {\n  const { children, ...rest } = props\n  const { t } = useTranslation()\n\n  return (\n    <Modal\n      {...rest}\n      isOpen\n      closeIcon={false}\n      title={children}\n      footer={(close) => (\n        <Submit type=\"button\" onClick={close}>\n          {t(\"Confirm\")}\n        </Submit>\n      )}\n      confirm\n    />\n  )\n}\n\nexport default ConfirmModal\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { LegacyAminoMultisigPublicKey } from \"@terra-money/terra.js\"\nimport { useAddress } from \"data/wallet\"\nimport { useAccountInfo } from \"data/queries/auth\"\nimport { Card, Grid, Page } from \"components/layout\"\nimport { FormHelp } from \"components/form\"\nimport { Wrong } from \"components/feedback\"\nimport TxContext from \"txs/TxContext\"\nimport { isWallet, useAuth } from \"auth\"\nimport CreateMultisigWalletForm from \"auth/modules/create/CreateMultisigWalletForm\"\nimport ConfirmModal from \"auth/modules/manage/ConfirmModal\"\nimport useDefaultValues from \"./utils/useDefaultValues\"\nimport PostMultisigTxForm from \"./PostMultisigTxForm\"\n\nconst PostMultisigTxPage = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const { wallet } = useAuth()\n\n  /* account info */\n  const { data: account, ...state } = useAccountInfo()\n\n  /* public key from network */\n  const [publicKeyFromNetwork, setPublicKeyFromNetwork] =\n    useState<LegacyAminoMultisigPublicKey>()\n  const [errorMessage, setErrorMessage] = useState<string>()\n\n  const onCreated = (publicKey: LegacyAminoMultisigPublicKey) => {\n    if (publicKey.address() !== address)\n      setErrorMessage(t(\"Data does not match the connected wallet\"))\n    else setPublicKeyFromNetwork(publicKey)\n  }\n\n  /* render */\n  const defaultValues = useDefaultValues()\n  const render = () => {\n    if (!(account && address)) return null\n\n    if (!isWallet.multisig(wallet))\n      return (\n        <Card>\n          <Wrong>{t(\"Connect a multisig wallet to post a multisig tx\")}</Wrong>\n        </Card>\n      )\n\n    const publicKey = account.getPublicKey() ?? publicKeyFromNetwork\n    const sequence = account.getSequenceNumber()\n\n    if (!(publicKey instanceof LegacyAminoMultisigPublicKey))\n      return (\n        <Card>\n          <Grid gap={4}>\n            <FormHelp>\n              {t(\n                \"This multisig wallet has no transaction history. The addresses and the threshold must be submitted again until a transaction history exist for this wallet.\"\n              )}\n            </FormHelp>\n            <CreateMultisigWalletForm onCreated={onCreated} />\n          </Grid>\n\n          {errorMessage && (\n            <ConfirmModal onRequestClose={() => setErrorMessage(undefined)}>\n              {errorMessage}\n            </ConfirmModal>\n          )}\n        </Card>\n      )\n\n    const signatures = publicKey.pubkeys.map((pubKey) => {\n      const address = pubKey.address()\n      const publicKey = pubKey.toData()\n      return { address, publicKey, signature: \"\" }\n    })\n\n    return (\n      <PostMultisigTxForm\n        publicKey={publicKey}\n        sequence={sequence}\n        defaultValues={{ ...defaultValues, address, signatures }}\n      />\n    )\n  }\n\n  const publicKey = account?.getPublicKey() ?? publicKeyFromNetwork\n  return (\n    <Page {...state} title={t(\"Post a multisig tx\")} small={!publicKey}>\n      <TxContext>{render()}</TxContext>\n    </Page>\n  )\n}\n\nexport default PostMultisigTxPage\n","import { useQuery } from \"react-query\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useAddress } from \"../wallet\"\nimport { useLCDClient } from \"./lcdClient\"\n\nexport const useAccountInfo = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.auth.accountInfo],\n    async () => {\n      if (!address) throw new Error(\"Wallet is not connected\")\n      return await lcd.auth.accountInfo(address)\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n","import { useTranslation } from \"react-i18next\"\nimport { useNavigate, useParams } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport { Form, FormItem } from \"components/form\"\nimport { Input, Submit } from \"components/form\"\nimport { testPassword, unlockWallet } from \"../../scripts/keystore\"\nimport useAuth from \"../../hooks/useAuth\"\n\ninterface Values {\n  password: string\n}\n\nconst UnlockForm = () => {\n  const { t } = useTranslation()\n  const { name } = useParams()\n  const navigate = useNavigate()\n  const { connect } = useAuth()\n\n  if (!name) throw new Error(\"Invalid path\")\n\n  /* form */\n  const form = useForm<Values>({ mode: \"onChange\" })\n  const { register, handleSubmit, formState } = form\n  const { errors, isValid } = formState\n\n  /* submit */\n  const submit = ({ password }: Values) => {\n    unlockWallet(name, password)\n    connect(name)\n    navigate(\"/wallet\", { replace: true })\n  }\n\n  return (\n    <Form onSubmit={handleSubmit(submit)}>\n      <FormItem label={t(\"Password\")} error={errors.password?.message}>\n        <Input\n          {...register(\"password\", {\n            validate: (password) => {\n              try {\n                testPassword({ name, password })\n              } catch {\n                return \"Incorrect password\"\n              }\n            },\n          })}\n          type=\"password\"\n          autoFocus\n        />\n      </FormItem>\n\n      <Submit disabled={!isValid} />\n    </Form>\n  )\n}\n\nexport default UnlockForm\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport UnlockForm from \"./UnlockForm\"\n\nconst UnlockPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Unlock wallet\")} small>\n      <Card>\n        <UnlockForm />\n      </Card>\n    </Page>\n  )\n}\n\nexport default UnlockPage\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport UsbIcon from \"@mui/icons-material/Usb\"\nimport { LedgerKey } from \"@terra-money/ledger-terra-js\"\nimport BluetoothTransport from \"@ledgerhq/hw-transport-web-ble\"\nimport { LEDGER_TRANSPORT_TIMEOUT } from \"config/constants\"\nimport { Form, FormError, FormItem, FormWarning } from \"components/form\"\nimport { Checkbox, Input, Submit } from \"components/form\"\nimport validate from \"../scripts/validate\"\nimport useAuth from \"../hooks/useAuth\"\n\ninterface Values {\n  index: number\n  bluetooth: boolean\n}\n\nconst AccessWithLedgerForm = () => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const { connectLedger } = useAuth()\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<Error>()\n\n  /* form */\n  const form = useForm<Values>({\n    mode: \"onChange\",\n    defaultValues: { index: 0, bluetooth: false },\n  })\n\n  const { register, watch, handleSubmit, formState } = form\n  const { errors } = formState\n  const { index, bluetooth } = watch()\n\n  const submit = async ({ index, bluetooth }: Values) => {\n    setIsLoading(true)\n    setError(undefined)\n\n    try {\n      const transport = bluetooth\n        ? await BluetoothTransport.create(LEDGER_TRANSPORT_TIMEOUT)\n        : undefined\n\n      const { accAddress } = await LedgerKey.create(transport, index)\n      connectLedger(accAddress, index, bluetooth)\n      navigate(\"/wallet\", { replace: true })\n    } catch (error) {\n      setError(error as Error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <Form onSubmit={handleSubmit(submit)}>\n      <section className=\"center\">\n        <UsbIcon style={{ fontSize: 56 }} />\n        <p>{t(\"Plug in a Ledger device\")}</p>\n      </section>\n\n      <FormItem /* do not translate this */\n        label=\"Index\"\n        error={errors.index?.message}\n      >\n        <Input\n          {...register(\"index\", {\n            valueAsNumber: true,\n            validate: validate.index,\n          })}\n        />\n\n        {index !== 0 && <FormWarning>{t(\"Default index is 0\")}</FormWarning>}\n\n        <Checkbox {...register(\"bluetooth\")} checked={bluetooth}>\n          Use Bluetooth\n        </Checkbox>\n      </FormItem>\n\n      {error && <FormError>{error.message}</FormError>}\n\n      <Submit submitting={isLoading}>{t(\"Connect\")}</Submit>\n    </Form>\n  )\n}\n\nexport default AccessWithLedgerForm\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport AccessWithLedgerForm from \"./AccessWithLedgerForm\"\n\nconst AccessWithLedgerPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Access with ledger\")} small>\n      <Card>\n        <AccessWithLedgerForm />\n      </Card>\n    </Page>\n  )\n}\n\nexport default AccessWithLedgerPage\n","import { useEffect } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { Grid } from \"components/layout\"\nimport { Form, FormItem, FormWarning, Submit, Value } from \"components/form\"\nimport { Checkbox, Input } from \"components/form\"\nimport validate from \"../../scripts/validate\"\nimport { useCreateWallet, Values as DefaultValues } from \"./CreateWalletWizard\"\n\ninterface Values extends DefaultValues {\n  confirm: string\n  checked?: boolean\n}\n\nconst CreateWalletForm = () => {\n  const { t } = useTranslation()\n  const { setStep, generated, values, setValues } = useCreateWallet()\n\n  /* form */\n  const form = useForm<Values>({\n    mode: \"onChange\",\n    defaultValues: { ...values, confirm: \"\", checked: false },\n  })\n\n  const { register, watch, handleSubmit, formState, reset } = form\n  const { errors, isValid } = formState\n  const { password, mnemonic, index, checked } = watch()\n\n  useEffect(() => {\n    return () => reset()\n  }, [reset])\n\n  const submit = ({ name, password, mnemonic, index }: Values) => {\n    setValues({ name, password, mnemonic: mnemonic.trim(), index })\n    setStep(2)\n  }\n\n  return (\n    <Form onSubmit={handleSubmit(submit)}>\n      <FormItem label={t(\"Wallet name\")} error={errors.name?.message}>\n        <Input {...register(\"name\", { validate: validate.name })} autoFocus />\n      </FormItem>\n\n      <FormItem label={t(\"Password\")} error={errors.password?.message}>\n        <Input\n          {...register(\"password\", { validate: validate.password })}\n          type=\"password\"\n        />\n      </FormItem>\n\n      <FormItem label={t(\"Confirm password\")} error={errors.confirm?.message}>\n        <Input\n          {...register(\"confirm\", {\n            validate: (confirm) => validate.confirm(password, confirm),\n          })}\n          type=\"password\"\n        />\n      </FormItem>\n\n      <FormItem label={t(\"Mnemonic\")} error={errors.mnemonic?.message}>\n        {generated ? (\n          <Value>{mnemonic}</Value>\n        ) : (\n          <Input\n            type=\"password\"\n            {...register(\"mnemonic\", { validate: validate.mnemonic })}\n          />\n        )}\n      </FormItem>\n\n      {!generated && (\n        <FormItem /* do not translate this */\n          label=\"Index\"\n          error={errors.index?.message}\n        >\n          <Input\n            {...register(\"index\", {\n              valueAsNumber: true,\n              validate: validate.index,\n            })}\n          />\n          {index !== 0 && <FormWarning>{t(\"Default index is 0\")}</FormWarning>}\n        </FormItem>\n      )}\n\n      {generated && (\n        <>\n          <Grid gap={4}>\n            <FormWarning>\n              {t(\n                \"Never share the mnemonic with others or enter it in unverified sites\"\n              )}\n            </FormWarning>\n          </Grid>\n\n          <Checkbox\n            {...register(\"checked\", { required: true })}\n            checked={checked}\n          >\n            {t(\"I have written down the mnemonic\")}\n          </Checkbox>\n        </>\n      )}\n\n      <Submit disabled={!isValid} />\n    </Form>\n  )\n}\n\nexport default CreateWalletForm\n","import { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport DoneAllIcon from \"@mui/icons-material/DoneAll\"\nimport { Grid } from \"components/layout\"\nimport { Submit } from \"components/form\"\nimport { Details } from \"components/display\"\nimport useAuth from \"../../hooks/useAuth\"\n\nconst CreatedWallet = ({ name, address }: SingleWallet) => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const { connect } = useAuth()\n\n  const submit = () => {\n    connect(name)\n    navigate(\"/wallet\", { replace: true })\n  }\n\n  return (\n    <article>\n      <Grid gap={28}>\n        <header className=\"center\">\n          <DoneAllIcon className=\"success\" style={{ fontSize: 56 }} />\n          <h1>{t(\"Wallet generated successfully\")}</h1>\n        </header>\n\n        <Details>\n          <article>\n            <h1>{name}</h1>\n            <p>{address}</p>\n          </article>\n        </Details>\n\n        <Submit type=\"button\" onClick={submit}>\n          {t(\"Connect\")}\n        </Submit>\n      </Grid>\n    </article>\n  )\n}\n\nexport default CreatedWallet\n","import { ReactNode, useEffect, useState } from \"react\"\nimport { useLocation, useNavigate } from \"react-router-dom\"\nimport { MnemonicKey } from \"@terra-money/terra.js\"\nimport createContext from \"utils/createContext\"\nimport { addWallet } from \"../../scripts/keystore\"\nimport CreateWalletForm from \"./CreateWalletForm\"\nimport CreatedWallet from \"./CreatedWallet\"\n\nexport interface Values {\n  name: string\n  password: string\n  mnemonic: string\n  index: number\n}\n\n/* context */\ninterface CreateWallet {\n  /* step */\n  setStep: (index: number) => void\n\n  /* form values */\n  generated: boolean\n  values: Values\n  setValues: (values: Values) => void\n\n  /* create wallet */\n  createdWallet?: SingleWallet\n  createWallet: (coinType: Bip, index?: number) => void\n}\n\nexport const [useCreateWallet, CreateWalletProvider] =\n  createContext<CreateWallet>(\"useCreateWallet\")\n\ninterface Props {\n  defaultMnemonic?: string\n  beforeCreate: ReactNode\n}\n\nconst DefaultValues = { name: \"\", password: \"\", mnemonic: \"\", index: 0 }\n\nconst CreateWalletWizard = ({ defaultMnemonic = \"\", beforeCreate }: Props) => {\n  /* step */\n  const location = useLocation()\n  const navigate = useNavigate()\n  const step = Number(location.hash.replace(\"#\", \"\")) || 1\n  const setStep = (index: number) => navigate({ hash: String(index) })\n\n  /* form values */\n  const initial = { ...DefaultValues, mnemonic: defaultMnemonic }\n  const [values, setValues] = useState(initial)\n\n  /* create wallet */\n  const [createdWallet, setCreatedWallet] = useState<SingleWallet>()\n  const createWallet = (coinType: Bip, index = 0) => {\n    const { name, password, mnemonic } = values\n    const mk = new MnemonicKey({ mnemonic, coinType, index })\n    const address = mk.accAddress\n    addWallet({ name, password, address, key: mk.privateKey })\n    setCreatedWallet({ name, address })\n    setStep(3)\n  }\n\n  /* effect: reset memory on unmount */\n  useEffect(() => {\n    return () => {\n      setValues(DefaultValues)\n      setCreatedWallet(undefined)\n    }\n  }, [setValues])\n\n  /* render */\n  const render = () => {\n    switch (step) {\n      case 1:\n        return <CreateWalletForm />\n\n      case 2:\n        if (!values.mnemonic) setStep(1)\n        return beforeCreate\n\n      case 3:\n        if (!createdWallet) return null\n        return <CreatedWallet {...createdWallet} />\n    }\n  }\n\n  const generated = !!defaultMnemonic\n  const value = {\n    setStep,\n    generated,\n    values,\n    setValues,\n    createdWallet,\n    createWallet,\n  }\n\n  return <CreateWalletProvider value={value}>{render()}</CreateWalletProvider>\n}\n\nexport default CreateWalletWizard\n","import { useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport update from \"immutability-helper\"\nimport numeral from \"numeral\"\nimport DangerousOutlinedIcon from \"@mui/icons-material/DangerousOutlined\"\nimport shuffle from \"utils/shuffle\"\nimport { Form, FormItem, Submit } from \"components/form\"\nimport AuthButton from \"../../components/AuthButton\"\nimport { useCreateWallet } from \"./CreateWalletWizard\"\nimport styles from \"./Quiz.module.scss\"\nimport ConfirmModal from \"../manage/ConfirmModal\"\n\nexport interface QuizItem {\n  index: number\n  answer: string\n}\n\nconst Quiz = () => {\n  const { t } = useTranslation()\n  const { setStep, values, createWallet } = useCreateWallet()\n  const { mnemonic } = values\n\n  /* quiz */\n  const { quiz, hint, win } = useMemo(() => createQuiz(mnemonic), [mnemonic])\n  const [answers, setAnswers] = useState<[string, string]>([\"\", \"\"])\n\n  /* submit */\n  const { handleSubmit } = useForm()\n  const [incorrect, setIncorrect] = useState(false)\n  const submit = () => (win(answers) ? createWallet(330) : setIncorrect(true))\n  const reset = () => setStep(1)\n\n  return (\n    <Form onSubmit={handleSubmit(submit)}>\n      {incorrect && (\n        <ConfirmModal\n          onRequestClose={() => setIncorrect(false)}\n          icon={<DangerousOutlinedIcon fontSize=\"inherit\" className=\"danger\" />}\n        >\n          {t(\"Write down the mnemonic and choose the correct word\")}\n        </ConfirmModal>\n      )}\n\n      {quiz.map(({ index }, i) => (\n        <FormItem\n          // do not translate this unless you find a simple way to handle ordinal\n          label={`${numeral(index + 1).format(\"0o\")} word`}\n          key={index}\n        >\n          <section className={styles.hint}>\n            {hint.map((word) => {\n              const handleClick = () => {\n                const next = update(answers, { [i]: { $set: word } })\n                setAnswers(next)\n              }\n\n              return (\n                <AuthButton\n                  className={styles.item}\n                  onClick={handleClick}\n                  active={answers[i] === word}\n                  key={word}\n                >\n                  {word}\n                </AuthButton>\n              )\n            })}\n          </section>\n        </FormItem>\n      ))}\n\n      <Submit disabled={answers.some((answer) => !answer)} />\n      <button className={styles.reset} onClick={reset}>\n        {t(\"I haven't written down the mnemonic\")}\n      </button>\n    </Form>\n  )\n}\n\nexport default Quiz\n\n/* helpers */\nconst createQuiz = (mnemonic: string) => {\n  const deck = mnemonic.split(\" \").map((answer, index) => ({ index, answer }))\n  const draw = shuffle(deck).slice(0, 6)\n  const quiz = draw.slice(0, 2) as [QuizItem, QuizItem]\n\n  return {\n    quiz,\n    hint: shuffle(draw.map(({ answer }) => answer)),\n    win: (answers: [string, string]) =>\n      answers.every((answer, index) => quiz[index].answer === answer),\n  }\n}\n","import { useMemo } from \"react\"\nimport { MnemonicKey } from \"@terra-money/terra.js\"\nimport CreateWalletWizard from \"./CreateWalletWizard\"\nimport Quiz from \"./Quiz\"\n\nconst NewWalletForm = () => {\n  const { mnemonic } = useMemo(() => new MnemonicKey(), []) // must be memoized\n\n  return (\n    <CreateWalletWizard defaultMnemonic={mnemonic} beforeCreate={<Quiz />} />\n  )\n}\n\nexport default NewWalletForm\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport NewWalletForm from \"./NewWalletForm\"\n\nconst NewWalletPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"New wallet\")} small>\n      <Card>\n        <NewWalletForm />\n      </Card>\n    </Page>\n  )\n}\n\nexport default NewWalletPage\n","import { useTranslation } from \"react-i18next\"\nimport { useQuery } from \"react-query\"\nimport { useForm } from \"react-hook-form\"\nimport { readAmount, readDenom } from \"@terra.kitchen/utils\"\nimport { MnemonicKey, AccAddress } from \"@terra-money/terra.js\"\nimport { Coins, Delegation, UnbondingDelegation } from \"@terra-money/terra.js\"\nimport { sortCoins } from \"utils/coin\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { useThemeAnimation } from \"data/settings/Theme\"\nimport { Flex, Grid } from \"components/layout\"\nimport { Form, Submit } from \"components/form\"\nimport { Tag } from \"components/display\"\nimport AuthButton from \"../../components/AuthButton\"\nimport { useCreateWallet } from \"./CreateWalletWizard\"\nimport styles from \"./SelectAddress.module.scss\"\n\nconst SelectAddress = () => {\n  const { t } = useTranslation()\n  const currency = useCurrency()\n  const lcd = useLCDClient()\n  const { values, createWallet } = useCreateWallet()\n  const { mnemonic, index } = values\n\n  /* query */\n  const { data: results } = useQuery(\n    [\"mnemonic\", mnemonic, index],\n    async () => {\n      const results = await Promise.allSettled(\n        ([118, 330] as const).map(async (bip) => {\n          const mk = new MnemonicKey({ mnemonic, coinType: bip, index })\n          const address = mk.accAddress\n          const [balance] = await lcd.bank.balance(address)\n          const [delegations] = await lcd.staking.delegations(address)\n          const [unbondings] = await lcd.staking.unbondingDelegations(address)\n          return { address, bip, index, balance, delegations, unbondings }\n        })\n      )\n\n      return results.map((result) => {\n        if (result.status === \"rejected\") throw new Error()\n        return result.value\n      })\n    },\n    {\n      onSuccess: (results) => {\n        const account118 = results.find(({ bip }) => bip === 118)\n        if (!account118) return\n        const { balance, delegations, unbondings } = account118\n        const is118Empty =\n          !balance.toData().length && !delegations.length && !unbondings.length\n        if (is118Empty) createWallet(330, index)\n      },\n    }\n  )\n\n  /* form */\n  const form = useForm<{ bip?: Bip }>()\n  const { watch, setValue, handleSubmit } = form\n  const { bip } = watch()\n\n  const submit = ({ bip }: { bip?: Bip }) => {\n    if (!bip) return\n    createWallet(bip, index)\n  }\n\n  /* render */\n  const animation = useThemeAnimation()\n\n  if (!results)\n    return (\n      <Flex>\n        <img src={animation} width={80} height={80} alt={t(\"Loading...\")} />\n      </Flex>\n    )\n\n  interface Details {\n    address: AccAddress\n    bip: Bip\n    balance: Coins\n    delegations: Delegation[]\n    unbondings: UnbondingDelegation[]\n  }\n\n  const renderDetails = ({ address, bip, ...rest }: Details) => {\n    const { balance, delegations, unbondings } = rest\n    const coins = sortCoins(balance, currency)\n    const length = coins.length\n\n    return (\n      <Grid gap={4}>\n        <Grid gap={12}>\n          <Flex gap={8} start>\n            <Tag color=\"info\" small>\n              {bip}\n            </Tag>\n\n            {!!delegations.length && (\n              <Tag color=\"info\" small>\n                {t(\"Delegated\")}\n              </Tag>\n            )}\n\n            {!!unbondings.length && (\n              <Tag color=\"info\" small>\n                {t(\"Undelegated\")}\n              </Tag>\n            )}\n          </Flex>\n\n          <h1>{address}</h1>\n        </Grid>\n\n        <Flex gap={4} start className={styles.coins}>\n          {coins\n            .slice(0, 3)\n            .map((coin) =>\n              [readAmount(coin.amount), readDenom(coin.denom)].join(\" \")\n            )\n            .join(\", \")}\n\n          {length - 3 > 0 && (\n            <span className=\"muted\">\n              {t(\"+{{length}} coins\", { length: length - 3 })}\n            </span>\n          )}\n        </Flex>\n      </Grid>\n    )\n  }\n\n  return (\n    <Grid gap={20}>\n      <Form onSubmit={handleSubmit(submit)}>\n        {results.map((item) => {\n          return (\n            <AuthButton\n              className={styles.button}\n              onClick={() => setValue(\"bip\", item.bip)}\n              active={item.bip === bip}\n              key={item.bip}\n            >\n              {renderDetails(item)}\n            </AuthButton>\n          )\n        })}\n\n        <Submit />\n      </Form>\n    </Grid>\n  )\n}\n\nexport default SelectAddress\n","import CreateWalletWizard from \"./CreateWalletWizard\"\nimport SelectAddress from \"./SelectAddress\"\n\nconst RecoverWalletForm = () => {\n  return <CreateWalletWizard beforeCreate={<SelectAddress />} />\n}\n\nexport default RecoverWalletForm\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport RecoverWalletForm from \"./RecoverWalletForm\"\n\nconst RecoverWalletPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Recover wallet\")} small>\n      <Card>\n        <RecoverWalletForm />\n      </Card>\n    </Page>\n  )\n}\n\nexport default RecoverWalletPage\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport ImportWalletForm from \"./ImportWalletForm\"\n\nconst ImportWalletPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Import wallet\")} small>\n      <Card>\n        <ImportWalletForm />\n      </Card>\n    </Page>\n  )\n}\n\nexport default ImportWalletPage\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { LegacyAminoMultisigPublicKey } from \"@terra-money/terra.js\"\nimport { Form, FormItem } from \"components/form\"\nimport { Input, Submit } from \"components/form\"\nimport { Modal } from \"components/feedback\"\nimport { addWallet } from \"../../scripts/keystore\"\nimport validate from \"../../scripts/validate\"\nimport CreateMultisigWalletForm from \"./CreateMultisigWalletForm\"\nimport CreatedWallet from \"./CreatedWallet\"\n\ninterface Values {\n  name: string\n}\n\nconst NewMultisigWalletForm = () => {\n  const { t } = useTranslation()\n\n  /* form */\n  const form = useForm<Values>({\n    mode: \"onChange\",\n    defaultValues: { name: \"\" },\n  })\n\n  const { register, handleSubmit, formState } = form\n  const { errors, isValid } = formState\n\n  /* submit */\n  const [publicKey, setPublicKey] = useState<LegacyAminoMultisigPublicKey>()\n  const [wallet, setWallet] = useState<MultisigWallet>()\n\n  const submit = async ({ name }: Values) => {\n    if (!publicKey) return\n    const address = publicKey.address()\n    const wallet = { name, address, multisig: true as const }\n\n    addWallet(wallet)\n    setWallet(wallet)\n  }\n\n  /* render */\n  return (\n    <>\n      {wallet && (\n        <Modal isOpen>\n          <CreatedWallet {...wallet} />\n        </Modal>\n      )}\n\n      {publicKey ? (\n        <Form onSubmit={handleSubmit(submit)}>\n          <FormItem label={t(\"Wallet name\")} error={errors.name?.message}>\n            <Input\n              {...register(\"name\", { validate: validate.name })}\n              autoFocus\n            />\n          </FormItem>\n\n          <Submit disabled={!isValid} />\n        </Form>\n      ) : (\n        <CreateMultisigWalletForm onCreated={setPublicKey} />\n      )}\n    </>\n  )\n}\n\nexport default NewMultisigWalletForm\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport NewMultisigWalletForm from \"./NewMultisigWalletForm\"\n\nconst NewMultisigWalletPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"New multisig wallet\")} small>\n      <Card>\n        <NewMultisigWalletForm />\n      </Card>\n    </Page>\n  )\n}\n\nexport default NewMultisigWalletPage\n","import { ReactNode } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styles from \"./AuthList.module.scss\"\n\ntype Item =\n  | { to: string; children: string; icon: ReactNode }\n  | { onClick: () => void; children: string; icon: ReactNode }\n\nconst AuthList = ({ list }: { list: Item[] }) => {\n  const renderItem = ({ children, icon, ...props }: Item) => {\n    if (\"onClick\" in props) {\n      const { onClick } = props\n      return (\n        <button className={styles.link} onClick={onClick} key={children}>\n          {children}\n          {icon}\n        </button>\n      )\n    }\n\n    const { to } = props\n    return (\n      <Link to={to} className={styles.link} key={children}>\n        {children}\n        {icon}\n      </Link>\n    )\n  }\n\n  return <div className={styles.list}>{list.map(renderItem)}</div>\n}\n\nexport default AuthList\n","import { PropsWithChildren } from \"react\"\nimport { Auto } from \"components/layout\"\nimport SwitchWallet from \"../select/SwitchWallet\"\n\nconst ConnectedWallet = ({ children }: PropsWithChildren<{}>) => {\n  return <Auto columns={[children, <SwitchWallet />]} />\n}\n\nexport default ConnectedWallet\n","import { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport QrCodeIcon from \"@mui/icons-material/QrCode\"\nimport PasswordIcon from \"@mui/icons-material/Password\"\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\"\nimport FactCheckOutlinedIcon from \"@mui/icons-material/FactCheckOutlined\"\nimport LogoutIcon from \"@mui/icons-material/Logout\"\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\"\nimport { Col, Page } from \"components/layout\"\nimport is from \"../../scripts/is\"\nimport useAuth from \"../../hooks/useAuth\"\nimport AuthList from \"../../components/AuthList\"\nimport ConnectedWallet from \"./ConnectedWallet\"\n\nexport const useManageWallet = () => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const { wallet, disconnect, lock } = useAuth()\n\n  const toExport = {\n    to: \"/auth/export\",\n    children: t(\"Export wallet\"),\n    icon: <QrCodeIcon />,\n  }\n\n  const toPassword = {\n    to: \"/auth/password\",\n    children: t(\"Change password\"),\n    icon: <PasswordIcon />,\n  }\n\n  const toDelete = {\n    to: \"/auth/delete\",\n    children: t(\"Delete wallet\"),\n    icon: <DeleteOutlineIcon />,\n  }\n\n  const toSignMultisig = {\n    to: \"/multisig/sign\",\n    children: t(\"Sign a multisig tx\"),\n    icon: <FactCheckOutlinedIcon />,\n  }\n\n  const toPostMultisig = {\n    to: \"/multisig/post\",\n    children: t(\"Post a multisig tx\"),\n    icon: <FactCheckOutlinedIcon />,\n  }\n\n  const disconnectWallet = {\n    onClick: () => {\n      disconnect()\n      navigate(\"/\", { replace: true })\n    },\n    children: t(\"Disconnect\"),\n    icon: <LogoutIcon />,\n  }\n\n  const lockWallet = {\n    onClick: () => {\n      lock()\n      navigate(\"/\", { replace: true })\n    },\n    children: t(\"Lock\"),\n    icon: <LockOutlinedIcon />,\n  }\n\n  if (!wallet) return\n\n  return is.multisig(wallet)\n    ? [toPostMultisig, toDelete, disconnectWallet]\n    : is.ledger(wallet)\n    ? [toSignMultisig, disconnectWallet]\n    : [toExport, toPassword, toDelete, toSignMultisig, lockWallet]\n}\n\nconst ManageWallets = () => {\n  const { t } = useTranslation()\n  const { available } = useAuth()\n  const list = useManageWallet()\n\n  return (\n    <Page title={t(\"Manage wallets\")}>\n      <Col>\n        <ConnectedWallet>\n          {list && <AuthList list={list} />}\n          {!!available.length && <AuthList list={available} />}\n        </ConnectedWallet>\n      </Col>\n    </Page>\n  )\n}\nexport default ManageWallets\n","import { Link } from \"react-router-dom\"\nimport { useTranslation } from \"react-i18next\"\nimport ArrowBackIosNewIcon from \"@mui/icons-material/ArrowBackIosNew\"\nimport styles from \"./GoBack.module.scss\"\n\nconst GoBack = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Link to=\"..\" className={styles.link}>\n      <ArrowBackIosNewIcon fontSize=\"inherit\" />\n      {t(\"Manage wallets\")}\n    </Link>\n  )\n}\n\nexport default GoBack\n","import { useEffect, useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\"\nimport { intervalToDuration } from \"date-fns\"\nimport DoneAllIcon from \"@mui/icons-material/DoneAll\"\nimport WarningAmberIcon from \"@mui/icons-material/WarningAmber\"\nimport CloseIcon from \"@mui/icons-material/Close\"\nimport CloseFullscreenIcon from \"@mui/icons-material/CloseFullscreen\"\nimport { isTxError, TxInfo } from \"@terra-money/terra.js\"\nimport * as ruleset from \"@terra-money/log-finder-ruleset\"\nimport useInterval from \"utils/hooks/useInterval\"\nimport { isBroadcastingState, latestTxState } from \"data/queries/tx\"\nimport { useTxInfo } from \"data/queries/tx\"\nimport { useThemeAnimation } from \"data/settings/Theme\"\nimport { useNetworkName } from \"data/wallet\"\nimport { Button, FinderLink, LinkButton } from \"components/general\"\nimport { Modal, LoadingCircular } from \"components/feedback\"\nimport { Flex } from \"components/layout\"\nimport TxMessage from \"app/containers/TxMessage\"\nimport styles from \"./LatestTx.module.scss\"\n\nconst { createActionRuleSet, getTxCanonicalMsgs, createLogMatcherForActions } =\n  ruleset\n\nenum Status {\n  LOADING = \"LOADING\",\n  SUCCESS = \"SUCCESS\",\n  FAILURE = \"FAILURE\",\n}\n\nconst TxIndicator = ({ txhash }: { txhash: string }) => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const animation = useThemeAnimation()\n\n  const [latestTx, setLatestTx] = useRecoilState(latestTxState)\n  const [minimized, setMinimized] = useState(false)\n  const initLatestTx = () => setLatestTx({ txhash: \"\" })\n  const { redirectAfterTx } = latestTx\n\n  /* polling */\n  const { data, isSuccess } = useTxInfo(latestTx)\n\n  /* context */\n  const time = useTimeText(!isSuccess)\n\n  /* status */\n  const status = !data\n    ? Status.LOADING\n    : isTxError(data)\n    ? Status.FAILURE\n    : Status.SUCCESS\n\n  /* render component */\n  const icon = {\n    [Status.LOADING]: <LoadingCircular size={36} thickness={2} />,\n    [Status.SUCCESS]: (\n      <DoneAllIcon className={styles.success} style={{ fontSize: 40 }} />\n    ),\n    [Status.FAILURE]: (\n      <WarningAmberIcon className={styles.danger} style={{ fontSize: 40 }} />\n    ),\n  }[status]\n\n  const title = {\n    [Status.LOADING]: t(\"Queued\"),\n    [Status.SUCCESS]: t(\"Success!\"),\n    [Status.FAILURE]: t(\"Failed\"),\n  }[status]\n\n  const txLink = (\n    <FinderLink tx short>\n      {txhash}\n    </FinderLink>\n  )\n\n  const hashDetails = (\n    <section className={styles.details}>\n      {status === Status.LOADING && (\n        <aside className={styles.queued}>\n          <header>\n            <h1>{t(\"Queued\")}</h1>\n            <h2>{time}</h2>\n          </header>\n\n          <p>{t(\"Transaction is processing\")}</p>\n        </aside>\n      )}\n\n      <section className={styles.hash}>\n        <h1>{t(\"Tx hash\")}</h1>\n        {txLink}\n      </section>\n    </section>\n  )\n\n  /* parse tx log */\n  const networkName = useNetworkName()\n  const ruleset = createActionRuleSet(networkName)\n  const logMatcher = createLogMatcherForActions(ruleset)\n  const getCanonicalMsgs = (txInfo: TxInfo) => {\n    const matchedMsg = getTxCanonicalMsgs(txInfo, logMatcher)\n    return matchedMsg\n      ? matchedMsg\n          .map((matchedLog) => matchedLog.map(({ transformed }) => transformed))\n          .flat(2)\n      : []\n  }\n\n  return minimized ? (\n    <div className={styles.minimized} onClick={() => setMinimized(false)}>\n      {status !== Status.LOADING && (\n        <button type=\"button\" className={styles.close} onClick={initLatestTx}>\n          <CloseIcon fontSize=\"small\" />\n        </button>\n      )}\n\n      <Flex className={styles.icon}>{icon}</Flex>\n\n      <section className={styles.main}>\n        <h1 className={styles.title}>{title}</h1>\n        <p className={styles.link}>{txLink}</p>\n      </section>\n    </div>\n  ) : status === Status.LOADING ? (\n    <Modal\n      icon={<img src={animation} width={100} height={100} alt=\"\" />}\n      closeIcon={<CloseFullscreenIcon fontSize=\"inherit\" />}\n      title={t(\"Broadcasting transaction\")}\n      isOpen={!minimized}\n      onRequestClose={() => setMinimized(true)}\n    >\n      {hashDetails}\n    </Modal>\n  ) : (\n    <Modal\n      icon={icon}\n      closeIcon={false}\n      title={title}\n      footer={() =>\n        redirectAfterTx ? (\n          <LinkButton\n            to={redirectAfterTx.path}\n            onClick={initLatestTx}\n            color=\"primary\"\n            block\n          >\n            {redirectAfterTx.label}\n          </LinkButton>\n        ) : (\n          <Button onClick={initLatestTx} color=\"primary\" block>\n            {t(\"Confirm\")}\n          </Button>\n        )\n      }\n      isOpen={!minimized}\n      onRequestClose={() => {\n        initLatestTx()\n        if (redirectAfterTx) navigate(redirectAfterTx.path)\n      }}\n      maxHeight\n    >\n      {data && (\n        <ul className={styles.messages}>\n          {getCanonicalMsgs(data).map((msg, index) => {\n            if (!msg) return null\n            const { canonicalMsg } = msg\n            return (\n              <li key={index}>\n                {canonicalMsg.map((msg, index) => (\n                  <TxMessage key={index}>{msg}</TxMessage>\n                ))}\n              </li>\n            )\n          })}\n        </ul>\n      )}\n\n      {hashDetails}\n    </Modal>\n  )\n}\n\nconst LatestTx = () => {\n  const { txhash } = useRecoilValue(latestTxState)\n  const setIsBroadcasting = useSetRecoilState(isBroadcastingState)\n\n  useEffect(() => {\n    setIsBroadcasting(!!txhash)\n  }, [setIsBroadcasting, txhash])\n\n  return !txhash ? null : <TxIndicator txhash={txhash} key={txhash} />\n}\n\nexport default LatestTx\n\n/* helper */\nconst useTimeText = (run: boolean) => {\n  const start = useMemo(() => new Date(), [])\n  const [now, setNow] = useState(new Date())\n\n  useInterval(() => setNow(new Date()), run ? 1000 : null)\n\n  const { minutes, seconds } = intervalToDuration({ start, end: now })\n  return [minutes, seconds].map((str) => String(str).padStart(2, \"0\")).join(\":\")\n}\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport ConnectedWallet from \"./ConnectedWallet\"\nimport GoBack from \"./GoBack\"\nimport ExportWalletForm from \"./ExportWalletForm\"\n\nconst ExportWalletPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Export wallet\")} extra={<GoBack />}>\n      <ConnectedWallet>\n        <Card>\n          <ExportWalletForm />\n        </Card>\n      </ConnectedWallet>\n    </Page>\n  )\n}\n\nexport default ExportWalletPage\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport { Form, FormItem, Input, Submit } from \"components/form\"\nimport { changePassword } from \"../../scripts/keystore\"\nimport validate from \"../../scripts/validate\"\nimport useAuth from \"../../hooks/useAuth\"\nimport ConfirmModal from \"./ConfirmModal\"\n\ninterface Values {\n  current: string\n  password: string\n  confirm: string\n}\n\nconst ChangePasswordForm = () => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const { getConnectedWallet, validatePassword } = useAuth()\n\n  /* form */\n  const form = useForm<Values>({ mode: \"onChange\" })\n  const { register, watch, handleSubmit, formState } = form\n  const { errors } = formState\n  const { password } = watch()\n\n  const [done, setDone] = useState(false)\n  const submit = ({ current, password }: Values) => {\n    const { name } = getConnectedWallet()\n    changePassword({ name, oldPassword: current, newPassword: password })\n    setDone(true)\n  }\n\n  return (\n    <>\n      {done && (\n        <ConfirmModal onRequestClose={() => navigate(\"/\")}>\n          {t(\"Password changed successfully\")}\n        </ConfirmModal>\n      )}\n\n      <Form onSubmit={handleSubmit(submit)}>\n        <FormItem label={t(\"Current password\")} error={errors.current?.message}>\n          <Input\n            {...register(\"current\", { validate: validatePassword })}\n            type=\"password\"\n            autoFocus\n          />\n        </FormItem>\n\n        <FormItem label={t(\"New password\")} error={errors.password?.message}>\n          <Input\n            {...register(\"password\", { validate: validate.password })}\n            type=\"password\"\n          />\n        </FormItem>\n\n        <FormItem\n          label={t(\"Confirm new password\")}\n          error={errors.confirm?.message}\n        >\n          <Input\n            {...register(\"confirm\", {\n              validate: (value) => validate.confirm(password, value),\n            })}\n            type=\"password\"\n          />\n        </FormItem>\n\n        <Submit />\n      </Form>\n    </>\n  )\n}\n\nexport default ChangePasswordForm\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport ConnectedWallet from \"./ConnectedWallet\"\nimport GoBack from \"./GoBack\"\nimport ChangePasswordForm from \"./ChangePasswordForm\"\n\nconst ChangePasswordPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Change password\")} extra={<GoBack />}>\n      <ConnectedWallet>\n        <Card>\n          <ChangePasswordForm />\n        </Card>\n      </ConnectedWallet>\n    </Page>\n  )\n}\n\nexport default ChangePasswordPage\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport DoneAllIcon from \"@mui/icons-material/DoneAll\"\nimport { Form, FormItem, FormWarning, Input, Submit } from \"components/form\"\nimport { Wrong } from \"components/feedback\"\nimport { isWallet } from \"auth\"\nimport { deleteWallet } from \"../../scripts/keystore\"\nimport useAuth from \"../../hooks/useAuth\"\nimport ConfirmModal from \"./ConfirmModal\"\n\ninterface Values {\n  name: string\n}\n\nconst DeleteWalletForm = () => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const { wallet, disconnect } = useAuth()\n  const name = isWallet.local(wallet) ? wallet.name : undefined\n\n  /* form */\n  const form = useForm<Values>({ mode: \"onChange\" })\n  const { register, handleSubmit, formState } = form\n  const { isValid } = formState\n\n  /* submit */\n  const [done, setDone] = useState(false)\n  const submit = (values: Values) => {\n    if (values.name !== name) return\n    disconnect()\n    deleteWallet(name)\n    setDone(true)\n  }\n\n  return (\n    <>\n      {done && (\n        <ConfirmModal\n          icon={<DoneAllIcon className=\"success\" fontSize=\"inherit\" />}\n          onRequestClose={() => navigate(\"/\", { replace: true })}\n        >\n          {t(\"Wallet deleted successfully\")}\n        </ConfirmModal>\n      )}\n\n      {!name ? (\n        <Wrong>{t(\"Wallet is not connected\")}</Wrong>\n      ) : (\n        <Form onSubmit={handleSubmit(submit)}>\n          <FormItem>\n            <p>\n              Type <strong>{name}</strong> to confirm\n            </p>\n\n            <Input\n              {...register(\"name\", { validate: (value) => value === name })}\n              autoFocus\n            />\n          </FormItem>\n\n          <FormWarning>\n            {t(\n              \"This action cannot be undone. Mnemonic is required to recover a deleted wallet.\"\n            )}\n          </FormWarning>\n\n          <Submit disabled={!isValid} />\n        </Form>\n      )}\n    </>\n  )\n}\n\nexport default DeleteWalletForm\n","import { useTranslation } from \"react-i18next\"\nimport { Card, Page } from \"components/layout\"\nimport ConnectedWallet from \"./ConnectedWallet\"\nimport GoBack from \"./GoBack\"\nimport DeleteWalletForm from \"./DeleteWalletForm\"\n\nconst DeleteWalletPage = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Page title={t(\"Delete wallet\")} extra={<GoBack />}>\n      <ConnectedWallet>\n        <Card>\n          <DeleteWalletForm />\n        </Card>\n      </ConnectedWallet>\n    </Page>\n  )\n}\n\nexport default DeleteWalletPage\n","import { Route, Routes } from \"react-router-dom\"\n\n/* connect */\nimport UnlockPage from \"./select/UnlockPage\"\nimport AccessWithLedgerPage from \"../ledger/AccessWithLedgerPage\"\n\n/* create */\nimport NewWalletPage from \"./create/NewWalletPage\"\nimport RecoverWalletPage from \"./create/RecoverWalletPage\"\nimport ImportWalletPage from \"./create/ImportWalletPage\"\nimport NewMultisigWalletPage from \"./create/NewMultisigWalletPage\"\n\n/* manage */\nimport ManageWallets from \"./manage/ManageWallets\"\nimport ExportWalletPage from \"./manage/ExportWalletPage\"\nimport ChangePasswordPage from \"./manage/ChangePasswordPage\"\nimport DeleteWalletPage from \"./manage/DeleteWalletPage\"\n\nconst Auth = () => {\n  return (\n    <Routes>\n      <Route index element={<ManageWallets />} />\n\n      {/* connect */}\n      <Route path=\"unlock/:name\" element={<UnlockPage />} />\n      <Route path=\"ledger\" element={<AccessWithLedgerPage />} />\n\n      {/* create */}\n      <Route path=\"new\" element={<NewWalletPage />} />\n      <Route path=\"recover\" element={<RecoverWalletPage />} />\n      <Route path=\"import\" element={<ImportWalletPage />} />\n      <Route path=\"multisig/new\" element={<NewMultisigWalletPage />} />\n\n      {/* manage */}\n      <Route path=\"export\" element={<ExportWalletPage />} />\n      <Route path=\"password\" element={<ChangePasswordPage />} />\n      <Route path=\"delete\" element={<DeleteWalletPage />} />\n    </Routes>\n  )\n}\n\nexport default Auth\n","import { useEffect } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useNetworkState } from \"data/wallet\"\nimport { useCustomNetworks } from \"data/settings/CustomNetworks\"\nimport { Grid } from \"components/layout\"\nimport CustomItem from \"txs/AddressBook/CustomItem\"\n\nconst ManageNetworksForm = () => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const [, setNetwork] = useNetworkState()\n  const { list, remove } = useCustomNetworks()\n  const empty = !list.length\n\n  useEffect(() => {\n    if (empty) navigate(\"/\")\n  }, [empty, navigate])\n\n  return (\n    <Grid gap={12}>\n      {list.map((item) => {\n        const { name, chainID, lcd } = item\n        return (\n          <CustomItem\n            name={name}\n            contents={[\n              { title: t(\"Chain ID\"), desc: chainID },\n              { title: t(\"LCD\"), desc: lcd },\n            ]}\n            onClick={() => setNetwork(name)}\n            onDelete={() => remove(name)}\n            key={name}\n          />\n        )\n      })}\n    </Grid>\n  )\n}\n\nexport default ManageNetworksForm\n","import { useTranslation } from \"react-i18next\"\nimport { Link } from \"react-router-dom\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport { Card, Page } from \"components/layout\"\nimport ManageNetworksForm from \"./ManageNetworksForm\"\n\nconst ManageNetworksPage = () => {\n  const { t } = useTranslation()\n\n  const add = (\n    <Link to=\"/network/new\">\n      <AddIcon />\n    </Link>\n  )\n\n  return (\n    <Page title={t(\"Manage networks\")} small>\n      <Card title={t(\"Custom networks\")} extra={add}>\n        <ManageNetworksForm />\n      </Card>\n    </Page>\n  )\n}\n\nexport default ManageNetworksPage\n","import { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport { useNetworkState } from \"data/wallet\"\nimport { useCustomNetworks } from \"data/settings/CustomNetworks\"\nimport { Form, FormItem, Submit, Input, Checkbox } from \"components/form\"\nimport { useNetworks } from \"app/InitNetworks\"\n\nconst AddNetwork = () => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const { mainnet } = useNetworks()\n  const [, setNetwork] = useNetworkState()\n  const { add, validateName } = useCustomNetworks()\n\n  /* form */\n  const form = useForm<CustomNetwork>({ mode: \"onChange\" })\n  const { register, watch, handleSubmit, formState } = form\n  const { errors, isValid } = formState\n  const { preconfigure } = watch()\n\n  const submit = (values: CustomNetwork) => {\n    add(values)\n    setNetwork(values.name)\n    navigate(\"/\")\n  }\n\n  return (\n    <Form onSubmit={handleSubmit(submit)}>\n      <FormItem label={t(\"Name\")} error={errors.name?.message}>\n        <Input\n          {...register(\"name\", {\n            required: true,\n            validate: {\n              exists: (value) =>\n                !validateName(value) ? `${value} already exists` : undefined,\n            },\n          })}\n          placeholder={mainnet.name}\n          autoFocus\n        />\n      </FormItem>\n\n      <FormItem label={t(\"Chain ID\")} error={errors.chainID?.message}>\n        <Input\n          {...register(\"chainID\", { required: true })}\n          placeholder={mainnet.chainID}\n        />\n      </FormItem>\n\n      <FormItem label={t(\"LCD\")} error={errors.lcd?.message}>\n        <Input\n          {...register(\"lcd\", { required: true })}\n          placeholder={mainnet.lcd}\n        />\n      </FormItem>\n\n      <Checkbox {...register(\"preconfigure\")} checked={preconfigure}>\n        {t(\"Preconfigure accounts\")}\n      </Checkbox>\n\n      <Submit disabled={!isValid} />\n    </Form>\n  )\n}\n\nexport default AddNetwork\n","import { Card, Page } from \"components/layout\"\nimport { useTranslation } from \"react-i18next\"\nimport AddNetworkForm from \"./AddNetworkForm\"\n\nconst AddNetworkPage = () => {\n  const { t } = useTranslation()\n  return (\n    <Page title={t(\"Add a network\")} small>\n      <Card>\n        <AddNetworkForm />\n      </Card>\n    </Page>\n  )\n}\n\nexport default AddNetworkPage\n","import { useEffect, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { SettingKey } from \"utils/localStorage\"\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\nimport { Card, Page } from \"components/layout\"\nimport { FormItem, Input } from \"components/form\"\n\nconst Settings = () => {\n  const { t } = useTranslation()\n  const [input, setInput] = useState(\n    String(getLocalSetting(SettingKey.GasAdjustment))\n  )\n\n  useEffect(() => {\n    const value = Number(input)\n    if (value) setLocalSetting(SettingKey.GasAdjustment, value)\n  }, [input])\n\n  return (\n    <Page title={t(\"Settings\")} small>\n      <Card>\n        <FormItem label=\"Gas adjustment\">\n          <Input value={input} onChange={(e) => setInput(e.target.value)} />\n        </FormItem>\n      </Card>\n    </Page>\n  )\n}\n\nexport default Settings\n","import { useCW20Pairs } from \"data/Terra/TerraAssets\"\nimport { WithTokenItem } from \"data/token\"\nimport { Col, Row, Card } from \"components/layout\"\nimport { Token } from \"components/token\"\n\nconst Pairs = () => {\n  const { data: pairs } = useCW20Pairs()\n  if (!pairs) return null\n\n  return (\n    <Col>\n      {Object.entries(pairs).map(([pair, { dex, type, assets }]) => (\n        <Card\n          title={pair}\n          extra={[dex, type].join(\": \")}\n          size=\"small\"\n          key={pair}\n        >\n          <Row>\n            {assets.map((asset) => (\n              <WithTokenItem token={asset} key={asset}>\n                {(item) => (\n                  <Col>\n                    <Token {...item} description={asset} />\n                  </Col>\n                )}\n              </WithTokenItem>\n            ))}\n          </Row>\n        </Card>\n      ))}\n    </Col>\n  )\n}\n\nexport default Pairs\n","import { Page, Tabs } from \"components/layout\"\nimport Pairs from \"./Pairs\"\n\nconst Labs = () => {\n  return (\n    <Page title=\"Labs\">\n      <Tabs\n        tabs={[{ key: \"pairs\", tab: \"Pairs\", children: <Pairs /> }]}\n        type=\"card\"\n      />\n    </Page>\n  )\n}\n\nexport default Labs\n","import { useCallback, useMemo } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { MsgDonateAllVestingTokens } from \"@terra-money/terra.js\"\nimport { useAddress } from \"data/wallet\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { Account, parseVestingSchedule } from \"data/queries/vesting\"\nimport { Form, FormItem, Input } from \"components/form\"\nimport { toInput } from \"txs/utils\"\nimport Tx, { getInitialGasDenom } from \"../Tx\"\n\nconst DonateAllVestingTokensForm = ({ account }: { account: Account }) => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const bankBalance = useBankBalance()\n\n  const schedule = parseVestingSchedule(account)\n  const balance = schedule.amount.total\n\n  /* tx context */\n  const initialGasDenom = getInitialGasDenom(bankBalance)\n\n  /* form */\n  const { handleSubmit } = useForm({ mode: \"onChange\" })\n\n  /* tx */\n  const createTx = useCallback(() => {\n    if (!address) return\n    const msgs = [new MsgDonateAllVestingTokens(address)]\n    return { msgs }\n  }, [address])\n\n  /* fee */\n  const estimationTxValues = useMemo(() => ({}), [])\n\n  const tx = {\n    initialGasDenom,\n    estimationTxValues,\n    createTx,\n  }\n\n  return (\n    <Tx {...tx}>\n      {({ fee, submit }) => (\n        <Form onSubmit={handleSubmit(submit.fn)}>\n          <FormItem label={t(\"Amount\")}>\n            <Input value={toInput(balance)} token=\"uluna\" readOnly />\n          </FormItem>\n          {fee.render()}\n          {submit.button}\n        </Form>\n      )}\n    </Tx>\n  )\n}\n\nexport default DonateAllVestingTokensForm\n","import { useTranslation } from \"react-i18next\"\nimport { combineState } from \"data/query\"\nimport { isVestingAccount, useAccount } from \"data/queries/vesting\"\nimport { useDelegations, useUnbondings } from \"data/queries/staking\"\nimport { Page, Card } from \"components/layout\"\nimport { Wrong } from \"components/feedback\"\nimport TxContext from \"../TxContext\"\nimport DonateAllVestingTokensForm from \"./DonateAllVestingTokensForm\"\n\nconst DonateAllVestingTokensTx = () => {\n  const { t } = useTranslation()\n\n  const { data: account, ...accountState } = useAccount()\n  const { data: delegations, ...delegationsState } = useDelegations()\n  const { data: unbondings, ...unbondingsState } = useUnbondings()\n\n  const state = combineState(accountState, delegationsState, unbondingsState)\n\n  const render = () => {\n    if (!(account && delegations && unbondings)) return null\n\n    if (!isVestingAccount(account))\n      return <Wrong>{t(\"Vesting does not exist\")}</Wrong>\n\n    if (delegations.length || unbondings.length)\n      return <Wrong>{t(\"All Luna must be undelegated\")}</Wrong>\n\n    return (\n      <TxContext>\n        <DonateAllVestingTokensForm account={account} />\n      </TxContext>\n    )\n  }\n\n  return (\n    <Page title={t(\"Donate all vesting tokens\")} small>\n      <Card {...state}>{render()}</Card>\n    </Page>\n  )\n}\n\nexport default DonateAllVestingTokensTx\n","import { useEffect } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate, useRoutes, Navigate } from \"react-router-dom\"\n\nimport { ReactComponent as WalletIcon } from \"styles/images/menu/Wallet.svg\"\nimport { ReactComponent as NFTIcon } from \"styles/images/menu/NFT.svg\"\nimport { ReactComponent as HistoryIcon } from \"styles/images/menu/History.svg\"\nimport { ReactComponent as SwapIcon } from \"styles/images/menu/Swap.svg\"\nimport { ReactComponent as StakeIcon } from \"styles/images/menu/Stake.svg\"\nimport { ReactComponent as GovernanceIcon } from \"styles/images/menu/Governance.svg\"\nimport { ReactComponent as ContractIcon } from \"styles/images/menu/Contract.svg\"\n\n/* menu */\nimport Dashboard from \"pages/dashboard/Dashboard\"\nimport Wallet from \"pages/wallet/Wallet\"\nimport NFT from \"pages/nft/NFT\"\nimport History from \"pages/history/History\"\nimport Stake from \"pages/stake/Stake\"\nimport Governance from \"pages/gov/Governance\"\nimport Contract from \"pages/contract/Contract\"\n\n/* details */\nimport ValidatorDetails from \"pages/stake/ValidatorDetails\"\nimport ProposalDetails from \"pages/gov/ProposalDetails\"\n\n/* txs */\nimport SendTx from \"txs/send/SendTx\"\nimport TransferCW721Tx from \"txs/wasm/TransferCW721Tx\"\nimport SwapTx from \"txs/swap/SwapTx\"\nimport SwapMultipleTx from \"txs/swap/classic/SwapMultipleTx\"\nimport StakeTx from \"txs/stake/StakeTx\"\nimport WithdrawRewardsTx from \"txs/stake/WithdrawRewardsTx\"\nimport WithdrawCommissionTx from \"txs/stake/WithdrawCommissionTx\"\nimport SubmitProposalTx from \"txs/gov/SubmitProposalTx\"\nimport DepositTx from \"txs/gov/DepositTx\"\nimport VoteTx from \"txs/gov/VoteTx\"\nimport StoreCodeTx from \"txs/wasm/StoreCodeTx\"\nimport InstantiateContractTx from \"txs/wasm/InstantiateContractTx\"\nimport ExecuteContractTx from \"txs/wasm/ExecuteContractTx\"\nimport MigrateContractTx from \"txs/wasm/MigrateContractTx\"\nimport UpdateAdminContractTx from \"txs/wasm/UpdateAdminContractTx\"\nimport AnchorEarnTx from \"txs/earn/AnchorEarnTx\"\nimport SignMultisigTxPage from \"pages/multisig/SignMultisigTxPage\"\nimport PostMultisigTxPage from \"pages/multisig/PostMultisigTxPage\"\n\n/* auth */\nimport Auth from \"auth/modules/Auth\"\nimport ManageNetworksPage from \"auth/networks/ManageNetworksPage\"\nimport AddNetworkPage from \"auth/networks/AddNetworkPage\"\n\n/* settings */\nimport Settings from \"pages/Settings\"\n\n/* labs */\nimport Labs from \"pages/labs/Labs\"\n\n/* 404 */\n//import NotFound from \"pages/NotFound\"\nimport DonateAllVestingTokensTx from \"txs/stake/DonateAllVestingTokensTx\"\n\nconst ICON_SIZE = { width: 20, height: 20 }\n\nexport const useNav = () => {\n  const { t } = useTranslation()\n\n  const menu = [\n    {\n      path: \"/wallet\",\n      element: <Wallet />,\n      title: t(\"Wallet\"),\n      icon: <WalletIcon {...ICON_SIZE} />,\n    },\n    {\n      path: \"/history\",\n      element: <History />,\n      title: t(\"History\"),\n      icon: <HistoryIcon {...ICON_SIZE} />,\n    },\n    {\n      path: \"/swap\",\n      element: <SwapTx />,\n      title: t(\"Swap\"),\n      icon: <SwapIcon {...ICON_SIZE} />,\n    },\n    {\n      path: \"/stake\",\n      element: <Stake />,\n      title: t(\"Stake\"),\n      icon: <StakeIcon {...ICON_SIZE} />,\n    },\n    {\n      path: \"/gov\",\n      element: <Governance />,\n      title: t(\"Governance\"),\n      icon: <GovernanceIcon {...ICON_SIZE} />,\n    },\n    {\n      path: \"/nft\",\n      element: <NFT />,\n      title: t(\"NFT\"),\n      icon: <NFTIcon {...ICON_SIZE} />,\n    },\n    {\n      path: \"/contract\",\n      element: <Contract />,\n      title: t(\"Contract\"),\n      icon: <ContractIcon {...ICON_SIZE} />,\n    },\n  ]\n\n  const routes = [\n    { path: \"/\", element: <Dashboard /> },\n\n    /* pages */\n    ...menu,\n    { path: \"/validator/:address\", element: <ValidatorDetails /> },\n    { path: \"/proposal/:id\", element: <ProposalDetails /> },\n\n    /* multisig */\n    { path: \"/multisig/sign\", element: <SignMultisigTxPage /> },\n    { path: \"/multisig/post\", element: <PostMultisigTxPage /> },\n\n    /* txs */\n    { path: \"/send\", element: <SendTx /> },\n    { path: \"/nft/transfer\", element: <TransferCW721Tx /> },\n    { path: \"/swap/multiple\", element: <SwapMultipleTx /> },\n    { path: \"/stake/:address\", element: <StakeTx /> },\n    { path: \"/rewards\", element: <WithdrawRewardsTx /> },\n    { path: \"/commission\", element: <WithdrawCommissionTx /> },\n    { path: \"/proposal/new\", element: <SubmitProposalTx /> },\n    { path: \"/proposal/:id/deposit\", element: <DepositTx /> },\n    { path: \"/proposal/:id/vote\", element: <VoteTx /> },\n    { path: \"/contract/instantiate\", element: <InstantiateContractTx /> },\n    { path: \"/contract/store\", element: <StoreCodeTx /> },\n    { path: \"/contract/execute/:contract\", element: <ExecuteContractTx /> },\n    { path: \"/contract/migrate/:contract\", element: <MigrateContractTx /> },\n    {\n      path: \"/contract/updateadmin/:contract\",\n      element: <UpdateAdminContractTx />,\n    },\n    { path: \"/earn\", element: <AnchorEarnTx /> },\n    { path: \"/donate\", element: <DonateAllVestingTokensTx /> },\n\n    /* auth */\n    { path: \"/auth/*\", element: <Auth /> },\n    { path: \"/networks\", element: <ManageNetworksPage /> },\n    { path: \"/network/new\", element: <AddNetworkPage /> },\n    { path: \"/settings\", element: <Settings /> },\n\n    /* dev */\n    { path: \"/labs\", element: <Labs /> },\n\n    /* 404 */\n    { path: \"*\", element: <Navigate to=\"/\" /> },\n  ]\n\n  return { menu, element: useRoutes(routes) }\n}\n\n/* helpers */\nexport const useGoBackOnError = ({ error }: QueryState) => {\n  const navigate = useNavigate()\n  useEffect(() => {\n    if (error) navigate(\"..\", { replace: true })\n  }, [error, navigate])\n}\n","import { useEffect } from \"react\"\nimport { NavLink, useLocation } from \"react-router-dom\"\nimport { useRecoilState, useSetRecoilState } from \"recoil\"\nimport classNames from \"classnames/bind\"\nimport MenuIcon from \"@mui/icons-material/Menu\"\nimport CloseIcon from \"@mui/icons-material/Close\"\nimport { mobileIsMenuOpenState } from \"components/layout\"\nimport { useNav } from \"app/routes\"\nimport styles from \"./Nav.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst Nav = () => {\n  useCloseMenuOnNavigate()\n  const { menu } = useNav()\n  const [isOpen, setIsOpen] = useRecoilState(mobileIsMenuOpenState)\n  const toggle = () => setIsOpen(!isOpen)\n\n  return (\n    <nav>\n      <header className={styles.header}>\n        <NavLink to=\"/\" className={classNames(styles.item, styles.logo)}>\n          <strong>Terra</strong> Station\n        </NavLink>\n\n        <button className={styles.toggle} onClick={toggle}>\n          {isOpen ? <CloseIcon /> : <MenuIcon />}\n        </button>\n      </header>\n\n      {menu.map(({ path, title, icon }) => (\n        <NavLink\n          to={`${path}`}\n          className={({ isActive }) =>\n            cx(styles.item, styles.link, { active: isActive })\n          }\n          key={path}\n        >\n          {icon}\n          {title}\n        </NavLink>\n      ))}\n    </nav>\n  )\n}\n\nexport default Nav\n\n/* hooks */\nconst useCloseMenuOnNavigate = () => {\n  const { pathname } = useLocation()\n  const setIsOpen = useSetRecoilState(mobileIsMenuOpenState)\n\n  useEffect(() => {\n    setIsOpen(false)\n  }, [pathname, setIsOpen])\n}\n","import { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames\"\nimport { formatNumber } from \"@terra.kitchen/utils\"\nimport { useTerraObserver } from \"data/Terra/TerraObserver\"\nimport { FinderLink } from \"components/general\"\nimport { Flex } from \"components/layout\"\nimport styles from \"./LastHeight.module.scss\"\n\nconst LastHeight = () => {\n  const { t } = useTranslation()\n  const { block } = useTerraObserver()\n  const height = block?.header.height\n\n  return (\n    <Flex gap={4} className={styles.component} start>\n      <div\n        className={classNames(\n          styles.indicator,\n          height ? styles.success : styles.loading\n        )}\n      />\n\n      {height ? (\n        <FinderLink className={styles.link} value={height} block>\n          #{formatNumber(height, { comma: true })}\n        </FinderLink>\n      ) : (\n        <p className={styles.text}>{t(\"Loading...\")}</p>\n      )}\n    </Flex>\n  )\n}\n\nexport default LastHeight\n","import { Block } from \"@terra-money/terra.js\"\nimport { useEffect, useRef, useState } from \"react\"\nimport { OBSERVER } from \"config/constants\"\nimport { useChainID } from \"../wallet\"\n\nexport const useTerraObserver = () => {\n  const ws = useRef<WebSocket | null>(null)\n  const chainID = useChainID()\n  const [block, setBlock] = useState<Block>()\n  const [connected, setConnected] = useState(false)\n  const [error, setError] = useState<Event | CloseEvent>()\n\n  useEffect(() => {\n    if (!ws.current) {\n      ws.current = new WebSocket(OBSERVER)\n\n      ws.current.onopen = () => {\n        setConnected(true)\n        ws.current?.send(\n          JSON.stringify({ subscribe: \"new_block_height\", chain_id: chainID })\n        )\n      }\n\n      ws.current.onclose = (error) => {\n        setConnected(false)\n        setError(error)\n      }\n\n      ws.current.onerror = (error) => {\n        setConnected(false)\n        setError(error)\n      }\n\n      ws.current.onmessage = (event) => {\n        const message = JSON.parse(event.data)\n        setBlock(message.data.block)\n      }\n    }\n\n    return () => {\n      ws.current?.close()\n    }\n  }, [chainID])\n\n  return { connected, error, block }\n}\n","import { useTranslation } from \"react-i18next\"\nimport DescriptionIcon from \"@mui/icons-material/Description\"\nimport { TUTORIAL } from \"config/constants\"\nimport { useIsClassic } from \"data/query\"\nimport { ExternalLink } from \"components/general\"\nimport { Contacts } from \"components/layout\"\nimport styles from \"./Links.module.scss\"\n\nconst Links = () => {\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n\n  const community = isClassic\n    ? {\n        discord: \"https://terra.sc/classicdiscord\",\n        telegram: \"https://t.me/TerraLunaChat\",\n        twitter: \"https://twitter.com/terrac_money\",\n      }\n    : {\n        medium: \"https://medium.com/terra-money\",\n        discord: \"https://terra.sc/discord\",\n        telegram: \"https://t.me/TerraNetworkLobby\",\n        twitter: \"https://twitter.com/terra_money\",\n        github: \"https://github.com/terra-money\",\n      }\n\n  return (\n    <div className={styles.links}>\n      <div className={styles.tutorial}>\n        <ExternalLink href={TUTORIAL} className={styles.link}>\n          <DescriptionIcon style={{ fontSize: 18 }} />\n          {t(\"Tutorial\")}\n        </ExternalLink>\n      </div>\n\n      <div className={styles.community}>\n        <Contacts contacts={community} menu />\n      </div>\n    </div>\n  )\n}\n\nexport default Links\n","import { Grid } from \"components/layout\"\nimport LastHeight from \"app/sections/LastHeight\"\nimport Links from \"app/sections/Links\"\nimport styles from \"./Aside.module.scss\"\n\nconst Aside = () => {\n  return (\n    <Grid gap={20} className={styles.aside}>\n      <Links />\n      <LastHeight />\n    </Grid>\n  )\n}\n\nexport default Aside\n","import { useNetworkName } from \"data/wallet\"\nimport styles from \"./NetworkName.module.scss\"\n\nconst NetworkName = () => {\n  const name = useNetworkName()\n  return <div className={styles.component}>{name.toUpperCase()}</div>\n}\n\nexport default NetworkName\n","import { ForwardedRef, forwardRef, HTMLAttributes } from \"react\"\nimport styles from \"./HeaderIconButton.module.scss\"\n\nconst HeaderIconButton = forwardRef(\n  (\n    attrs: HTMLAttributes<HTMLButtonElement>,\n    ref?: ForwardedRef<HTMLButtonElement>\n  ) => {\n    return (\n      // wrap for tooltip\n      <span className={styles.wrapper}>\n        <button type=\"button\" {...attrs} className={styles.button} ref={ref} />\n      </span>\n    )\n  }\n)\n\nexport default HeaderIconButton\n","import { useQueryClient } from \"react-query\"\nimport RefreshIcon from \"@mui/icons-material/Refresh\"\nimport HeaderIconButton from \"../components/HeaderIconButton\"\n\nconst Prefreneces = () => {\n  const queryClient = useQueryClient()\n\n  return (\n    <HeaderIconButton onClick={() => queryClient.invalidateQueries()}>\n      <RefreshIcon style={{ fontSize: 18 }} />\n    </HeaderIconButton>\n  )\n}\n\nexport default Prefreneces\n","import { useTranslation } from \"react-i18next\"\nimport { useNetworkOptions, useNetworkState } from \"data/wallet\"\nimport { useCustomNetworks } from \"data/settings/CustomNetworks\"\nimport { InternalLink } from \"components/general\"\nimport { RadioGroup } from \"components/form\"\n\nconst NetworkSetting = () => {\n  const { t } = useTranslation()\n  const [network, setNetwork] = useNetworkState()\n  const networkOptions = useNetworkOptions()\n  const { list } = useCustomNetworks()\n\n  if (!networkOptions) return null\n\n  return (\n    <>\n      <RadioGroup\n        options={networkOptions}\n        value={network}\n        onChange={setNetwork}\n      />\n\n      {list.length ? (\n        <InternalLink to=\"/networks\" chevron>\n          {t(\"Manage networks\")}\n        </InternalLink>\n      ) : (\n        <InternalLink to=\"/network/new\" chevron>\n          {t(\"Add a network\")}\n        </InternalLink>\n      )}\n    </>\n  )\n}\n\nexport default NetworkSetting\n","import { useTranslation } from \"react-i18next\"\nimport { Languages } from \"config/lang\"\nimport { RadioGroup } from \"components/form\"\n\nconst LanguageSetting = () => {\n  const { i18n } = useTranslation()\n\n  return (\n    <RadioGroup\n      options={Object.values(Languages)}\n      value={i18n.language}\n      onChange={(language) => i18n.changeLanguage(language)}\n    />\n  )\n}\n\nexport default LanguageSetting\n","import { useTranslation } from \"react-i18next\"\nimport LanguageIcon from \"@mui/icons-material/Language\"\nimport { useIsClassic } from \"data/query\"\nimport { Tabs } from \"components/layout\"\nimport { Popover } from \"components/display\"\nimport { sandbox } from \"auth/scripts/env\"\nimport PopoverNone from \"../components/PopoverNone\"\nimport HeaderIconButton from \"../components/HeaderIconButton\"\nimport NetworkSetting from \"./NetworkSetting\"\nimport LanguageSetting from \"./LanguageSetting\"\n\nconst Preferences = () => {\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n\n  const network = {\n    key: \"network\",\n    tab: t(\"Network\"),\n    children: <NetworkSetting />,\n    condition: [\"sandbox\"],\n  }\n\n  const lang = {\n    key: \"lang\",\n    tab: t(\"Language\"),\n    children: <LanguageSetting />,\n    condition: undefined,\n  }\n\n  const tabs = [network, lang].filter(({ condition }) => {\n    if (!condition) return true\n    if (condition.includes(\"sandbox\")) return sandbox\n    if (condition.includes(\"classic\")) return isClassic\n    return true\n  })\n\n  return (\n    <Popover\n      content={\n        <PopoverNone>\n          <Tabs tabs={tabs} type=\"line\" state />\n        </PopoverNone>\n      }\n      placement=\"bottom\"\n      theme=\"none\"\n    >\n      <HeaderIconButton>\n        <LanguageIcon style={{ fontSize: 18 }} />\n      </HeaderIconButton>\n    </Popover>\n  )\n}\n\nexport default Preferences\n","import { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames/bind\"\nimport PaletteOutlinedIcon from \"@mui/icons-material/PaletteOutlined\"\nimport LockIcon from \"@mui/icons-material/Lock\"\nimport InfoIcon from \"@mui/icons-material/Info\"\nimport { capitalize } from \"@mui/material\"\nimport { readAmount } from \"@terra.kitchen/utils\"\nimport { themes } from \"styles/themes/themes\"\nimport { useAddress } from \"data/wallet\"\nimport { useThemeState, useValidateTheme } from \"data/settings/Theme\"\nimport { Flex, FlexColumn, Grid } from \"components/layout\"\nimport { Radio } from \"components/form\"\nimport { ModalButton } from \"components/feedback\"\nimport HeaderIconButton from \"app/components/HeaderIconButton\"\nimport styles from \"./SelectTheme.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst Selector = () => {\n  const { t } = useTranslation()\n  const [current, setTheme] = useThemeState()\n  const validate = useValidateTheme()\n\n  return (\n    <Grid gap={28} columns={2}>\n      {themes.map((theme) => {\n        const { name, unlock, preview } = theme\n        const active = current.name === name\n        const unlocked = validate?.(theme)\n\n        return (\n          <Radio\n            checked={active}\n            label={capitalize(name)}\n            className={cx({ active, locked: !unlocked })}\n            onClick={() => unlocked && setTheme(theme)}\n            disabled={!unlocked}\n            key={name}\n          >\n            <div className={styles.wrapper}>\n              <Flex className={styles.preview}>{preview}</Flex>\n\n              {!unlocked && (\n                <FlexColumn gap={4} className={styles.unlock}>\n                  <LockIcon fontSize=\"small\" />\n                  <small>\n                    {t(\"Stake {{amount}} Luna to unlock\", {\n                      amount: readAmount(unlock, { comma: true }),\n                    })}\n                  </small>\n                </FlexColumn>\n              )}\n            </div>\n          </Radio>\n        )\n      })}\n    </Grid>\n  )\n}\n\nconst SelectTheme = () => {\n  const { t } = useTranslation()\n  const address = useAddress()\n  const validate = useValidateTheme()\n\n  return (\n    <ModalButton\n      title={t(\"Select theme\")}\n      renderButton={(open) => (\n        <HeaderIconButton onClick={open}>\n          <PaletteOutlinedIcon style={{ fontSize: 18 }} />\n        </HeaderIconButton>\n      )}\n    >\n      <Grid gap={20}>\n        <Selector />\n\n        {address && themes.some((theme) => !validate?.(theme)) && (\n          <Flex gap={4} className={styles.info}>\n            <InfoIcon style={{ fontSize: 18 }} />\n            {t(\"Preview is available if wallet is disconnected\")}\n          </Flex>\n        )}\n      </Grid>\n    </ModalButton>\n  )\n}\n\nexport default SelectTheme\n","import { useAddress } from \"data/wallet\"\nimport { useValidators } from \"data/queries/staking\"\nimport { getConnectedMoniker } from \"data/queries/distribution\"\nimport { LinkButton } from \"components/general\"\n\nconst ValidatorButton = () => {\n  const address = useAddress()\n  const { data: validators } = useValidators()\n  const moniker = getConnectedMoniker(address, validators)\n  if (!moniker) return null\n\n  return (\n    <LinkButton to=\"/commission\" size=\"small\" outline>\n      {moniker}\n    </LinkButton>\n  )\n}\n\nexport default ValidatorButton\n","import { useQueryClient } from \"react-query\"\nimport { debug } from \"utils/env\"\nimport { Button } from \"components/general\"\n\nconst DevTools = () => {\n  const queryClient = useQueryClient()\n  if (!debug.query) return null\n\n  return (\n    <Button onClick={() => queryClient.resetQueries()} size=\"small\" outline>\n      Refresh\n    </Button>\n  )\n}\n\nexport default DevTools\n","import { PropsWithChildren } from \"react\"\nimport { useInitialBankBalance } from \"data/queries/bank\"\nimport { BankBalanceProvider } from \"data/queries/bank\"\n\nconst InitBankBalance = ({ children }: PropsWithChildren<{}>) => {\n  const { data: bankBalance } = useInitialBankBalance()\n  // If the balance doesn't exist, nothing is worth rendering.\n  if (!bankBalance) return null\n  return (\n    <BankBalanceProvider value={bankBalance}>{children}</BankBalanceProvider>\n  )\n}\n\nexport default InitBankBalance\n","import { getErrorMessage } from \"utils/error\"\nimport Layout, { Page } from \"components/layout\"\n// eslint-disable-next-line\nimport { Banner, Content, Header, Actions, Sidebar } from \"components/layout\"\nimport { ErrorBoundary, Wrong } from \"components/feedback\"\n\n/* routes */\nimport { useNav } from \"./routes\"\n\n/* banner */\n\n/* sidebar */\nimport Nav from \"./sections/Nav\"\nimport Aside from \"./sections/Aside\"\n\n/* header */\nimport NetworkName from \"./sections/NetworkName\"\n// eslint-disable-next-line\nimport IsClassicNetwork from \"./sections/IsClassicNetwork\"\nimport Refresh from \"./sections/Refresh\"\nimport Preferences from \"./sections/Preferences\"\nimport SelectTheme from \"./sections/SelectTheme\"\nimport ConnectWallet from \"./sections/ConnectWallet\"\n\n/* extra */\nimport LatestTx from \"./sections/LatestTx\"\nimport ValidatorButton from \"./sections/ValidatorButton\"\nimport DevTools from \"./sections/DevTools\"\n\n/* init */\nimport InitBankBalance from \"./InitBankBalance\"\n\nconst App = () => {\n  const { element: routes } = useNav()\n\n  return (\n    <Layout>\n      <Sidebar>\n        <Nav />\n        <Aside />\n      </Sidebar>\n\n      <Header>\n        <NetworkName />\n\n        <Actions>\n          <DevTools />\n          <section>\n            <Refresh />\n            <Preferences />\n            <SelectTheme />\n          </section>\n          <ValidatorButton />\n          <ConnectWallet />\n        </Actions>\n        <LatestTx />\n      </Header>\n\n      <Content>\n        <ErrorBoundary fallback={fallback}>\n          <InitBankBalance>{routes}</InitBankBalance>\n        </ErrorBoundary>\n      </Content>\n    </Layout>\n  )\n}\n\nexport default App\n\n/* error */\nexport const fallback = (error: Error) => (\n  <Page>\n    <Wrong>{getErrorMessage(error)}</Wrong>\n  </Page>\n)\n","import { StrictMode } from \"react\"\nimport { render } from \"react-dom\"\nimport { BrowserRouter } from \"react-router-dom\"\nimport { ReactQueryDevtools } from \"react-query/devtools\"\nimport { RecoilRoot } from \"recoil\"\nimport { getChainOptions } from \"@terra-money/wallet-controller\"\nimport { WalletProvider } from \"@terra-money/wallet-provider\"\nimport \"tippy.js/dist/tippy.css\"\n\nimport \"config/lang\"\nimport { BRIDGE } from \"config/constants\"\nimport { debug } from \"utils/env\"\n\nimport \"index.scss\"\nimport ScrollToTop from \"app/ScrollToTop\"\nimport InitNetworks from \"app/InitNetworks\"\nimport InitWallet from \"app/InitWallet\"\nimport InitTheme from \"app/InitTheme\"\nimport ElectronVersion from \"app/ElectronVersion\"\nimport App from \"app/App\"\n\nconst connectorOpts = { bridge: BRIDGE }\n\ngetChainOptions().then((chainOptions) =>\n  render(\n    <StrictMode>\n      <RecoilRoot>\n        <BrowserRouter>\n          <ScrollToTop />\n          <WalletProvider {...chainOptions} connectorOpts={connectorOpts}>\n            <InitNetworks>\n              <InitWallet>\n                <InitTheme />\n                <ElectronVersion />\n                <App />\n              </InitWallet>\n            </InitNetworks>\n          </WalletProvider>\n          {debug.query && <ReactQueryDevtools position=\"bottom-right\" />}\n        </BrowserRouter>\n      </RecoilRoot>\n    </StrictMode>,\n    document.getElementById(\"station\")\n  )\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"TokenCard_item__2kuEO\",\"main\":\"TokenCard_main__1SRGp\",\"name\":\"TokenCard_name__1GP-j\",\"footer\":\"TokenCard_footer__18oHh\",\"balance\":\"TokenCard_balance__2nzUO\",\"grid\":\"TokenCard_grid__TQYPj\",\"single\":\"TokenCard_single__1Vdqe\"};","export const debug = {\n  query:\n    process.env.NODE_ENV === \"development\" &&\n    process.env.REACT_APP_DEBUG_QUERY === \"true\",\n  translation:\n    process.env.NODE_ENV === \"development\" &&\n    process.env.REACT_APP_DEBUG_TRANSLATION === \"true\",\n  theme:\n    process.env.NODE_ENV === \"development\" &&\n    process.env.REACT_APP_DEBUG_THEME === \"true\",\n  auth:\n    process.env.NODE_ENV === \"development\" &&\n    process.env.REACT_APP_ELECTRON === \"true\",\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__3uo5E\",\"submit\":\"Form_submit__1nC1E\",\"group\":\"Form_group__3AHnP\",\"label\":\"Form_label__bOv6h\",\"button\":\"Form_button__ZL7su\",\"header\":\"Form_header__WLnVq\",\"extra\":\"Form_extra__3Yp_K\",\"error\":\"Form_error__34nSh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__3qLmz\",\"banner\":\"Layout_banner__21u2T\",\"sidebar\":\"Layout_sidebar__1VZN4\",\"header\":\"Layout_header__1IkV6\",\"wrapper\":\"Layout_wrapper__1z2La\",\"actions\":\"Layout_actions__2gUU1\",\"main\":\"Layout_main__2aJYX\",\"menu\":\"Layout_menu__2L2NR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__28bIy\",\"modal\":\"Modal_modal__wZBXc\",\"close\":\"Modal_close__2_zHW\",\"header\":\"Modal_header__3J_4p\",\"icon\":\"Modal_icon__3Zavx\",\"title\":\"Modal_title__YMtEd\",\"confirm\":\"Modal_confirm__twytV\",\"main\":\"Modal_main__2SJW7\",\"footer\":\"Modal_footer__3azEV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Input_wrapper__2O_r4\",\"input\":\"Input_input__3eDDn\",\"symbol\":\"Input_symbol__1HnMg\",\"before\":\"Input_before__3LLPq\",\"after\":\"Input_after__2Q89v\",\"search\":\"Input_search__3yRR6\",\"icon\":\"Input_icon__1wu5x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NFTAssetItem_item__BIf5V\",\"compact\":\"NFTAssetItem_compact__3ATzJ\",\"image\":\"NFTAssetItem_image__2v4A_\",\"large\":\"NFTAssetItem_large__15GPZ\",\"name\":\"NFTAssetItem_name__x0goF\",\"placeholder\":\"NFTAssetItem_placeholder__3OCTk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggle\":\"SelectToken_toggle__2Knux\",\"search\":\"SelectToken_search__354qV\",\"list\":\"SelectToken_list__1Q5RT\",\"empty\":\"SelectToken_empty__2MZak\",\"title\":\"SelectToken_title__3rDt_\",\"item\":\"SelectToken_item__1aQuv\",\"muted\":\"SelectToken_muted__3qrcz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggle\":\"SelectToken_toggle__CjW7-\",\"search\":\"SelectToken_search__r-PZ4\",\"list\":\"SelectToken_list__3s5aK\",\"empty\":\"SelectToken_empty__2-ybm\",\"title\":\"SelectToken_title__3nraq\",\"item\":\"SelectToken_item__1G9KH\",\"muted\":\"SelectToken_muted__3Gcnz\"};","import { ForwardedRef, forwardRef, Fragment } from \"react\"\nimport classNames from \"classnames/bind\"\nimport { FormatConfig } from \"@terra.kitchen/utils\"\nimport { formatPercent, readAmount, truncate } from \"@terra.kitchen/utils\"\nimport { WithTokenItem } from \"data/token\"\nimport styles from \"./Read.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends Partial<FormatConfig> {\n  amount?: Amount | Value\n  denom?: Denom\n  token?: Token\n\n  approx?: boolean\n  block?: boolean\n  className?: string\n\n  auto?: boolean\n}\n\nconst Read = forwardRef(\n  (\n    { amount, denom, approx, block, auto, ...props }: Props,\n    ref: ForwardedRef<HTMLSpanElement>\n  ) => {\n    if (!(amount || Number.isFinite(amount))) return null\n\n    const comma = !(typeof props.comma === \"boolean\" && props.comma === false)\n\n    const fixed = !auto\n      ? props.fixed\n      : Number(amount) >= Math.pow(10, (props.decimals ?? 6) + 3)\n      ? 0\n      : Number(amount) < Math.pow(10, props.decimals ?? 6)\n      ? props.decimals\n      : 2\n\n    const config = { ...props, comma, fixed }\n    const [integer, decimal] = readAmount(amount, config).split(\".\")\n\n    const renderDecimal = () => {\n      if (!decimal) return null\n\n      return (\n        <span className={cx({ small: !props.prefix })}>\n          {decimal && `.${decimal}`}\n        </span>\n      )\n    }\n\n    const renderSymbol = () => {\n      const token = props.token ?? denom\n\n      if (!token) return null\n\n      return (\n        <span className={styles.small}>\n          {\" \"}\n          <WithTokenItem token={token}>\n            {({ symbol }) => symbol ?? truncate(token)}\n          </WithTokenItem>\n        </span>\n      )\n    }\n\n    const className = cx(styles.component, { block }, props.className)\n\n    return (\n      <span className={className} ref={ref}>\n        {approx && \"≈ \"}\n        {integer}\n        {renderDecimal()}\n        {renderSymbol()}\n      </span>\n    )\n  }\n)\n\nexport default Read\n\n/* percent */\ninterface PercentProps extends Partial<FormatConfig> {\n  children?: string | number\n}\n\nexport const ReadPercent = forwardRef(\n  (\n    { children: value, ...config }: PercentProps,\n    ref: ForwardedRef<HTMLSpanElement>\n  ) => {\n    const [integer, decimal] = value\n      ? formatPercent(value, config).split(\".\")\n      : []\n\n    return (\n      <span className={styles.component} ref={ref}>\n        {integer}\n        {decimal && (\n          <>\n            <span className={cx({ small: Number(integer) })}>\n              {decimal && `.${decimal}`}\n            </span>\n            <span className={styles.small}>%</span>\n          </>\n        )}\n      </span>\n    )\n  }\n)\n\n/* helpers */\nexport const ReadMultiple = ({ list }: { list: Props[] }) => {\n  return (\n    <>\n      {list.map((item, index) => (\n        <Fragment key={index}>\n          {!!index && \" + \"}\n          <Read {...item} />\n        </Fragment>\n      ))}\n    </>\n  )\n}\n","import { HTMLAttributes, useState } from \"react\"\nimport classNames from \"classnames/bind\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { isDenomIBC } from \"@terra.kitchen/utils\"\nimport { getIcon } from \"data/token\"\nimport styles from \"./TokenIcon.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends HTMLAttributes<HTMLImageElement> {\n  token: Token\n  icon?: string\n  size?: number | \"inherit\"\n}\n\nconst TokenIcon = ({ token, icon, size, ...rest }: Props) => {\n  const [isError, setIsError] = useState(false)\n\n  const defaultIcon = AccAddress.validate(token)\n    ? getIcon(\"CW.svg\")\n    : isDenomIBC(token)\n    ? getIcon(\"IBC.svg\")\n    : getIcon(\"Terra.svg\")\n\n  const src = !icon || isError ? defaultIcon : icon\n  const sizes =\n    size === \"inherit\" ? undefined : { width: size ?? 24, height: size ?? 24 }\n\n  const attrs = { ...rest, ...sizes, src, className: cx(styles.icon, size) }\n  return <img {...attrs} onError={() => setIsError(true)} alt=\"\" />\n}\n\nexport default TokenIcon\n","import { ReactNode } from \"react\"\nimport { Flex } from \"../layout\"\nimport TokenIcon from \"./TokenIcon\"\nimport styles from \"./Token.module.scss\"\n\ninterface Props extends Partial<TokenItem> {\n  // customizable\n  token: Token\n  extra?: ReactNode\n  className?: string\n\n  /* customize */\n  title?: string\n  description?: ReactNode\n}\n\n// Custom token search result\nconst Token = ({ token, icon, symbol, name, ...props }: Props) => {\n  const { extra, className, title = symbol, description } = props\n\n  return (\n    <Flex start gap={12} className={className}>\n      <TokenIcon token={token} icon={icon} />\n\n      <header className={styles.header}>\n        <h1 className={styles.title}>{title}</h1>\n        {name && <h2 className={styles.name}>{name}</h2>}\n        {description && <p className={styles.description}>{description}</p>}\n      </header>\n\n      {extra && <aside className={styles.extra}>{extra}</aside>}\n    </Flex>\n  )\n}\n\nexport default Token\n","import { PropsWithChildren } from \"react\"\nimport classNames from \"classnames/bind\"\nimport AccountBalanceWalletIcon from \"@mui/icons-material/AccountBalanceWallet\"\nimport { FormatConfig } from \"@terra.kitchen/utils\"\nimport { getMaxHeightStyle } from \"utils/style\"\nimport { Flex } from \"../layout\"\nimport TokenIcon from \"./TokenIcon\"\nimport Read from \"./Read\"\nimport styles from \"./TokenCard.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends Partial<TokenItem>, Partial<FormatConfig> {\n  // customizable\n  token: Token\n  amount?: Amount\n  balance?: Amount\n  className?: string\n  value?: Value\n  valueCurrency?: Token\n  valueConfig?: Partial<FormatConfig>\n}\n\n// Where to use:\n// 1. Swap form\n// 2. Withdraw rewards\n// 3. others - if too many tokens to display on the screen\nconst TokenCard = ({ token, icon, symbol, name, balance, ...props }: Props) => {\n  const { amount = balance, value, className, ...rest } = props\n  const { valueCurrency, valueConfig, ...config } = rest\n\n  return (\n    <article className={classNames(styles.item, className)}>\n      <Flex start gap={10} className={styles.main}>\n        <div className={styles.wrapper}>\n          <TokenIcon token={token} icon={icon} />\n        </div>\n\n        <header className={styles.detail}>\n          <h1 className={styles.title}>{symbol}</h1>\n          {name && <h2 className={styles.name}>{name}</h2>}\n        </header>\n      </Flex>\n\n      {amount && (\n        <footer className={styles.footer}>\n          <p className={styles.balance}>\n            {balance && <AccountBalanceWalletIcon fontSize=\"inherit\" />}\n            <Read amount={amount} {...config} />\n          </p>\n        </footer>\n      )}\n    </article>\n  )\n}\n\nexport default TokenCard\n\n/* layout */\ninterface GridProps {\n  maxHeight?: number | true\n  singleColumn?: boolean\n}\n\nexport const TokenCardGrid = (props: PropsWithChildren<GridProps>) => {\n  const { children, maxHeight, singleColumn } = props\n\n  return (\n    <section\n      className={cx(styles.grid, { single: singleColumn })}\n      style={getMaxHeightStyle(maxHeight, 320)}\n    >\n      {children}\n    </section>\n  )\n}\n","import { debug } from \"utils/env\"\n\nexport const sandbox =\n  debug.auth ||\n  process.env.REACT_APP_SANDBOX === \"true\" ||\n  navigator.userAgent.includes(\"Electron\")\n","import { atom, useRecoilState } from \"recoil\"\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\nimport { SettingKey } from \"utils/localStorage\"\n\nconst customNetworksState = atom({\n  key: \"customNetworks\",\n  default: getLocalSetting<CustomNetwork[]>(SettingKey.CustomNetworks),\n})\n\nexport const useCustomNetworks = () => {\n  const [customNetworks, setCustomNetworks] =\n    useRecoilState(customNetworksState)\n\n  const validateName = (name: string) => {\n    return (\n      ![\"mainnet\", \"classic\", \"testnet\", \"localterra\"].includes(name) &&\n      !customNetworks.some((network) => network.name === name)\n    )\n  }\n\n  const updateList = (list: CustomNetwork[]) => {\n    setCustomNetworks(list)\n    setLocalSetting(SettingKey.CustomNetworks, list)\n  }\n\n  const add = (newNetwork: CustomNetwork) => {\n    if (!validateName(newNetwork.name))\n      throw new Error(`Already exists: ${newNetwork.name}`)\n\n    updateList([...customNetworks, newNetwork])\n  }\n\n  const remove = (name: string) =>\n    updateList(customNetworks.filter((item) => item.name !== name))\n\n  return { list: customNetworks, add, remove, validateName }\n}\n","export const getMaxHeightStyle = (\n  maxHeight: number | boolean | undefined,\n  initial?: number\n) => {\n  if (!maxHeight) return\n\n  return {\n    maxHeight: typeof maxHeight === \"number\" ? maxHeight : initial,\n    overflowY: \"auto\" as const,\n  }\n}\n","import { useQuery } from \"react-query\"\nimport { Buffer } from \"buffer\"\nimport keccak256 from \"keccak256\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useLCDClient } from \"../queries/lcdClient\"\nimport { useTerraContracts } from \"../Terra/TerraAssets\"\n\n/**\n * Resolve terra address from a domain name.\n *\n * @param name - A TNS identifier such as \"alice.ust\"\n * @returns The terra address of the specified name, null if not resolvable\n */\nexport const useTnsAddress = (name: string) => {\n  const lcd = useLCDClient()\n  const { data: contracts } = useTerraContracts()\n\n  return useQuery(\n    [queryKey.TNS, name],\n    async () => {\n      if (!contracts) return\n\n      const { tnsRegistry: registry } = contracts\n\n      if (!registry) return\n\n      /**\n       * Get the resolver address of a given domain name.\n       *\n       * @param name - A TNS identifier such as \"alice.ust\"\n       * @returns The Resolver contract address of the specified name, null if the domain does not exist.\n       *\n       * @see https://docs.ens.domains/#ens-architecture for the role of Resolver Contract\n       */\n      const { resolver } = await lcd.wasm.contractQuery<{ resolver: string }>(\n        registry,\n        { get_record: { name } }\n      )\n\n      if (!resolver) return\n\n      const { address } = await lcd.wasm.contractQuery<{ address: string }>(\n        resolver,\n        { get_terra_address: { node: node(name) } }\n      )\n\n      return address\n    },\n    { ...RefetchOptions.INFINITY, enabled: name.endsWith(\".ust\") }\n  )\n}\n\n/**\n * Resolve TNS name from a terra address.\n *\n * @param address - A terra address\n * @returns The TNS name of the specified address, null if not resolvable\n */\nexport const useTnsName = (address: string) => {\n  const lcd = useLCDClient()\n  const { data: contracts } = useTerraContracts()\n\n  return useQuery(\n    [queryKey.TNS, address],\n    async () => {\n      if (!contracts || !address) return\n\n      const { tnsReverseRecord: reverseRecord } = contracts\n\n      if (!reverseRecord) return\n\n      const { name } = await lcd.wasm.contractQuery<{ name: string | null }>(\n        reverseRecord,\n        { get_name: { address } }\n      )\n\n      return name\n    },\n    { ...RefetchOptions.INFINITY, enabled: Boolean(contracts) }\n  )\n}\n\n/**\n * Generate a unique hash for any valid domain name.\n *\n * @param name - A TNS identifier such as \"alice.ust\"\n * @returns The result of namehash function in a {@link Buffer} form\n *\n * @see https://docs.ens.domains/contract-api-reference/name-processing#hashing-names\n * for ENS Terminology\n *\n * @see https://eips.ethereum.org/EIPS/eip-137#namehash-algorithm\n * for namehash algorithm specification proposed in EIP-137\n */\nfunction namehash(name: string): Buffer {\n  if (name) {\n    const [label, remainder] = name.split(\".\")\n    return keccak256(Buffer.concat([namehash(remainder), keccak256(label)]))\n  }\n\n  return Buffer.from(\"\".padStart(64, \"0\"), \"hex\")\n}\n\n/**\n * Generate the output of the namehash function in a form of number array\n * which is supported by the contract query.\n *\n * @param name - A TNS identifier such as \"alice.ust\"\n * @returns The result of namehash function in a number array format\n */\nfunction node(name: string): number[] {\n  return Array.from(Uint8Array.from(namehash(name)))\n}\n","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ECEFFF\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#F9FAFF\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#044AAF\",\n    d: \"M0 0h50v116H0z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#F9FAFF\",\n    d: \"M102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#044AAF\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.8aa0b0fd.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/Broadcasting.b7305587.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.865781a1.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.511a8bed.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.51fd2e49.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.ecdc3a08.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.22713075.png\";","export default __webpack_public_path__ + \"static/media/favicon.3906cc84.svg\";","export default __webpack_public_path__ + \"static/media/favicon.1e08d51d.svg\";","export default __webpack_public_path__ + \"static/media/favicon.0a19ec11.svg\";","export default __webpack_public_path__ + \"static/media/favicon.76efc80b.svg\";","export default __webpack_public_path__ + \"static/media/favicon.fb7b483a.svg\";","export default __webpack_public_path__ + \"static/media/favicon.c0133547.svg\";","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#1C1C1C\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#474747\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#373737\",\n    d: \"M0 0h50v116H0z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#3C3C3C\",\n    d: \"M102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4EA4FB\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.b7444c9e.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFEBF8\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFD4D4\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#DF303D\",\n    d: \"M0 0h50v116H0z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFD4D4\",\n    d: \"M102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#DF303D\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.e38b3c5d.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#05040C\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#211B4F\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#16113B\",\n    d: \"M0 0h50v116H0z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#211B4F\",\n    d: \"M102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#F8D75D\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.bb861248.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#F2F2F2\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9D9D9D\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#000\",\n    d: \"M0 0h50v116H0zm102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FBFBFB\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.cf7f995e.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#141414\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5C2EB7\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4A209D\",\n    d: \"M0 0h50v116H0zm102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#25FF14\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.4c0ee6bc.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactNode } from \"react\"\nimport { toAmount } from \"@terra.kitchen/utils\"\n\n/* animation */\nimport AnimationLight from \"./Light/Broadcasting.png\"\nimport AnimationDark from \"./Dark/Broadcasting.png\"\nimport AnimationBlossom from \"./Blossom/Broadcasting.png\"\nimport AnimationMoon from \"./Moon/Broadcasting.png\"\nimport AnimationWhale from \"./Whale/Broadcasting.png\"\nimport AnimationMadness from \"./Madness/Broadcasting.png\"\n\n/* favicon */\nimport FaviconLight from \"./Light/favicon.svg\"\nimport FaviconDark from \"./Dark/favicon.svg\"\nimport FaviconBlossom from \"./Blossom/favicon.svg\"\nimport FaviconMoon from \"./Moon/favicon.svg\"\nimport FaviconWhale from \"./Whale/favicon.svg\"\nimport FaviconMadness from \"./Madness/favicon.svg\"\n\n/* preview */\nimport { ReactComponent as PreviewLight } from \"./Light/preview.svg\"\nimport { ReactComponent as PreviewDark } from \"./Dark/preview.svg\"\nimport { ReactComponent as PreviewBlossom } from \"./Blossom/preview.svg\"\nimport { ReactComponent as PreviewMoon } from \"./Moon/preview.svg\"\nimport { ReactComponent as PreviewWhale } from \"./Whale/preview.svg\"\nimport { ReactComponent as PreviewMadness } from \"./Madness/preview.svg\"\n\nexport interface Theme {\n  name: string\n  unlock: Amount\n  animation: string\n  favicon: string\n  preview: ReactNode\n}\n\nexport const themes: Theme[] = [\n  {\n    name: \"light\",\n    unlock: toAmount(\"0\"),\n    animation: AnimationLight,\n    favicon: FaviconLight,\n    preview: <PreviewLight />,\n  },\n  {\n    name: \"dark\",\n    unlock: toAmount(\"0\"),\n    animation: AnimationDark,\n    favicon: FaviconDark,\n    preview: <PreviewDark />,\n  },\n  {\n    name: \"blossom\",\n    unlock: toAmount(\"1\"),\n    animation: AnimationBlossom,\n    favicon: FaviconBlossom,\n    preview: <PreviewBlossom />,\n  },\n  {\n    name: \"moon\",\n    unlock: toAmount(\"10\"),\n    animation: AnimationMoon,\n    favicon: FaviconMoon,\n    preview: <PreviewMoon />,\n  },\n  {\n    name: \"whale\",\n    unlock: toAmount(\"100\"),\n    animation: AnimationWhale,\n    favicon: FaviconWhale,\n    preview: <PreviewWhale />,\n  },\n  {\n    name: \"madness\",\n    unlock: toAmount(\"1000\"),\n    animation: AnimationMadness,\n    favicon: FaviconMadness,\n    preview: <PreviewMadness />,\n  },\n]\n\nexport default themes\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Internal_item__NZeDi\",\"icon\":\"Internal_icon__2614Y\",\"disabled\":\"Internal_disabled__3zDBg\",\"chevron\":\"Internal_chevron__3Kwls\"};","const variable = (key: string) =>\n  getComputedStyle(document.body).getPropertyValue(key)\n\nexport default variable\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"total\":\"ProposalVotes_total__a6gmL\",\"list\":\"ProposalVotes_list__3MjDJ\",\"item\":\"ProposalVotes_item__3rfUD\",\"title\":\"ProposalVotes_title__3FAa-\",\"ratio\":\"ProposalVotes_ratio__1TOt7\",\"end\":\"ProposalVotes_end__3c6BM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ValidatorCompact_header__2W7Iq\",\"vertical\":\"ValidatorCompact_vertical__3Xaad\",\"moniker\":\"ValidatorCompact_moniker__2N9J5\",\"footer\":\"ValidatorCompact_footer__1pr3C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"ProposalVotesByValidator_filter__AGTOR\",\"tabs\":\"ProposalVotesByValidator_tabs__33GuY\",\"inner\":\"ProposalVotesByValidator_inner__k44Du\",\"tab\":\"ProposalVotesByValidator_tab__1iET9\",\"active\":\"ProposalVotesByValidator_active__2KXO5\",\"link\":\"ProposalVotesByValidator_link__20FKu\",\"disabled\":\"ProposalVotesByValidator_disabled__2WWQv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"AssetFormItem_border__1M14J\",\"header\":\"AssetFormItem_header__sRD_h\",\"error\":\"AssetFormItem_error__1KdAp\",\"input\":\"AssetFormItem_input__IFRjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"AssetFormItem_border__33j3x\",\"header\":\"AssetFormItem_header__2w11B\",\"error\":\"AssetFormItem_error__38Kjp\",\"input\":\"AssetFormItem_input__2l6Hw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"WithdrawRewardsForm_card__3V_bS\",\"target\":\"WithdrawRewardsForm_target__3FMzq\",\"validators\":\"WithdrawRewardsForm_validators__1OLNm\",\"button\":\"WithdrawRewardsForm_button__KZ8dx\",\"checkbox\":\"WithdrawRewardsForm_checkbox__IfJ3-\",\"item\":\"WithdrawRewardsForm_item__ga5H2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Nav_header__2aVKI\",\"toggle\":\"Nav_toggle__2m9L7\",\"item\":\"Nav_item__Ifrj1\",\"logo\":\"Nav_logo__3uF-i\",\"link\":\"Nav_link__2_eg7\",\"active\":\"Nav_active__2yaan\"};","/* Fisher–Yates Shuffle */\nconst shuffle = <T>(array: T[]) => {\n  let currentIndex = array.length,\n    temporaryValue,\n    randomIndex\n\n  while (currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex--)\n    temporaryValue = array[currentIndex]\n    array[currentIndex] = array[randomIndex]\n    array[randomIndex] = temporaryValue\n  }\n\n  return array\n}\n\nexport default shuffle\n","import { ButtonHTMLAttributes } from \"react\"\nimport { Link, LinkProps } from \"react-router-dom\"\nimport classNames from \"classnames/bind\"\nimport styles from \"./AuthButton.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface ButtonAttrs extends ButtonHTMLAttributes<HTMLButtonElement> {\n  active: boolean\n}\n\ninterface LinkAttrs extends LinkProps {\n  active: boolean\n}\n\ntype Props = ButtonAttrs | LinkAttrs\n\nconst AuthButton = ({ active, ...attrs }: Props) => {\n  const className = cx(styles.button, { active }, attrs.className)\n  if (active) return <span {...attrs} className={className} />\n  if (\"to\" in attrs) return <Link {...attrs} className={className} />\n  return <button {...attrs} type=\"button\" className={className} />\n}\n\nexport default AuthButton\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3nkL8\",\"link\":\"Card_link__30m4A\",\"button\":\"Card_button__OcuH3\",\"small\":\"Card_small__12oGs\",\"header\":\"Card_header__3Tl-k\",\"grid\":\"Card_grid__3D2g6\",\"main\":\"Card_main__2_Ark\",\"title\":\"Card_title__ygNz0\",\"extra\":\"Card_extra__3NNWa\",\"default\":\"Card_default__1qhmZ\",\"bordered\":\"Card_bordered__zBW2a\",\"bg\":\"Card_bg__8nC-H\",\"error\":\"Card_error__IB7K_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__1PgmP\",\"grid\":\"Page_grid__H_2oM\",\"sub\":\"Page_sub__2IYKM\",\"header\":\"Page_header__KWZ-A\",\"title\":\"Page_title__1-E8o\",\"small\":\"Page_small__37EoG\",\"main\":\"Page_main__3e6yw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs__3m3yR\",\"card\":\"Tabs_card__2XFeI\",\"tab\":\"Tabs_tab__VsTG8\",\"active\":\"Tabs_active__1sQI1\",\"disabled\":\"Tabs_disabled__2rEFC\",\"line\":\"Tabs_line__IgyHf\",\"reversed\":\"Tabs_reversed__1TsFZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"PaginationButtons_button__2UWtw\",\"status\":\"PaginationButtons_status__3lErC\",\"prev\":\"PaginationButtons_prev__XS0cR\",\"next\":\"PaginationButtons_next__1-vbX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Table_container__XOmbP\",\"table\":\"Table_table__2eMJf\",\"default\":\"Table_default__rmfL4\",\"small\":\"Table_small__2m8se\",\"bordered\":\"Table_bordered__1m07P\",\"center\":\"Table_center__2S_Nq\",\"right\":\"Table_right__1nzOH\",\"sorter\":\"Table_sorter__3RCQG\",\"caret\":\"Table_caret__3QwFl\",\"active\":\"Table_active__1jWCm\",\"pagination\":\"Table_pagination__2OkH9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"ProposalDeposits_main__2o9sm\",\"horizontal\":\"ProposalDeposits_horizontal__jE56S\",\"vertical\":\"ProposalDeposits_vertical__2UWdT\",\"orb\":\"ProposalDeposits_orb__1pgpM\",\"details\":\"ProposalDeposits_details__3kSdn\",\"item\":\"ProposalDeposits_item__1ypQp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SlippageControl_main__2P6Eg\",\"label\":\"SlippageControl_label__373M4\",\"wrapper\":\"SlippageControl_wrapper__XEOGT\",\"feedback-error\":\"SlippageControl_feedback-error__1xkvN\",\"error\":\"SlippageControl_error__3r18C\",\"feedback-warning\":\"SlippageControl_feedback-warning__2T7JZ\",\"warning\":\"SlippageControl_warning__tzDOS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SlippageControl_main__1KE89\",\"label\":\"SlippageControl_label__3rjKE\",\"wrapper\":\"SlippageControl_wrapper__2dpmu\",\"feedback-error\":\"SlippageControl_feedback-error__1I-p1\",\"error\":\"SlippageControl_error__35wBd\",\"feedback-warning\":\"SlippageControl_feedback-warning__2X3GI\",\"warning\":\"SlippageControl_warning__1JJDK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"LastHeight_component__3mK07\",\"indicator\":\"LastHeight_indicator__3scw2\",\"success\":\"LastHeight_success__1xmjg\",\"loading\":\"LastHeight_loading__29FnN\",\"text\":\"LastHeight_text__HrN3R\",\"link\":\"LastHeight_link__C7lBQ\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDropUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 6 3\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 3 3 0 0 3h6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropUp);\nexport default __webpack_public_path__ + \"static/media/DropUp.5253ab7c.svg\";\nexport { ForwardRef as ReactComponent };","import { PropsWithChildren } from \"react\"\nimport classNames from \"classnames\"\nimport styles from \"./Container.module.scss\"\n\ninterface Props {\n  className?: string\n}\n\nconst Container = ({ className, children }: PropsWithChildren<Props>) => {\n  return (\n    <div className={classNames(styles.container, className)}>{children}</div>\n  )\n}\n\nexport default Container\n","import { PropsWithChildren } from \"react\"\nimport { atom, useRecoilValue } from \"recoil\"\nimport classNames from \"classnames/bind\"\nimport Container from \"./Container\"\nimport styles from \"./Layout.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nexport const mobileIsMenuOpenState = atom({\n  key: \"mobileIsMenuOpen\",\n  default: false,\n})\n\n/* components */\nexport const Banner = ({ children }: PropsWithChildren<{}>) => {\n  return <div className={styles.banner}>{children}</div>\n}\n\nexport const Sidebar = ({ children }: PropsWithChildren<{}>) => {\n  return <div className={styles.sidebar}>{children}</div>\n}\n\nexport const Header = ({ children }: PropsWithChildren<{}>) => {\n  return (\n    <header className={styles.header}>\n      <Container className={styles.container}>\n        <div className={styles.wrapper}>{children}</div>\n      </Container>\n    </header>\n  )\n}\n\nexport const Actions = ({ children }: PropsWithChildren<{}>) => {\n  return <div className={styles.actions}>{children}</div>\n}\n\nexport const Content = ({ children }: PropsWithChildren<{}>) => {\n  return <main className={styles.main}>{children}</main>\n}\n\nconst Layout = ({ children }: PropsWithChildren<{}>) => {\n  const isMenuOpen = useRecoilValue(mobileIsMenuOpenState)\n\n  return (\n    <div className={cx(styles.layout, { menu: isMenuOpen })}>{children}</div>\n  )\n}\n\nexport default Layout\n","import { CSSProperties, PropsWithChildren, ReactNode } from \"react\"\nimport classNames from \"classnames/bind\"\nimport styles from \"./Grid.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nexport const Row = (props: PropsWithChildren<{ align?: \"start\" }>) => {\n  const { align, children } = props\n  return <div className={cx(styles.row, align)}>{children}</div>\n}\n\ninterface ColProps {\n  span?: number\n}\n\nexport const Col = ({ span = 1, children }: PropsWithChildren<ColProps>) => {\n  return (\n    <div className={styles.col} style={{ flex: span }}>\n      {children}\n    </div>\n  )\n}\n\ninterface Props {\n  gap?: number\n  className?: string\n  columns?: number\n  rows?: number\n  style?: CSSProperties\n}\n\nconst Grid = (props: PropsWithChildren<Props>) => {\n  const { gap, className, columns, rows, children } = props\n\n  const style = {\n    ...props.style,\n    gap,\n    gridTemplateColumns: columns && `repeat(${columns}, 1fr)`,\n    gridTemplateRows: rows && `repeat(${rows}, 1fr)`,\n  }\n\n  return (\n    <div className={classNames(styles.grid, className)} style={style}>\n      {children}\n    </div>\n  )\n}\n\nexport default Grid\n\n/* derive */\nexport const Auto = ({ columns }: { columns: [ReactNode, ReactNode] }) => {\n  const [component0, component1] = columns\n\n  return (\n    <Row align=\"start\">\n      <Col span={3}>{component0}</Col>\n      <Col span={2}>{component1}</Col>\n    </Row>\n  )\n}\n","import { PropsWithChildren, ReactNode } from \"react\"\nimport { Link, To } from \"react-router-dom\"\nimport classNames from \"classnames/bind\"\nimport { ExternalLink } from \"components/general\"\nimport { Flex } from \"../layout\"\nimport { ErrorBoundary, WithFetching } from \"../feedback\"\nimport styles from \"./Card.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nexport interface Props extends QueryState {\n  title?: ReactNode\n  extra?: ReactNode\n\n  /* customize */\n  size?: \"small\"\n  bordered?: boolean\n  bg?: boolean\n\n  className?: string\n  mainClassName?: string\n\n  /* button */\n  onClick?: () => void\n  disabled?: boolean\n\n  /* link */\n  to?: To\n  href?: string\n}\n\nconst Card = (props: PropsWithChildren<Props>) => {\n  const { title, extra, children, onClick, to, href } = props\n  const { size, bordered, bg, disabled, className, mainClassName } = props\n\n  return (\n    <WithFetching {...props} height={2}>\n      {(progress, wrong) => {\n        const style = {\n          bordered,\n          bg,\n          default: !bordered,\n          grid: (title || extra) && (children || wrong),\n          link: to || href,\n          button: onClick,\n          error: wrong,\n        }\n\n        const cardClassName = cx(styles.card, size, style, className)\n\n        const content = (\n          <>\n            {progress}\n\n            {(title || extra) && (\n              <header className={styles.header}>\n                <h1 className={styles.title}>{title}</h1>\n                <Flex className={styles.extra}>{extra}</Flex>\n              </header>\n            )}\n\n            <section className={classNames(styles.main, mainClassName)}>\n              {wrong ?? (children && <ErrorBoundary>{children}</ErrorBoundary>)}\n            </section>\n          </>\n        )\n\n        return href ? (\n          <ExternalLink href={href} className={cardClassName}>\n            {content}\n          </ExternalLink>\n        ) : to ? (\n          <Link to={to} className={cardClassName}>\n            {content}\n          </Link>\n        ) : onClick ? (\n          <button\n            className={cardClassName}\n            onClick={onClick}\n            disabled={disabled}\n          >\n            {content}\n          </button>\n        ) : (\n          <article className={cardClassName}>{content}</article>\n        )\n      }}\n    </WithFetching>\n  )\n}\n\nexport default Card\n","import { PropsWithChildren, ReactNode } from \"react\"\nimport classNames from \"classnames/bind\"\nimport { ErrorBoundary, WithFetching } from \"../feedback\"\nimport Container from \"./Container\"\nimport Card from \"./Card\"\nimport styles from \"./Page.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends QueryState {\n  title?: string\n  extra?: ReactNode\n  mainClassName?: string\n  small?: boolean\n  sub?: boolean // used as a page in a page\n}\n\nconst Page = (props: PropsWithChildren<Props>) => {\n  const { title, extra, children, small, sub, mainClassName } = props\n\n  return (\n    <WithFetching {...props}>\n      {(progress, wrong) => (\n        <>\n          {progress}\n\n          <article className={cx(styles.page, { sub, small })}>\n            <Container className={styles.grid}>\n              {title && (\n                <header className={styles.header}>\n                  <h1 className={styles.title}>{title}</h1>\n                  {extra}\n                </header>\n              )}\n\n              <section className={classNames(styles.main, mainClassName)}>\n                {wrong ? (\n                  <Card>{wrong}</Card>\n                ) : (\n                  <ErrorBoundary>{children}</ErrorBoundary>\n                )}\n              </section>\n            </Container>\n          </article>\n        </>\n      )}\n    </WithFetching>\n  )\n}\n\nexport default Page\n","import { PropsWithChildren } from \"react\"\nimport classNames from \"classnames/bind\"\nimport styles from \"./ExtraActions.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  align?: \"stretch\" | \"end\" | \"center\"\n}\n\nconst ExtraActions = ({ children, ...props }: PropsWithChildren<Props>) => {\n  const { align = \"end\" } = props\n  return <div className={cx(styles.actions, align)}>{children}</div>\n}\n\nexport default ExtraActions\n","import { ReactNode, useEffect, useState } from \"react\"\nimport { Link, useLocation, useNavigate } from \"react-router-dom\"\nimport classNames from \"classnames/bind\"\nimport { capitalize } from \"@mui/material\"\nimport styles from \"./Tabs.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  tabs: { key: string; tab: string; children: ReactNode; disabled?: boolean }[]\n  defaultActiveKey?: string\n  type: \"line\" | \"card\"\n  reversed?: boolean\n  state?: boolean\n}\n\nconst Tabs = ({ tabs, defaultActiveKey, type, reversed, state }: Props) => {\n  const initial = defaultActiveKey ?? tabs[0].key\n  const navigate = useNavigate()\n  const location = useLocation()\n  const hash = location.hash.replace(\"#\", \"\")\n\n  useEffect(() => {\n    if (!state && !hash) navigate({ hash: initial }, { replace: true })\n  }, [hash, initial, navigate, state])\n\n  /* state */\n  const [activeKey, setActiveKey] = useState(initial)\n\n  return (\n    <>\n      <section className={cx(styles.tabs, type, { reversed })}>\n        {tabs.map(({ key, tab, disabled }) =>\n          state ? (\n            <button\n              type=\"button\"\n              className={cx(styles.tab, {\n                active: key === activeKey,\n                disabled,\n              })}\n              onClick={() => !disabled && setActiveKey(key)}\n              disabled={disabled}\n              key={key}\n            >\n              {capitalize(tab)}\n            </button>\n          ) : disabled ? (\n            <span className={classNames(styles.tab, styles.disabled)} key={key}>\n              {capitalize(tab)}\n            </span>\n          ) : (\n            <Link\n              className={cx(styles.tab, { active: key === hash })}\n              to={{ hash: key }}\n              key={key}\n            >\n              {capitalize(tab)}\n            </Link>\n          )\n        )}\n      </section>\n\n      {tabs.find((tab) => tab.key === (state ? activeKey : hash))?.children}\n    </>\n  )\n}\n\nexport default Tabs\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDropDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 6 3\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 .1 3 3l3-3H0v.1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropDown);\nexport default __webpack_public_path__ + \"static/media/DropDown.bb9ef27a.svg\";\nexport { ForwardRef as ReactComponent };","import { CSSProperties, ReactNode, useMemo, useState } from \"react\"\nimport { path } from \"ramda\"\nimport classNames from \"classnames/bind\"\nimport { ReactComponent as DropUpIcon } from \"styles/images/icons/DropUp.svg\"\nimport { ReactComponent as DropDownIcon } from \"styles/images/icons/DropDown.svg\"\nimport { TooltipIcon } from \"components/display\"\nimport Grid from \"./Grid\"\nimport PaginationButtons from \"./PaginationButtons\"\nimport styles from \"./Table.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ntype SortOrder = \"desc\" | \"asc\"\ntype Sorter<T> = (a: T, b: T) => number\n\ninterface Column<T> {\n  title?: string\n  tooltip?: string\n  dataIndex?: string | string[]\n  defaultSortOrder?: SortOrder\n  sorter?: Sorter<T>\n  render?: (value: any, record: T, index: number) => ReactNode\n  key?: string\n\n  align?: \"left\" | \"center\" | \"right\"\n  hidden?: boolean\n}\n\ninterface Props<T> {\n  columns: Column<T>[]\n  dataSource: T[]\n  filter?: (record: T) => boolean\n  sorter?: (a: T, b: T) => number\n  rowKey?: (record: T) => string\n  initialSorterKey?: string\n  onSort?: () => void\n\n  size?: \"default\" | \"small\"\n  bordered?: boolean\n  style?: CSSProperties\n  pagination?: number\n}\n\nfunction Table<T>({ dataSource, filter, rowKey, ...props }: Props<T>) {\n  const { initialSorterKey, size = \"default\", bordered, style } = props\n  const { pagination } = props\n  const columns = props.columns.filter(({ hidden }) => !hidden)\n\n  /* helpers */\n  const getClassName = ({ align }: Column<T>) => cx(align)\n  const getKey = ({ dataIndex, key }: Column<T>) =>\n    key ?? (typeof dataIndex === \"string\" ? dataIndex : dataIndex?.join() ?? \"\")\n\n  /* pagination */\n  const [page, setPage] = useState(1)\n  const renderPagination = () => {\n    if (!pagination) return null\n    const total = Math.ceil(dataSource.length / pagination)\n    if (!total || total === 1) return null\n    const prevPage = page > 1 ? () => setPage((p) => p - 1) : undefined\n    const nextPage = page < total ? () => setPage((p) => p + 1) : undefined\n\n    return (\n      <footer className={styles.pagination}>\n        <PaginationButtons\n          current={page}\n          total={total}\n          onPrev={prevPage}\n          onNext={nextPage}\n        />\n      </footer>\n    )\n  }\n\n  const range = useMemo(() => {\n    if (!pagination) return []\n    const start = (page - 1) * pagination\n    const end = page * pagination\n    return [start, end] as const\n  }, [page, pagination])\n\n  /* sort */\n  const initIndex = () => {\n    if (!initialSorterKey) return\n    const index = columns.findIndex(({ key }) => key === initialSorterKey)\n    if (index > -1) return index\n  }\n\n  const initOrder = () => {\n    const index = initIndex()\n    if (typeof index === \"number\" && index > -1)\n      return columns[index].defaultSortOrder\n  }\n\n  const [sorterIndex, setSorterIndex] = useState<number | undefined>(initIndex)\n  const [sortOrder, setSortOrder] = useState<SortOrder | undefined>(initOrder)\n\n  const sorter = useMemo(() => {\n    if (typeof sorterIndex !== \"number\") return\n    const { sorter } = columns[sorterIndex]\n    if (!sorter) throw new Error()\n\n    return (a: T, b: T) => {\n      return (sortOrder === \"desc\" ? -1 : 1) * sorter(a, b)\n    }\n  }, [columns, sortOrder, sorterIndex])\n\n  const sort = (index: number) => {\n    const { defaultSortOrder } = columns[index]\n    const opposite = { asc: \"desc\" as const, desc: \"asc\" as const }\n    const next =\n      sorterIndex === index && sortOrder\n        ? opposite[sortOrder]\n        : defaultSortOrder\n\n    setSorterIndex(index)\n    setSortOrder(next)\n    props.onSort?.()\n  }\n\n  return (\n    <div className={cx(styles.container, { bordered })} style={style}>\n      <table className={cx(styles.table, size)}>\n        <thead>\n          <tr>\n            {columns.map((column, index) => {\n              const { title, tooltip, sorter, defaultSortOrder } = column\n\n              const getCaretAttrs = (key: SortOrder) => {\n                const active = sorterIndex === index && sortOrder === key\n                return {\n                  className: cx(styles.caret, { active }),\n                  width: 6,\n                  height: 3,\n                }\n              }\n\n              return (\n                <th className={getClassName(column)} key={getKey(column)}>\n                  {sorter && defaultSortOrder ? (\n                    <button\n                      className={styles.sorter}\n                      onClick={() => sort(index)}\n                    >\n                      {tooltip ? (\n                        <TooltipIcon content={tooltip}>{title}</TooltipIcon>\n                      ) : (\n                        title\n                      )}\n\n                      <Grid gap={4}>\n                        <DropUpIcon {...getCaretAttrs(\"asc\")} />\n                        <DropDownIcon {...getCaretAttrs(\"desc\")} />\n                      </Grid>\n                    </button>\n                  ) : (\n                    title\n                  )}\n                </th>\n              )\n            })}\n          </tr>\n        </thead>\n\n        <tbody>\n          {dataSource\n            .filter((data) => filter?.(data) ?? true)\n            .sort((a, b) => props.sorter?.(a, b) || sorter?.(a, b) || 0)\n            .slice(...range)\n            .map((data, index) => (\n              <tr key={rowKey?.(data) ?? index}>\n                {columns.map((column, columnIndex) => {\n                  const { dataIndex, render } = column\n                  const value: any =\n                    typeof dataIndex === \"string\"\n                      ? data[dataIndex as keyof T]\n                      : dataIndex\n                      ? path(dataIndex, data)\n                      : undefined\n\n                  const children = render?.(value, data, index) ?? value\n\n                  return (\n                    <td className={getClassName(column)} key={getKey(column)}>\n                      {children}\n                    </td>\n                  )\n                })}\n              </tr>\n            ))}\n        </tbody>\n      </table>\n\n      {renderPagination()}\n    </div>\n  )\n}\n\nexport default Table\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMedium(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.1 7.3c0-.3-.1-.5-.3-.7L2 4.3V4h6l4.6 10.1 4-10.1h5.7v.3l-1.6 1.6c-.1.1-.2.3-.2.5V18c0 .2 0 .4.2.5l1.6 1.6v.3h-8.1V20l1.7-1.6c.2-.2.2-.2.2-.5V8.6l-4.6 11.8h-.6L5.4 8.6v7.9c0 .3.1.7.3.9L7.8 20v.3H1.7V20l2.2-2.6c.2-.2.3-.6.3-.9V7.3h-.1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMedium);\nexport default __webpack_public_path__ + \"static/media/Medium.de58b848.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDiscord(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.7 6.4c-1.3-.6-2.6-1-4-1.3-.2.3-.4.7-.5 1.1-1.5-.2-3-.2-4.4 0-.2-.3-.4-.7-.5-1.1-1.4.2-2.8.7-4 1.3C2.7 10.2 2 14 2.4 17.7c1.7 1.3 3.3 2 4.9 2.5.4-.5.7-1.1 1.1-1.7-.6-.2-1.1-.5-1.7-.8.1-.1.3-.2.4-.3 3.2 1.5 6.7 1.5 9.8 0 .1.1.3.2.4.3-.5.3-1.1.6-1.7.8.3.6.7 1.2 1.1 1.7 1.6-.5 3.2-1.3 4.9-2.5.4-4.3-.7-8-2.9-11.3zm-9.9 9c-1 0-1.7-.9-1.7-2s.8-2 1.7-2c1 0 1.8.9 1.7 2 0 1.1-.8 2-1.7 2zm6.4 0c-1 0-1.7-.9-1.7-2s.8-2 1.7-2c1 0 1.8.9 1.7 2 .1 1.1-.7 2-1.7 2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDiscord);\nexport default __webpack_public_path__ + \"static/media/Discord.015542df.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTelegram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2.9 11.3 12.1-5c1.2-.5 5.2-2.2 5.2-2.2s1.9-.7 1.7 1c-.1.7-.5 3.3-.9 6l-1.3 8.2s-.1 1.2-1 1.4c-.7.3-2.2-.7-2.5-.9-.2-.2-3.9-2.5-5.2-3.6-.4-.3-.8-.9.1-1.7 1.9-1.7 4.1-3.8 5.5-5.2.6-.6 1.2-2.1-1.4-.3l-7.4 5s-.8.5-2.4.1C3.8 13.6 2 13 2 13s-1.2-.9.9-1.7z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTelegram);\nexport default __webpack_public_path__ + \"static/media/Telegram.459d4a06.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTwitter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.2 6c-.8.3-1.6.6-2.4.7.9-.5 1.5-1.3 1.8-2.3-.8.5-1.7.8-2.7 1C18.3 4.5 17.2 4 16 4c-2.3 0-4.2 1.9-4.2 4.2 0 .3 0 .6.1 1C8.4 9 5.3 7.3 3.3 4.8c-.4.6-.6 1.3-.6 2.1 0 1.5.7 2.7 1.9 3.5-.7 0-1.3-.2-1.9-.5v.1c0 2 1.4 3.7 3.4 4.1-.4.1-.7.1-1.1.1-.3 0-.5 0-.8-.1.5 1.6 2 2.8 3.8 2.9-1.4 1.1-3.2 1.8-5.2 1.8-.3 0-.7 0-1-.1 1.9 1.2 4.1 1.9 6.4 1.9 7.7 0 11.9-6.4 11.9-11.9v-.5c.9-.7 1.6-1.4 2.1-2.2\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTwitter);\nexport default __webpack_public_path__ + \"static/media/Twitter.66bba64c.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGithub(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.2 2 1.5 6.7 1.5 12.5c0 4.6 3 8.5 7.2 9.9.5.1.7-.2.7-.5V20c-2.9.6-3.5-1.2-3.5-1.2-.5-1.2-1.2-1.5-1.2-1.5-.9-.6.1-.6.1-.6 1.1.1 1.6 1.1 1.6 1.1.9 1.6 2.4 1.1 3 .9.1-.7.4-1.1.7-1.4-2.3-.3-4.8-1.2-4.8-5.2 0-1.1.4-2.1 1.1-2.8-.1-.5-.5-1.5.1-3 0 0 .9-.3 2.9 1.1.8-.2 1.7-.3 2.6-.4.9 0 1.8.1 2.6.4 2-1.4 2.9-1.1 2.9-1.1.6 1.4.2 2.5.1 2.8.7.7 1.1 1.7 1.1 2.8 0 4-2.4 4.9-4.8 5.2.4.3.7 1 .7 1.9v2.9c0 .3.2.6.7.5 4.2-1.4 7.1-5.3 7.1-9.9C22.4 6.7 17.7 2 12 2\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithub);\nexport default __webpack_public_path__ + \"static/media/Github.3be701c3.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactNode } from \"react\"\nimport classNames from \"classnames/bind\"\nimport { Contacts as ContactProps } from \"types/components\"\nimport { ReactComponent as Medium } from \"styles/images/community/Medium.svg\"\nimport { ReactComponent as Discord } from \"styles/images/community/Discord.svg\"\nimport { ReactComponent as Telegram } from \"styles/images/community/Telegram.svg\"\nimport { ReactComponent as Twitter } from \"styles/images/community/Twitter.svg\"\nimport { ReactComponent as Github } from \"styles/images/community/Github.svg\"\nimport { ExternalLink } from \"components/general\"\nimport { Flex } from \"components/layout\"\nimport styles from \"./Contacts.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst ICON_SIZE = { width: 18, height: 18 }\n\nconst icons: Record<string, ReactNode> = {\n  medium: <Medium {...ICON_SIZE} />,\n  discord: <Discord {...ICON_SIZE} />,\n  telegram: <Telegram {...ICON_SIZE} />,\n  twitter: <Twitter {...ICON_SIZE} />,\n  github: <Github {...ICON_SIZE} />,\n}\n\ninterface Props {\n  contacts: ContactProps\n  menu?: boolean\n}\n\nconst Contacts = ({ contacts, menu }: Props) => {\n  return (\n    <Flex start className={cx(styles.wrapper, { menu })}>\n      {Object.entries(contacts).map(([key, href]) => {\n        const icon = icons[key]\n        return !icon ? null : (\n          <ExternalLink href={href} className={styles.icon} key={key}>\n            {icon}\n          </ExternalLink>\n        )\n      })}\n    </Flex>\n  )\n}\n\nexport default Contacts\n","import { CSSProperties, PropsWithChildren } from \"react\"\nimport classNames from \"classnames/bind\"\nimport styles from \"./Flex.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  gap?: number\n  className?: string\n  start?: boolean\n  wrap?: boolean\n  style?: CSSProperties\n}\n\nexport const InlineFlex = (props: PropsWithChildren<Props>) => {\n  const { gap, start, wrap, className, children } = props\n  return (\n    <span\n      className={cx(styles.inline, { start, wrap }, className)}\n      style={{ gap }}\n    >\n      {children}\n    </span>\n  )\n}\n\nexport const FlexColumn = (props: PropsWithChildren<Props>) => {\n  const { gap, start, wrap, className, children } = props\n  return (\n    <div\n      className={cx(styles.column, { start, wrap }, className)}\n      style={{ gap }}\n    >\n      {children}\n    </div>\n  )\n}\n\nconst Flex = (props: PropsWithChildren<Props>) => {\n  const { gap, start, wrap, className, children, style } = props\n  return (\n    <div\n      className={cx(styles.flex, { start, wrap }, className)}\n      style={{ ...style, gap }}\n    >\n      {children}\n    </div>\n  )\n}\n\nexport default Flex\n","import { useEffect, useRef } from \"react\"\n\nconst useInterval = (callback: () => void, delay: number | null) => {\n  const savedCallback = useRef(callback)\n\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  useEffect(() => {\n    if (!delay) return\n    const id = setInterval(() => savedCallback.current(), delay)\n    return () => clearInterval(id)\n  }, [delay])\n}\n\nexport default useInterval\n","import GroupsIcon from \"@mui/icons-material/Groups\"\n\nconst MultisigBadge = () => {\n  return <GroupsIcon fontSize=\"small\" />\n}\n\nexport default MultisigBadge\n","import preconfigured from \"config/preconfigured.json\"\n\nconst usePreconfigured = () => {\n  return preconfigured as PreconfiguredWallet[]\n}\n\nexport default usePreconfigured\n","import { useTranslation } from \"react-i18next\"\nimport usePreconfigured from \"auth/hooks/usePreconfigured\"\nimport { useNetwork } from \"data/wallet\"\nimport { Select } from \"components/form\"\nimport useAuth from \"../../hooks/useAuth\"\n\nconst SelectPreconfigured = () => {\n  const { t } = useTranslation()\n  const { connectedWallet, connectPreconfigured } = useAuth()\n  const preconfigured = usePreconfigured()\n  const { preconfigure } = useNetwork()\n\n  if (!preconfigure) return null\n\n  const selected = preconfigured.find(\n    ({ name }) => name === connectedWallet?.name\n  )\n\n  return (\n    <Select\n      value={selected?.name ?? \"\"}\n      onChange={(e) => {\n        const wallet = preconfigured.find(({ name }) => name === e.target.value)\n        if (wallet) connectPreconfigured(wallet)\n      }}\n    >\n      <option value=\"\" disabled>\n        {t(\"Preconfigured wallets...\")}\n      </option>\n\n      {preconfigured.map(({ name }) => {\n        return (\n          <option value={name} key={name}>\n            {name}\n          </option>\n        )\n      })}\n    </Select>\n  )\n}\n\nexport default SelectPreconfigured\n","import LockOutlinedIcon from \"@mui/icons-material/LockOutlined\"\nimport { truncate } from \"@terra.kitchen/utils\"\nimport classNames from \"classnames/bind\"\nimport { Flex } from \"components/layout\"\nimport AuthButton from \"../../components/AuthButton\"\nimport MultisigBadge from \"../../components/MultisigBadge\"\nimport useAuth from \"../../hooks/useAuth\"\nimport is from \"../../scripts/is\"\nimport SelectPreconfigured from \"./SelectPreconfigured\"\nimport styles from \"./SwitchWallet.module.scss\"\n\nconst cx = classNames.bind(styles)\n\nconst SwitchWallet = () => {\n  const { connectedWallet, wallets, connect } = useAuth()\n\n  const localWallets = !!wallets.length && (\n    <ul className={styles.list}>\n      {wallets.map((wallet) => {\n        const { name, address, lock } = wallet\n        const active = name === connectedWallet?.name\n        const children = (\n          <>\n            <Flex gap={4}>\n              {is.multisig(wallet) && <MultisigBadge />}\n              <strong>{name}</strong>\n            </Flex>\n\n            {lock ? (\n              <LockOutlinedIcon fontSize=\"inherit\" className=\"muted\" />\n            ) : (\n              truncate(address)\n            )}\n          </>\n        )\n\n        const attrs = { className: cx(styles.wallet), active, children }\n\n        return (\n          <li key={name}>\n            {lock ? (\n              <AuthButton {...attrs} to={`/auth/unlock/${name}`} />\n            ) : (\n              <AuthButton {...attrs} onClick={() => connect(name)} />\n            )}\n          </li>\n        )\n      })}\n    </ul>\n  )\n\n  return (\n    <>\n      <SelectPreconfigured />\n      {localWallets}\n    </>\n  )\n}\n\nexport default SwitchWallet\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"List_item__1tx6u\",\"group\":\"List_group__3K365\",\"title\":\"List_title__3ofkP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"Checkbox_checkbox__1SdbU\",\"checked\":\"Checkbox_checked__1KpRm\",\"indicator\":\"Checkbox_indicator__1JTtv\",\"disabled\":\"Checkbox_disabled__3clpS\",\"text\":\"Checkbox_text__bdb49\",\"track\":\"Checkbox_track__2gz9s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggle\":\"Toggle_toggle__2QQbi\",\"text\":\"Toggle_text__1G2u8\",\"track\":\"Toggle_track__1thET\",\"checked\":\"Toggle_checked__3z3E-\",\"indicator\":\"Toggle_indicator__3hk1o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Read_component__2DP8V\",\"small\":\"Read_small__37DWT\",\"block\":\"Read_block__2nrIs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Token_header__3zHnI\",\"title\":\"Token_title__1Jo8E\",\"name\":\"Token_name__2rlDs\",\"description\":\"Token_description__3GiNN\",\"extra\":\"Token_extra__Kp-ak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flag\":\"VoteProgress_flag__RaFR2\",\"label\":\"VoteProgress_label__4KKz1\",\"line\":\"VoteProgress_line__baE45\",\"track\":\"VoteProgress_track__dG0cJ\",\"item\":\"VoteProgress_item__1XBiE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"locked\":\"SelectTheme_locked__lYFWP\",\"preview\":\"SelectTheme_preview__30Vhy\",\"wrapper\":\"SelectTheme_wrapper__-MZt-\",\"active\":\"SelectTheme_active__27dW3\",\"unlock\":\"SelectTheme_unlock__37qYp\",\"info\":\"SelectTheme_info__3s4Ry\"};","import CryptoJS from \"crypto-js\"\n\nconst keySize = 256\nconst iterations = 100\n\nconst encrypt = (msg: string, pass: string) => {\n  try {\n    const salt = CryptoJS.lib.WordArray.random(128 / 8)\n\n    const key = CryptoJS.PBKDF2(pass, salt, {\n      keySize: keySize / 32,\n      iterations: iterations,\n    })\n\n    const iv = CryptoJS.lib.WordArray.random(128 / 8)\n\n    const encrypted = CryptoJS.AES.encrypt(msg, key, {\n      iv: iv,\n      padding: CryptoJS.pad.Pkcs7,\n      mode: CryptoJS.mode.CBC,\n    })\n\n    const transitmessage =\n      salt.toString() + iv.toString() + encrypted.toString()\n    return transitmessage\n  } catch (error) {\n    return \"\"\n  }\n}\n\nexport default encrypt\n","import CryptoJS from \"crypto-js\"\n\nconst keySize = 256\nconst iterations = 100\n\nconst decrypt = (transitmessage: string, pass: string) => {\n  try {\n    const salt = CryptoJS.enc.Hex.parse(transitmessage.substr(0, 32))\n    const iv = CryptoJS.enc.Hex.parse(transitmessage.substr(32, 32))\n    const encrypted = transitmessage.substring(64)\n\n    const key = CryptoJS.PBKDF2(pass, salt, {\n      keySize: keySize / 32,\n      iterations: iterations,\n    })\n\n    const decrypted = CryptoJS.AES.decrypt(encrypted, key, {\n      iv: iv,\n      padding: CryptoJS.pad.Pkcs7,\n      mode: CryptoJS.mode.CBC,\n    }).toString(CryptoJS.enc.Utf8)\n    return decrypted\n  } catch (error) {\n    return \"\"\n  }\n}\n\nexport default decrypt\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Copy_button__Hcrbf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Dashboard_header__vYzYi\",\"trisect\":\"Dashboard_trisect__shRx3\"};","export const SAMPLE_ENCODED_TX =\n  \"CpEBCo4BChwvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dTZW5kEm4KLHRlcnJhMTk1bHFqcXJqZHE3bWZkenl5Zmw2Y3RuOHZ0a3d0NDNndnl1dGxhEix0ZXJyYTE5NWxxanFyamRxN21mZHp5eWZsNmN0bjh2dGt3dDQzZ3Z5dXRsYRoQCgV1bHVuYRIHMTAwMDAwMBIVEhMKDQoFdWx1bmESBDE4NzIQ0IoK\"\n\nexport const SAMPLE_SIGNATURE =\n  \"eyJwdWJsaWNfa2V5Ijp7IkB0eXBlIjoiL2Nvc21vcy5jcnlwdG8uc2VjcDI1NmsxLlB1YktleSIsImtleSI6IkFqc3pxRkpEUkFZYkVqWk11aUQrQ2hxemJVU0dxL1JSdTN6cjBSNmlKQjViIn0sImRhdGEiOnsic2luZ2xlIjp7Im1vZGUiOiJTSUdOX01PREVfTEVHQUNZX0FNSU5PX0pTT04iLCJzaWduYXR1cmUiOiIyNWtUOXpMSm50aHBmWklRZzR5N25iTFFnOHVYUWtRSHFwdnZRWUEyRDlVVXcvSStPWnJkU1kyK0c1djQ4ekF5Y2VSbDZ0dWxXMnljcEZiNTQwejE5dz09In19LCJzZXF1ZW5jZSI6IjAifQ==\"\n","import { Coins } from \"@terra-money/terra.js\"\nimport { isDenom, isDenomIBC } from \"@terra.kitchen/utils\"\n\n/* coin */\nexport const getAmount = (coins: Coins, denom: Denom, fallback = \"0\") => {\n  return coins.get(denom)?.amount.toString() ?? fallback\n}\n\n/* coins */\nexport const sortCoins = (\n  coins: Coins,\n  currency?: string,\n  sorter?: (a: CoinData, b: CoinData) => number\n) => {\n  return sortByDenom(coins.toData(), currency, sorter)\n}\n\nexport const sortByDenom = <T extends { denom: Denom }>(\n  coins: T[],\n  currency = \"\",\n  sorter?: (a: T, b: T) => number\n) =>\n  coins.sort(\n    (a, b) =>\n      compareIs(\"uluna\")(a.denom, b.denom) ||\n      compareIs(\"uusd\")(a.denom, b.denom) ||\n      compareIs(currency)(a.denom, b.denom) ||\n      compareIsDenomIBC(a.denom, b.denom) ||\n      (sorter?.(a, b) ?? 0)\n  )\n\nexport const sortDenoms = (denoms: Denom[], currency = \"\") =>\n  denoms.sort(\n    (a, b) =>\n      compareIs(\"uluna\")(a, b) ||\n      compareIs(\"uusd\")(a, b) ||\n      compareIs(currency)(a, b) ||\n      compareIsDenomIBC(a, b)\n  )\n\nexport const compareIsDenomIBC = (a: string, b: string) =>\n  Number(isDenomIBC(a)) - Number(isDenomIBC(b))\n\nexport const compareIs = (k: string) => (a: string, b: string) =>\n  Number(b === k) - Number(a === k)\n\n/* cw20 */\nexport const toAssetInfo = (token: string) => {\n  return isDenom(token)\n    ? { native_token: { denom: token } }\n    : { token: { contract_addr: token } }\n}\n\nexport const toAsset = (token: Token, amount: Amount) => {\n  return { amount, info: toAssetInfo(token) }\n}\n\nconst toToken = (info: AssetInfo) => {\n  return \"native_token\" in info\n    ? info.native_token.denom\n    : info.token.contract_addr\n}\n\nexport const toTokenItem = ({ amount, info }: Asset) => {\n  return { amount, token: toToken(info) }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__11pVd\",\"row\":\"Grid_row__2HmJB\",\"start\":\"Grid_start__3kqML\",\"col\":\"Grid_col__3sWWz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"Flex_flex__3Fp2P\",\"column\":\"Flex_column__Gs-NP\",\"inline\":\"Flex_inline__1joGL\",\"start\":\"Flex_start__1C89F\",\"wrap\":\"Flex_wrap__1EWY5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"FormHelp_component__2EmVH\",\"info\":\"FormHelp_info__3sEj9\",\"warning\":\"FormHelp_warning__NrdBu\",\"error\":\"FormHelp_error__26wU0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Select_wrapper__rN7g_\",\"select\":\"Select_select__3EG0Z\",\"before\":\"Select_before__34Kzp\",\"small\":\"Select_small__1_4gq\",\"caret\":\"Select_caret__3GSbO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Radio_component__3Da--\",\"disabled\":\"Radio_disabled__2MLFt\",\"label\":\"Radio_label__3mg_A\",\"indicator\":\"Radio_indicator__2WcNy\",\"checked\":\"Radio_checked__3zGio\",\"track\":\"Radio_track__5g18c\",\"reversed\":\"Radio_reversed__2a5XJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"PopoverNone_component__1um6S\",\"inner\":\"PopoverNone_inner__2yFY5\",\"footer\":\"PopoverNone_footer__3nQci\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ElectronVersion_title__3MB96\",\"grid\":\"ElectronVersion_grid__1gyrV\",\"card\":\"ElectronVersion_card__2i9I9\",\"link\":\"ElectronVersion_link__3oWfT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"asset\":\"Asset_asset__2Xwmm\",\"details\":\"Asset_details__3kj-f\",\"symbol\":\"Asset_symbol__K53Pt\",\"amount\":\"Asset_amount__1_X9a\",\"value\":\"Asset_value__25EaF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"vertical\":\"DelegationsPromote_vertical__1Kq_j\",\"main\":\"DelegationsPromote_main__1nSK7\",\"horizontal\":\"DelegationsPromote_horizontal__3h2Kc\",\"title\":\"DelegationsPromote_title__2jgfS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"total\":\"Rewards_total__1_a3c\",\"number\":\"Rewards_number__2BpbD\",\"small\":\"Rewards_small__1CT3O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"NFTAssetGroup_card__1PgyK\",\"main\":\"NFTAssetGroup_main__2b0l2\",\"icon\":\"NFTAssetGroup_icon__1-4SM\",\"link\":\"NFTAssetGroup_link__3h-Tc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ProposalHeader_header__1cRBu\",\"meta\":\"ProposalHeader_meta__2LFiG\",\"title\":\"ProposalHeader_title__EeQ2d\",\"date\":\"ProposalHeader_date__1obeb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ValidatorNumbers_title__3WGNd\",\"numbers\":\"ValidatorNumbers_numbers__1uu8s\",\"item\":\"ValidatorNumbers_item__wI5uC\",\"value\":\"ValidatorNumbers_value__FEs6Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orb\":\"Orb_orb___lQtD\",\"large\":\"Orb_large__2OXLj\",\"filled\":\"Orb_filled__ExJfM\",\"tilde\":\"Orb_tilde__1dlMR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"links\":\"Links_links__2LPyp\",\"tutorial\":\"Links_tutorial__2YW8O\",\"community\":\"Links_community__2mIIg\",\"link\":\"Links_link__quDmM\"};","import BigNumber from \"bignumber.js\"\n\nexport const has = (value?: BigNumber.Value) =>\n  !!value && new BigNumber(value).gte(1)\n\nexport const toPrice = (n: BigNumber.Value) =>\n  new BigNumber(n).dp(18, BigNumber.ROUND_DOWN).toNumber()\n","import { PropsWithChildren } from \"react\"\nimport styles from \"./Details.module.scss\"\n\nconst Details = ({ children }: PropsWithChildren<{}>) => {\n  return <div className={styles.component}>{children}</div>\n}\n\nexport default Details\n","import { PropsWithChildren } from \"react\"\nimport classNames from \"classnames\"\nimport styles from \"./Dl.module.scss\"\n\nconst Dl = (props: PropsWithChildren<{ className?: string }>) => {\n  const { children, className } = props\n  return <dl className={classNames(styles.dl, className)}>{children}</dl>\n}\n\nexport default Dl\n","import { ReactNode } from \"react\"\nimport { Link, To } from \"react-router-dom\"\nimport { ExternalLink } from \"../general\"\nimport styles from \"./List.module.scss\"\n\ninterface InternalLinkItem {\n  icon: ReactNode\n  children: string\n  to: To\n  disabled?: boolean\n}\n\ninterface ExternalLinkItem {\n  src?: string\n  icon?: ReactNode\n  children: string\n  href: string\n  disabled?: boolean\n}\n\ninterface ButtonItem {\n  src?: string\n  children: string\n  onClick: () => void\n  disabled?: boolean\n}\n\ntype ListProps = (InternalLinkItem | ExternalLinkItem | ButtonItem)[]\n\nconst List = ({ list }: { list: ListProps }) => {\n  return (\n    <section>\n      {list.map(({ children, disabled, ...item }) => {\n        if (disabled) return null\n\n        return \"to\" in item ? (\n          <Link to={item.to} className={styles.item} key={children}>\n            {children}\n            {item.icon}\n          </Link>\n        ) : \"href\" in item ? (\n          <ExternalLink href={item.href} className={styles.item} key={children}>\n            {children}\n            {item.icon}\n            {item.src && <img src={item.src} alt=\"\" width={24} height={24} />}\n          </ExternalLink>\n        ) : (\n          <button\n            type=\"button\"\n            className={styles.item}\n            onClick={item.onClick}\n            key={children}\n          >\n            {children}\n            {item.src && <img src={item.src} alt=\"\" width={24} height={24} />}\n          </button>\n        )\n      })}\n    </section>\n  )\n}\n\nexport default List\n\nexport interface Group {\n  title: string\n  list: ListProps\n}\n\nexport const ListGroup = ({ groups }: { groups: Group[] }) => {\n  return (\n    <>\n      {groups.map(({ title, list }) => {\n        if (list.every(({ disabled }) => disabled)) return null\n\n        return (\n          <article className={styles.group} key={title}>\n            <h1 className={styles.title}>{title}</h1>\n            <List list={list} />\n          </article>\n        )\n      })}\n    </>\n  )\n}\n","import { PropsWithChildren } from \"react\"\nimport classNames from \"classnames/bind\"\nimport { Color } from \"types/components\"\nimport { InlineFlex } from \"../layout\"\nimport styles from \"./Tag.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  color: Color\n  small?: boolean\n}\n\nconst Tag = ({ color, small, children }: PropsWithChildren<Props>) => {\n  const className = classNames(styles.tag, `bg-${color}`, cx({ small }))\n  return <InlineFlex className={className}>{children}</InlineFlex>\n}\n\nexport default Tag\n","import { formatDistanceToNowStrict } from \"date-fns\"\n\nexport const toNow = (date: Date) =>\n  formatDistanceToNowStrict(date, { addSuffix: true })\n","import { ReactNode } from \"react\"\nimport { useLocation } from \"react-router-dom\"\nimport Tippy, { TippyProps } from \"@tippyjs/react\"\nimport HelpOutlineOutlinedIcon from \"@mui/icons-material/HelpOutlineOutlined\"\nimport { InlineFlex } from \"../layout\"\n\nexport const Popover = ({ theme = \"popover\", ...props }: TippyProps) => {\n  const { pathname } = useLocation()\n\n  return (\n    <Tippy\n      {...props}\n      theme={theme}\n      arrow={theme !== \"none\"}\n      trigger=\"click\"\n      animation={false}\n      maxWidth={360}\n      interactive\n      key={pathname}\n    />\n  )\n}\n\nconst Tooltip = (props: TippyProps) => {\n  return <Tippy {...props} animation={false} />\n}\n\nexport default Tooltip\n\n/* derive */\ninterface Props extends Omit<TippyProps, \"children\"> {\n  children: ReactNode\n}\n\nexport const TooltipIcon = (props: Props) => {\n  return (\n    <InlineFlex gap={4} start>\n      {props.children}\n      <Tooltip {...props}>\n        <HelpOutlineOutlinedIcon fontSize=\"inherit\" className=\"muted\" />\n      </Tooltip>\n    </InlineFlex>\n  )\n}\n","import { useState } from \"react\"\nimport { toNow } from \"utils/date\"\nimport useInterval from \"utils/hooks/useInterval\"\nimport Tooltip from \"./Tooltip\"\n\ninterface Props {\n  children: Date\n  update?: boolean\n}\n\nconst ToNow = ({ children: date, update }: Props) => {\n  const [, setKey] = useState(0)\n  useInterval(\n    () => {\n      setKey((key) => key + 1)\n    },\n    update ? 1000 : null\n  )\n\n  return (\n    <Tooltip content={date.toLocaleString()}>\n      <span>{toNow(date)}</span>\n    </Tooltip>\n  )\n}\n\nexport default ToNow\n","import { useMemo } from \"react\"\nimport { LCDClient } from \"@terra-money/terra.js\"\nimport { useNetwork } from \"data/wallet\"\nimport { useIsClassic } from \"data/query\"\n\nexport const useLCDClient = () => {\n  const network = useNetwork()\n  const isClassic = useIsClassic()\n\n  const lcdClient = useMemo(\n    () => new LCDClient({ ...network, URL: network.lcd, isClassic }),\n    [network, isClassic]\n  )\n\n  return lcdClient\n}\n","import { useConnectedWallet } from \"@terra-money/use-wallet\"\nimport useAuth from \"./useAuth\"\n\n/* auth | walle-provider */\nconst useAddress = () => {\n  const connected = useConnectedWallet()\n  const { wallet } = useAuth()\n  return wallet?.address ?? connected?.terraAddress\n}\n\nexport default useAddress\n","import { atom, useRecoilState, useRecoilValue } from \"recoil\"\nimport { useWallet } from \"@terra-money/wallet-provider\"\nimport { useNetworks } from \"app/InitNetworks\"\nimport { sandbox } from \"../scripts/env\"\nimport { getStoredNetwork, storeNetwork } from \"../scripts/network\"\n\nconst networkState = atom({\n  key: \"network\",\n  default: getStoredNetwork(),\n})\n\nexport const useNetworkState = () => {\n  const [network, setNetwork] = useRecoilState(networkState)\n\n  const changeNetwork = (network: NetworkName) => {\n    setNetwork(network)\n    storeNetwork(network)\n  }\n\n  return [network, changeNetwork] as const\n}\n\n/* helpers */\nexport const useNetworkOptions = () => {\n  const networks = useNetworks()\n\n  if (!sandbox) return\n\n  return Object.values(networks).map(({ name }) => {\n    return { value: name, label: name }\n  })\n}\n\nexport const useNetwork = (): CustomNetwork => {\n  const networks = useNetworks()\n  const network = useRecoilValue(networkState)\n  const wallet = useWallet()\n\n  if (sandbox) return networks[network] ?? networks.mainnet\n  return wallet.network\n}\n\nexport const useNetworkName = () => {\n  const { name } = useNetwork()\n  return name\n}\n\nexport const useChainID = () => {\n  const { chainID } = useNetwork()\n  return chainID\n}\n","export const getStoredNetwork = () => {\n  return localStorage.getItem(\"network\") ?? \"mainnet\"\n}\n\nexport const storeNetwork = (network: NetworkName) => {\n  localStorage.setItem(\"network\", network)\n}\n","import { useQuery } from \"react-query\"\nimport axios from \"axios\"\nimport { isDenomTerraNative } from \"@terra.kitchen/utils\"\nimport { Coins } from \"@terra-money/terra.js\"\nimport createContext from \"utils/createContext\"\nimport { queryKey, RefetchOptions, useIsClassic } from \"../query\"\nimport { useAddress, useNetwork } from \"../wallet\"\nimport { useLCDClient } from \"./lcdClient\"\n\nexport const useSupply = () => {\n  const { lcd } = useNetwork()\n\n  return useQuery(\n    [queryKey.bank.supply],\n    async () => {\n      // FIXME: Import from terra.js\n      const { data } = await axios.get<{ supply: CoinData[] }>(\n        \"cosmos/bank/v1beta1/supply\",\n        {\n          baseURL: lcd,\n          params: {\n            \"pagination.reverse\": \"true\",\n          },\n        }\n      )\n\n      return data.supply\n    },\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\n// As a wallet app, native token balance is always required from the beginning.\nexport const [useBankBalance, BankBalanceProvider] =\n  createContext<Coins>(\"useBankBalance\")\n\nexport const useInitialBankBalance = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n  const isClassic = useIsClassic()\n\n  return useQuery(\n    [queryKey.bank.balance, address],\n    async () => {\n      if (!address) return new Coins()\n      // TODO: Pagination\n      // Required when the number of results exceed 100\n      if (isClassic) {\n        const [coins] = await lcd.bank.balance(address)\n        return coins\n      }\n\n      const [coins] = await lcd.bank.spendableBalances(address)\n      return coins\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useBalances = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.bank.balances, address],\n    async () => {\n      if (!address) return new Coins()\n      const [coins] = await lcd.bank.balance(address)\n      return coins\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useTerraNativeLength = () => {\n  const bankBalance = useBankBalance()\n  return bankBalance?.toArray().filter(({ denom }) => isDenomTerraNative(denom))\n    .length\n}\n\nexport const useIsWalletEmpty = () => {\n  const length = useTerraNativeLength()\n  return !length\n}\n","import { useQuery } from \"react-query\"\nimport { flatten, path, uniqBy } from \"ramda\"\nimport BigNumber from \"bignumber.js\"\nimport { AccAddress, ValAddress, Validator } from \"@terra-money/terra.js\"\nimport { Delegation, UnbondingDelegation } from \"@terra-money/terra.js\"\n/* FIXME(terra.js): Import from terra.js */\nimport { BondStatus } from \"@terra-money/terra.proto/cosmos/staking/v1beta1/staking\"\nimport { has } from \"utils/num\"\nimport { StakeAction } from \"txs/stake/StakeForm\"\nimport { queryKey, Pagination, RefetchOptions } from \"../query\"\nimport { useAddress } from \"../wallet\"\nimport { useLCDClient } from \"./lcdClient\"\n\nexport const useValidators = () => {\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.staking.validators],\n    async () => {\n      // TODO: Pagination\n      // Required when the number of results exceed LAZY_LIMIT\n\n      const [v1] = await lcd.staking.validators({\n        status: BondStatus[BondStatus.BOND_STATUS_UNBONDED],\n        ...Pagination,\n      })\n\n      const [v2] = await lcd.staking.validators({\n        status: BondStatus[BondStatus.BOND_STATUS_UNBONDING],\n        ...Pagination,\n      })\n\n      const [v3] = await lcd.staking.validators({\n        status: BondStatus[BondStatus.BOND_STATUS_BONDED],\n        ...Pagination,\n      })\n\n      return uniqBy(path([\"operator_address\"]), [...v1, ...v2, ...v3])\n    },\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\nexport const useValidator = (operatorAddress: ValAddress) => {\n  const lcd = useLCDClient()\n  return useQuery(\n    [queryKey.staking.validator, operatorAddress],\n    () => lcd.staking.validator(operatorAddress),\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\nexport const useDelegations = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.staking.delegations, address],\n    async () => {\n      if (!address) return []\n      // TODO: Pagination\n      // Required when the number of results exceed LAZY_LIMIT\n      const [delegations] = await lcd.staking.delegations(\n        address,\n        undefined,\n        Pagination\n      )\n\n      return delegations.filter(({ balance }) => has(balance.amount.toString()))\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useDelegation = (validatorAddress: ValAddress) => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.staking.delegation, address, validatorAddress],\n    async () => {\n      if (!address) return\n      try {\n        const delegation = await lcd.staking.delegation(\n          address,\n          validatorAddress\n        )\n        return delegation\n      } catch {\n        return\n      }\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useUnbondings = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.staking.unbondings, address],\n    async () => {\n      if (!address) return []\n      // Pagination is not required because it is already limited\n      const [unbondings] = await lcd.staking.unbondingDelegations(address)\n      return unbondings\n    },\n    { ...RefetchOptions.DEFAULT }\n  )\n}\n\nexport const useStakingPool = () => {\n  const lcd = useLCDClient()\n  return useQuery([queryKey.staking.pool], () => lcd.staking.pool(), {\n    ...RefetchOptions.INFINITY,\n  })\n}\n\n/* helpers */\nexport const getFindValidator = (validators: Validator[]) => {\n  return (address: AccAddress) => {\n    const validator = validators.find((v) => v.operator_address === address)\n    if (!validator) throw new Error(`${address} is not a validator`)\n    return validator\n  }\n}\n\nexport const getFindMoniker = (validators: Validator[]) => {\n  return (address: AccAddress) => {\n    const validator = getFindValidator(validators)(address)\n    return validator.description.moniker\n  }\n}\n\nexport const getAvailableStakeActions = (\n  destination: ValAddress,\n  delegations: Delegation[]\n) => {\n  return {\n    [StakeAction.DELEGATE]: true,\n    [StakeAction.REDELEGATE]:\n      delegations.filter(\n        ({ validator_address }) => validator_address !== destination\n      ).length > 0,\n    [StakeAction.UNBOND]: !!delegations.filter(\n      ({ validator_address }) => validator_address === destination\n    ).length,\n  }\n}\n\n/* delegation */\nexport const calcDelegationsTotal = (delegations: Delegation[]) => {\n  return delegations.length\n    ? BigNumber.sum(\n        ...delegations.map(({ balance }) => balance.amount.toString())\n      ).toString()\n    : \"0\"\n}\n\n/* unbonding */\nexport const calcUnbondingsTotal = (unbondings: UnbondingDelegation[]) => {\n  return BigNumber.sum(\n    ...unbondings.map(({ entries }) => sumEntries(entries))\n  ).toString()\n}\n\nexport const flattenUnbondings = (unbondings: UnbondingDelegation[]) => {\n  return flatten(\n    unbondings.map(({ validator_address, entries }) => {\n      return entries.map((entry) => ({ ...entry, validator_address }))\n    })\n  ).sort((a, b) => a.completion_time.getTime() - b.completion_time.getTime())\n}\n\nexport const sumEntries = (entries: UnbondingDelegation.Entry[]) =>\n  BigNumber.sum(\n    ...entries.map(({ initial_balance }) => initial_balance.toString())\n  ).toString()\n","import { useEffect, useRef } from \"react\"\n\nconst useTimeout = (callback: () => void, delay: number | null) => {\n  const savedCallback = useRef(callback)\n\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  useEffect(() => {\n    if (!delay && delay !== 0) return\n    const id = setTimeout(() => savedCallback.current(), delay)\n    return () => clearTimeout(id)\n  }, [delay])\n}\n\nexport default useTimeout\n","import { useTranslation } from \"react-i18next\"\nimport classNames from \"classnames\"\nimport ArrowBackIosNewIcon from \"@mui/icons-material/ArrowBackIosNew\"\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\"\nimport Flex from \"./Flex\"\nimport styles from \"./PaginationButtons.module.scss\"\n\ninterface Props {\n  current: number\n  total: number\n  onPrev?: () => void\n  onNext?: () => void\n}\n\nconst PaginationButtons = ({ onPrev, onNext, current, total }: Props) => {\n  const { t } = useTranslation()\n\n  return (\n    <Flex className={styles.group}>\n      <button\n        className={classNames(styles.button, styles.prev)}\n        onClick={onPrev}\n        disabled={!onPrev}\n      >\n        <ArrowBackIosNewIcon style={{ fontSize: 8 }} />\n      </button>\n\n      <span className={styles.status}>\n        {t(\"{{n}} of {{d}}\", { n: current, d: total })}\n      </span>\n\n      <button\n        className={classNames(styles.button, styles.next)}\n        onClick={onNext}\n        disabled={!onNext}\n      >\n        <ArrowForwardIosIcon style={{ fontSize: 8 }} />\n      </button>\n    </Flex>\n  )\n}\n\nexport default PaginationButtons\n","import { PropsWithChildren, ReactNode } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport classNames from \"classnames\"\nimport styles from \"./PopoverNone.module.scss\"\n\ninterface Props {\n  className?: string\n  footer?: { children: ReactNode; onClick: () => void; to?: string }\n}\n\nconst PopoverNone = (props: PropsWithChildren<Props>) => {\n  const { className, children, footer } = props\n\n  const renderFooter = () => {\n    if (!footer) return null\n    const { to } = footer\n    if (to) return <Link {...footer} to={to} className={styles.footer} />\n    return <button type=\"button\" {...footer} className={styles.footer} />\n  }\n\n  return (\n    <div className={classNames(styles.component, className)}>\n      <div className={styles.inner}>{children}</div>\n      {renderFooter()}\n    </div>\n  )\n}\n\nexport default PopoverNone\n","import QRCodeReact from \"qrcode.react\"\nimport variable from \"styles/variable\"\nimport { Flex } from \"components/layout\"\n\nconst QRCode = ({ value }: { value: string }) => {\n  return (\n    <Flex>\n      <QRCodeReact\n        value={value}\n        size={320}\n        bgColor={variable(\"--card-bg\")}\n        fgColor={variable(\"--text\")}\n        renderAs=\"svg\"\n      />\n    </Flex>\n  )\n}\n\nexport default QRCode\n","import { PropsWithChildren } from \"react\"\nimport { zipObj } from \"ramda\"\nimport { Coin } from \"@terra-money/terra.js\"\nimport createContext from \"utils/createContext\"\nimport { useIsClassic } from \"data/query\"\nimport { useBankBalance } from \"data/queries/bank\"\nimport { useTaxCaps, useTaxRate } from \"data/queries/treasury\"\nimport { TaxParams } from \"../utils\"\n\nexport const [useTaxParams, TaxParamsProvider] =\n  createContext<TaxParams>(\"useTaxParams\")\n\nconst TaxParamsContext = ({ children }: PropsWithChildren<{}>) => {\n  const bankBalance = useBankBalance()\n  const denoms = bankBalance.toArray().map(({ denom }: Coin) => denom) ?? []\n  const { data: taxRate } = useTaxRate(!useIsClassic()) || \"0\"\n  const taxCapsState = useTaxCaps(denoms)\n\n  const taxCaps = zipObj(\n    denoms,\n    taxCapsState.map(({ data }) => {\n      return data\n    })\n  )\n\n  return (\n    <TaxParamsProvider value={{ taxRate, taxCaps } as TaxParams}>\n      {children}\n    </TaxParamsProvider>\n  )\n}\n\nexport default TaxParamsContext\n","import { PropsWithChildren } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useIsClassic } from \"data/query\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\nimport { Pre } from \"components/general\"\nimport { Auto, Card, Grid } from \"components/layout\"\nimport { Wrong } from \"components/feedback\"\nimport { ReadMultiple } from \"components/token\"\n\nconst ReadTx = (props: PropsWithChildren<{ tx: string }>) => {\n  const { tx: encoded, children } = props\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n  const lcd = useLCDClient()\n\n  const decodeTx = (encoded: string) => {\n    try {\n      return lcd.tx.decode(encoded)\n    } catch {\n      return\n    }\n  }\n\n  const render = () => {\n    if (!encoded) return <Wrong>{t(\"Tx is not defined\")}</Wrong>\n\n    const tx = decodeTx(encoded)\n    if (!tx) return <Wrong>{t(\"Invalid tx\")}</Wrong>\n\n    const { body, auth_info } = tx\n    const { memo, messages } = body\n    const { fee } = auth_info\n\n    const contents = [\n      {\n        title: t(\"Messages\"),\n        content: messages.map((message, index) => (\n          <Pre key={index}>{message.toData(isClassic)}</Pre>\n        )),\n      },\n\n      { title: t(\"Memo\"), content: memo },\n      { title: t(\"Fee\"), content: <ReadMultiple list={fee.amount.toData()} /> },\n    ]\n\n    return (\n      <Grid gap={20}>\n        {contents.map(({ title, content }) => {\n          if (!content) return null\n\n          return (\n            <article key={title}>\n              <h1>{title}</h1>\n              {content}\n            </article>\n          )\n        })}\n      </Grid>\n    )\n  }\n\n  return <Auto columns={[<Card>{children}</Card>, <Card>{render()}</Card>]} />\n}\n\nexport default ReadTx\n","import { useTranslation } from \"react-i18next\"\nimport { RenderButton } from \"types/components\"\nimport { useAddress } from \"data/wallet\"\nimport { Grid } from \"components/layout\"\nimport { ModalButton } from \"components/feedback\"\nimport QRCode from \"auth/components/QRCode\"\n\nconst WalletQR = ({ renderButton }: { renderButton: RenderButton }) => {\n  const { t } = useTranslation()\n  const address = useAddress()\n\n  if (!address) return null\n\n  return (\n    <ModalButton title={t(\"Wallet address\")} renderButton={renderButton}>\n      <Grid gap={20}>\n        <QRCode value={address} />\n        <p className=\"small center\">{address}</p>\n      </Grid>\n    </ModalButton>\n  )\n}\n\nexport default WalletQR\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport AccountBalanceWalletIcon from \"@mui/icons-material/AccountBalanceWallet\"\nimport GroupsIcon from \"@mui/icons-material/Groups\"\nimport QrCodeIcon from \"@mui/icons-material/QrCode\"\nimport UsbIcon from \"@mui/icons-material/Usb\"\nimport { truncate } from \"@terra.kitchen/utils\"\nimport { useWallet } from \"@terra-money/wallet-provider\"\nimport { useAddress } from \"data/wallet\"\nimport { useTnsName } from \"data/external/tns\"\nimport { Button, Copy, FinderLink } from \"components/general\"\nimport CopyStyles from \"components/general/Copy.module.scss\"\nimport { Flex, Grid } from \"components/layout\"\nimport { Tooltip, Popover } from \"components/display\"\nimport { isWallet, useAuth } from \"auth\"\nimport SwitchWallet from \"auth/modules/select/SwitchWallet\"\nimport PopoverNone from \"app/components/PopoverNone\"\nimport WalletQR from \"./WalletQR\"\nimport styles from \"./Connected.module.scss\"\n\nconst Connected = () => {\n  const { t } = useTranslation()\n  const { disconnect } = useWallet()\n  const address = useAddress()\n  const { wallet, getLedgerKey } = useAuth()\n  const { data: name } = useTnsName(address ?? \"\")\n\n  /* hack to close popover */\n  const [key, setKey] = useState(0)\n  const closePopover = () => setKey((key) => key + 1)\n\n  if (!address) return null\n\n  const footer = wallet\n    ? { to: \"/auth\", onClick: closePopover, children: t(\"Manage wallets\") }\n    : { onClick: disconnect, children: t(\"Disconnect\") }\n\n  return (\n    <Popover\n      key={key}\n      content={\n        <PopoverNone className={styles.popover} footer={footer}>\n          <Grid gap={16}>\n            <Grid gap={4}>\n              <section>\n                <Tooltip content={t(\"View on Terra Finder\")}>\n                  <FinderLink className={styles.link} short>\n                    {address}\n                  </FinderLink>\n                </Tooltip>\n              </section>\n\n              <Flex gap={4} start>\n                <Copy text={address} />\n                <WalletQR\n                  renderButton={(open) => (\n                    <Tooltip content={t(\"Show address as QR code\")}>\n                      <button className={CopyStyles.button} onClick={open}>\n                        <QrCodeIcon fontSize=\"inherit\" />\n                      </button>\n                    </Tooltip>\n                  )}\n                />\n\n                {isWallet.ledger(wallet) && (\n                  <Tooltip content={t(\"Show address in Ledger device\")}>\n                    <button\n                      className={CopyStyles.button}\n                      onClick={async () => {\n                        const lk = await getLedgerKey()\n                        lk.showAddressAndPubKey()\n                      }}\n                    >\n                      <UsbIcon fontSize=\"inherit\" />\n                    </button>\n                  </Tooltip>\n                )}\n              </Flex>\n            </Grid>\n\n            <SwitchWallet />\n          </Grid>\n        </PopoverNone>\n      }\n      placement=\"bottom-end\"\n      theme=\"none\"\n    >\n      <Button\n        icon={\n          isWallet.multisig(wallet) ? (\n            <GroupsIcon style={{ fontSize: 16 }} />\n          ) : (\n            <AccountBalanceWalletIcon style={{ fontSize: 16 }} />\n          )\n        }\n        size=\"small\"\n        outline\n      >\n        {isWallet.local(wallet) ? wallet.name : truncate(name ?? address)}\n      </Button>\n    </Popover>\n  )\n}\n\nexport default Connected\n","import { useTranslation } from \"react-i18next\"\nimport UsbIcon from \"@mui/icons-material/Usb\"\nimport { useWallet } from \"@terra-money/wallet-provider\"\nimport { STATION } from \"config/constants\"\nimport { RenderButton } from \"types/components\"\nimport { useAddress } from \"data/wallet\"\nimport { Button, ExternalLink } from \"components/general\"\nimport { Grid } from \"components/layout\"\nimport { List } from \"components/display\"\nimport { ModalButton } from \"components/feedback\"\nimport { FormHelp } from \"components/form\"\nimport { useAuth } from \"auth\"\nimport SwitchWallet from \"auth/modules/select/SwitchWallet\"\nimport Connected from \"./Connected\"\n\ninterface Props {\n  renderButton?: RenderButton\n}\n\nconst ConnectWallet = ({ renderButton }: Props) => {\n  const { t } = useTranslation()\n\n  const { connect, availableConnections, availableInstallations } = useWallet()\n  const { available } = useAuth()\n\n  const address = useAddress()\n  if (address) return <Connected />\n\n  const defaultRenderButton: Props[\"renderButton\"] = (open) => (\n    <Button onClick={open} size=\"small\" outline>\n      {t(\"Connect\")}\n    </Button>\n  )\n\n  const list = [\n    ...availableConnections.map(({ type, identifier, name, icon }) => ({\n      src: icon,\n      children: name,\n      onClick: () => connect(type, identifier),\n    })),\n    {\n      icon: <UsbIcon />,\n      to: \"/auth/ledger\",\n      children: t(\"Access with ledger\"),\n    },\n    ...availableInstallations.map(({ name, icon, url }) => ({\n      src: icon,\n      children: t(`Install ${name}`),\n      href: url,\n    })),\n  ]\n\n  return (\n    <ModalButton\n      title={t(\"Connect wallet\")}\n      renderButton={renderButton ?? defaultRenderButton}\n      maxHeight\n    >\n      <Grid gap={20}>\n        <SwitchWallet />\n        <List list={available.length ? available : list} />\n        {!!available.length && (\n          <FormHelp>\n            Use <ExternalLink href={STATION}>Terra Station</ExternalLink> on the\n            browser to access with Ledger device\n          </FormHelp>\n        )}\n      </Grid>\n    </ModalButton>\n  )\n}\n\nexport default ConnectWallet\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"State_component__2k7ry\",\"icon\":\"State_icon__j6b4K\",\"content\":\"State_content__1kyZX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Pre_header__Bkybn\",\"pre\":\"Pre_pre__riR7B\",\"normal\":\"Pre_normal__1QKJE\",\"break\":\"Pre_break__2CTjm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Contacts_wrapper__2Cp5S\",\"menu\":\"Contacts_menu__3ICXA\",\"icon\":\"Contacts_icon__3Hz7i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"TextArea_textarea__2a4Ez\",\"editor\":\"TextArea_editor__T5zvj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"SwitchWallet_list__3QveT\",\"wallet\":\"SwitchWallet_wallet__3jgaj\",\"active\":\"SwitchWallet_active__CxU-G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gas\":\"Tx_gas__2Y449\",\"select\":\"Tx_select__3N328\",\"icon\":\"Tx_icon__3A46A\",\"hidden\":\"Tx_hidden__2heIe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"ChartTooltip_tooltip__1f-44\",\"value\":\"ChartTooltip_value___OT1w\",\"date\":\"ChartTooltip_date__3GPsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"ChartContainer_grid__Ka3RF\",\"title\":\"ChartContainer_title__2UTa_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"group\":\"ButtonGroup_group__2OnG4\",\"item\":\"ButtonGroup_item__1mmGM\",\"active\":\"ButtonGroup_active__24voT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"TokenItem_item__2TWZs\",\"button\":\"TokenItem_button__2_-Dg\",\"added\":\"TokenItem_added__25bUH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NFTPlaceholder_item__3Dqj6\",\"item-0\":\"NFTPlaceholder_item-0__1F-B0\",\"item-1\":\"NFTPlaceholder_item-1__2PzFP\",\"item-2\":\"NFTPlaceholder_item-2__226Y0\",\"hidden\":\"NFTPlaceholder_hidden__OVTUc\",\"image\":\"NFTPlaceholder_image__2Txm_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moniker\":\"Validators_moniker__3TbU4\",\"muted\":\"Validators_muted__NQjhc\",\"tooltip\":\"Validators_tooltip__1QgmE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"DataList_list__1EjX_\",\"horizontal\":\"DataList_horizontal__-2Rc8\",\"vertical\":\"DataList_vertical__3fLYB\",\"title\":\"DataList_title__2yWPl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ProposalsByStatus_list__14Oon\",\"link\":\"ProposalsByStatus_link__3K1nV\",\"pagination\":\"ProposalsByStatus_pagination__2yz2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"total\":\"ValidatorActions_total__4cA1y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CustomItem_item__11H7O\",\"button\":\"CustomItem_button__1oCZ_\",\"delete\":\"CustomItem_delete__2uUSE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"options\":\"VoteForm_options__2a9Pn\",\"option\":\"VoteForm_option__3cuol\",\"active\":\"VoteForm_active__3Y_lI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AnchorEarnPromote_card__BBUPO\",\"header\":\"AnchorEarnPromote_header__2ygJd\",\"footer\":\"AnchorEarnPromote_footer__3hmhp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hint\":\"Quiz_hint__IWAad\",\"item\":\"Quiz_item__1kNZU\",\"reset\":\"Quiz_reset__2RCFJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"AuthList_list__dHLko\",\"link\":\"AuthList_link__1MyRE\"};","/* query */\nexport const LAZY_LIMIT = 999\n\n/* connection */\nexport const BRIDGE = \"https://walletconnect.terra.dev\"\n\n/* api */\nexport const ASSETS = \"https://assets.opz.life\"\nexport const OBSERVER = \"wss://observer.terra.dev\"\n\n/* terra api map */\nexport const terraFCDURL = (name?: String) => {\n  switch (name) {\n    case \"mainnet\":\n      return \"https://phoenix-fcd.terra.dev\"\n    case \"testnet\":\n      return \"https://pisco-fcd.terra.dev\"\n    case \"classic\":\n      return \"https://columbus-fcd.terra.dev\"\n    case \"localterra\":\n      return \"http://localhost:3060\"\n    default:\n      return \"\"\n  }\n}\nexport const terraLCDURL = (name?: String) => {\n  switch (name) {\n    case \"mainnet\":\n      return \"https://phoenix-lcd.terra.dev\"\n    case \"testnet\":\n      return \"https://pisco-lcd.terra.dev\"\n    case \"classic\":\n      return \"https://columbus-lcd.terra.dev\"\n    case \"localterra\":\n      return \"http://localhost:1317\"\n    default:\n      return \"\"\n  }\n}\nexport const terraAPIURL = (name?: String) => {\n  switch (name) {\n    case \"mainnet\":\n      return \"https://phoenix-api.terra.dev\"\n    case \"testnet\":\n      return \"https://pisco-api.terra.dev\"\n    case \"classic\":\n      return \"https://api.terrarebels.net\"\n    default:\n      return \"\"\n  }\n}\n\n/* website */\nexport const STATION = \"https://station.terra.money\"\nexport const FINDER = \"https://finder.terra.money\"\nexport const EXTENSION =\n  \"https://chrome.google.com/webstore/detail/aiifbnbfobpmeekipheeijimdpnlpgpp\"\nexport const TUTORIAL =\n  \"https://docs.terra.money/learn/terra-station/Download/terra-station-desktop.html\"\n\n/* website: stake */\nexport const TERRA_VALIDATORS =\n  \"https://github.com/terra-money/validator-profiles/tree/master/validators/\"\n\nexport const STAKE_ID = \"https://stake.id/#/validator/\"\n\n/* ledger */\nexport const LEDGER_TRANSPORT_TIMEOUT = 120000\n\n/* tx */\nexport const DEFAULT_GAS_ADJUSTMENT = 2\nexport const CLASSIC_DEFAULT_GAS_ADJUSTMENT = 3\n\n/* swap */\nexport const TERRASWAP_COMMISSION_RATE = 0.003\n\n/* placeholder */\n// https://github.com/terra-money/localterra\nexport const SAMPLE_ADDRESS = \"terra1x46rqay4d3cssq8gxxvqz8xt6nwlz4td20k38v\"\n","import qs from \"qs\"\nimport { Tx as UnsignedTx } from \"@terra-money/terra.js\"\nimport { useAddress } from \"data/wallet\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\n\nconst useToPostMultisigTx = () => {\n  const address = useAddress()\n  const lcd = useLCDClient()\n\n  return (tx: UnsignedTx) => {\n    const pathname = \"/multisig/post\"\n    const encodedTx = lcd.tx.encode(tx)\n    return { pathname, search: qs.stringify({ address, tx: encodedTx }) }\n  }\n}\n\nexport default useToPostMultisigTx\n","import { Fragment, ReactNode } from \"react\"\nimport { useCallback, useEffect, useMemo, useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { QueryKey, useQuery } from \"react-query\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useRecoilValue, useSetRecoilState } from \"recoil\"\nimport classNames from \"classnames\"\nimport BigNumber from \"bignumber.js\"\nimport { head, isNil } from \"ramda\"\n\nimport AccountBalanceWalletIcon from \"@mui/icons-material/AccountBalanceWallet\"\nimport ErrorOutlineIcon from \"@mui/icons-material/ErrorOutline\"\nimport { isDenom, isDenomIBC, readDenom } from \"@terra.kitchen/utils\"\nimport { Coin, Coins, CreateTxOptions } from \"@terra-money/terra.js\"\nimport { LCDClient, Fee } from \"@terra-money/terra.js\"\nimport { ConnectType, UserDenied } from \"@terra-money/wallet-types\"\nimport { CreateTxFailed, TxFailed } from \"@terra-money/wallet-types\"\nimport { useWallet, useConnectedWallet } from \"@terra-money/use-wallet\"\n\nimport { Contents } from \"types/components\"\nimport { has } from \"utils/num\"\nimport { getAmount, sortCoins } from \"utils/coin\"\nimport { getErrorMessage } from \"utils/error\"\nimport { getLocalSetting, SettingKey } from \"utils/localStorage\"\nimport { useCurrency } from \"data/settings/Currency\"\nimport { RefetchOptions } from \"data/query\"\nimport { queryKey, combineState, useIsClassic } from \"data/query\"\nimport { useAddress, useNetwork } from \"data/wallet\"\nimport { isBroadcastingState, latestTxState } from \"data/queries/tx\"\nimport { useBankBalance, useIsWalletEmpty } from \"data/queries/bank\"\nimport { getShouldTax, useTaxCap, useTaxRate } from \"data/queries/treasury\"\n\nimport { Pre } from \"components/general\"\nimport { Flex, Grid } from \"components/layout\"\nimport { FormError, Submit, Select, Input, FormItem } from \"components/form\"\nimport { Modal } from \"components/feedback\"\nimport { Details } from \"components/display\"\nimport { Read } from \"components/token\"\nimport ConnectWallet from \"app/sections/ConnectWallet\"\nimport useToPostMultisigTx from \"pages/multisig/utils/useToPostMultisigTx\"\nimport { isWallet, useAuth } from \"auth\"\nimport { PasswordError } from \"auth/scripts/keystore\"\n\nimport { toInput, calcTaxes, CoinInput } from \"./utils\"\nimport { useTx } from \"./TxContext\"\nimport { useTaxParams } from \"./wasm/TaxParams\"\nimport styles from \"./Tx.module.scss\"\n\ninterface Props<TxValues> {\n  /* Only when the token is paid out of the balance held */\n  token?: Token\n  decimals?: number\n  amount?: Amount\n  coins?: CoinInput[]\n  balance?: Amount\n\n  /* tx simulation */\n  initialGasDenom: CoinDenom\n  estimationTxValues?: TxValues\n  createTx: (values: TxValues) => CreateTxOptions | undefined\n  taxRequired?: boolean\n  excludeGasDenom?: (denom: string) => boolean\n\n  /* render */\n  disabled?: string | false\n  children: (props: RenderProps<TxValues>) => ReactNode\n  onChangeMax?: (input: number) => void\n\n  /* on tx success */\n  onPost?: () => void\n  redirectAfterTx?: { label: string; path: string }\n  queryKeys?: QueryKey[]\n}\n\ntype RenderMax = (onClick?: (max: Amount) => void) => ReactNode\ninterface RenderProps<TxValues> {\n  max: { amount: Amount; render: RenderMax; reset: () => void }\n  fee: { render: (descriptions?: Contents) => ReactNode }\n  submit: { fn: (values: TxValues) => Promise<void>; button: ReactNode }\n}\n\nfunction Tx<TxValues>(props: Props<TxValues>) {\n  const { token, decimals, amount, coins, balance } = props\n  const { initialGasDenom, estimationTxValues, createTx } = props\n  const { taxRequired = false, excludeGasDenom } = props\n  const { children, onChangeMax } = props\n  const { onPost, redirectAfterTx, queryKeys } = props\n\n  const [isMax, setIsMax] = useState(false)\n  const [gasDenom, setGasDenom] = useState(initialGasDenom)\n\n  /* context */\n  const { t } = useTranslation()\n  const isClassic = useIsClassic()\n  const currency = useCurrency()\n  const network = useNetwork()\n  const { post } = useWallet()\n  const connectedWallet = useConnectedWallet()\n  const { wallet, validatePassword, ...auth } = useAuth()\n  const address = useAddress()\n  const isWalletEmpty = useIsWalletEmpty()\n  const setLatestTx = useSetRecoilState(latestTxState)\n  const isBroadcasting = useRecoilValue(isBroadcastingState)\n  const bankBalance = useBankBalance()\n  const { gasPrices } = useTx()\n\n  /* taxes */\n  const taxParams = useTaxParams()\n  const taxes = taxRequired\n    ? calcTaxes(\n        coins ?? ([{ input: 0, denom: initialGasDenom }] as CoinInput[]),\n        taxParams,\n        isClassic\n      )\n    : undefined\n  const shouldTax = getShouldTax(token, isClassic) && taxRequired\n  const { data: rate = \"0\", ...taxRateState } = useTaxRate(!shouldTax)\n  const { data: cap = \"0\", ...taxCapState } = useTaxCap(token)\n  const taxState = combineState(taxRateState, taxCapState)\n\n  /* simulation: estimate gas */\n  const simulationTx = estimationTxValues && createTx(estimationTxValues)\n  const gasAdjustmentSetting = isClassic\n    ? SettingKey.ClassicGasAdjustment\n    : SettingKey.GasAdjustment\n  const gasAdjustment = getLocalSetting<number>(gasAdjustmentSetting)\n  const key = {\n    address,\n    network,\n    initialGasDenom,\n    gasPrices,\n    gasAdjustment,\n    msgs: simulationTx?.msgs.map((msg) => msg.toData(isClassic)),\n  }\n\n  const { data: estimatedGas, ...estimatedGasState } = useQuery(\n    [queryKey.tx.create, key],\n    async () => {\n      if (!address || isWalletEmpty) return 0\n      if (!(wallet || connectedWallet?.availablePost)) return 0\n      if (!simulationTx || !simulationTx.msgs.length) return 0\n\n      const config = {\n        ...network,\n        URL: network.lcd,\n        gasAdjustment,\n        gasPrices: { [initialGasDenom]: gasPrices[initialGasDenom] },\n      }\n\n      const lcd = new LCDClient(config)\n\n      const unsignedTx = await lcd.tx.create([{ address }], {\n        ...simulationTx,\n        feeDenoms: [initialGasDenom],\n      })\n\n      return unsignedTx.auth_info.fee.gas_limit\n    },\n    {\n      ...RefetchOptions.INFINITY,\n      // To handle sequence mismatch\n      retry: 3,\n      retryDelay: 1000,\n      // Because the focus occurs once when posting back from the extension\n      refetchOnWindowFocus: false,\n      enabled: !isBroadcasting,\n    }\n  )\n\n  const getGasAmount = useCallback(\n    (denom: CoinDenom) => {\n      const gasPrice = gasPrices[denom]\n      if (isNil(estimatedGas) || !gasPrice) return \"0\"\n      return new BigNumber(estimatedGas)\n        .times(gasPrice)\n        .integerValue(BigNumber.ROUND_CEIL)\n        .toString()\n    },\n    [estimatedGas, gasPrices]\n  )\n\n  const gasAmount = getGasAmount(gasDenom)\n  const gasFee = { amount: gasAmount, denom: gasDenom }\n\n  /* max */\n  const getNativeMax = () => {\n    if (!balance) return\n    const gasAmount = gasFee.denom === token ? gasFee.amount : \"0\"\n    return calcMax({ balance, rate, cap, gasAmount, taxRequired }).max\n  }\n\n  const max = !gasFee.amount\n    ? undefined\n    : isDenom(token)\n    ? getNativeMax()\n    : balance\n\n  /* (effect): Call the onChangeMax function whenever the max changes */\n  useEffect(() => {\n    if (max && isMax && onChangeMax) onChangeMax(toInput(max, decimals))\n  }, [decimals, isMax, max, onChangeMax])\n\n  /* tax */\n  const taxAmount =\n    token && amount && shouldTax\n      ? calcMinimumTaxAmount(amount, { rate, cap })\n      : undefined\n\n  /* (effect): Log error on console */\n  const failed = getErrorMessage(taxState.error ?? estimatedGasState.error)\n  useEffect(() => {\n    if (process.env.NODE_ENV === \"development\" && failed) {\n      console.groupCollapsed(\"Fee estimation failed\")\n      console.info(simulationTx?.msgs.map((msg) => msg.toData(isClassic)))\n      console.info(failed)\n      console.groupEnd()\n    }\n  }, [failed, isClassic, simulationTx])\n\n  /* submit */\n  const passwordRequired = isWallet.single(wallet)\n  const [password, setPassword] = useState(\"\")\n  const [incorrect, setIncorrect] = useState<string>()\n\n  const disabled =\n    passwordRequired && !password\n      ? t(\"Enter password\")\n      : taxState.isLoading\n      ? t(\"Loading tax data...\")\n      : taxState.error\n      ? t(\"Failed to load tax data\")\n      : estimatedGasState.isLoading\n      ? t(\"Estimating fee...\")\n      : estimatedGasState.error\n      ? t(\"Fee estimation failed\")\n      : isBroadcasting\n      ? t(\"Broadcasting a tx...\")\n      : props.disabled || \"\"\n\n  const [submitting, setSubmitting] = useState(false)\n  const [error, setError] = useState<Error>()\n\n  const navigate = useNavigate()\n  const toPostMultisigTx = useToPostMultisigTx()\n  const submit = async (values: TxValues) => {\n    setSubmitting(true)\n\n    try {\n      if (disabled) throw new Error(disabled)\n      if (!estimatedGas || !has(gasAmount))\n        throw new Error(\"Fee is not estimated\")\n\n      const tx = createTx(values)\n\n      if (!tx) throw new Error(\"Tx is not defined\")\n\n      const gasCoins = new Coins([Coin.fromData(gasFee)])\n      const taxCoin =\n        token && taxAmount && has(taxAmount) && new Coin(token, taxAmount)\n      const taxCoins = sanitizeTaxes(taxes) ?? taxCoin\n      const feeCoins = taxCoins ? gasCoins.add(taxCoins) : gasCoins\n      const fee = new Fee(estimatedGas, feeCoins)\n\n      if (isWallet.multisig(wallet)) {\n        const unsignedTx = await auth.create({ ...tx, fee })\n        navigate(toPostMultisigTx(unsignedTx))\n      } else if (wallet) {\n        const result = await auth.post({ ...tx, fee }, password)\n        setLatestTx({ txhash: result.txhash, queryKeys, redirectAfterTx })\n      } else {\n        const { result } = await post({ ...tx, fee, isClassic })\n        setLatestTx({ txhash: result.txhash, queryKeys, redirectAfterTx })\n      }\n\n      onPost?.()\n    } catch (error) {\n      if (error instanceof PasswordError) setIncorrect(error.message)\n      else setError(error as Error)\n    }\n\n    setSubmitting(false)\n  }\n\n  const submittingLabel = isWallet.ledger(wallet) ? t(\"Confirm in ledger\") : \"\"\n\n  /* render */\n  const balanceAfterTx =\n    balance &&\n    amount &&\n    new BigNumber(balance)\n      .minus(amount)\n      .minus(taxAmount ?? 0)\n      .minus((gasFee.denom === token && gasFee.amount) || 0)\n      .toString()\n\n  const insufficient = balanceAfterTx\n    ? new BigNumber(balanceAfterTx).lt(0)\n    : false\n\n  const availableGasDenoms = useMemo(() => {\n    return sortCoins(bankBalance, currency)\n      .map(({ denom }) => denom)\n      .filter(\n        (denom) =>\n          !excludeGasDenom?.(denom) &&\n          !isDenomIBC(denom) &&\n          new BigNumber(getAmount(bankBalance, denom)).gte(getGasAmount(denom))\n      )\n  }, [bankBalance, currency, excludeGasDenom, getGasAmount])\n\n  useEffect(() => {\n    if (availableGasDenoms.includes(initialGasDenom)) return\n    setGasDenom(availableGasDenoms[0])\n  }, [availableGasDenoms, initialGasDenom])\n\n  /* element */\n  const resetMax = () => setIsMax(false)\n  const renderMax: RenderMax = (onClick) => {\n    if (!(max && has(max))) return null\n\n    return (\n      <button\n        type=\"button\"\n        className={classNames({ muted: !isMax })}\n        onClick={onClick ? () => onClick(max) : () => setIsMax(!isMax)}\n      >\n        <Flex gap={4} start>\n          <AccountBalanceWalletIcon\n            fontSize=\"inherit\"\n            className={styles.icon}\n          />\n          <Read amount={max} token={token} decimals={decimals} />\n        </Flex>\n      </button>\n    )\n  }\n\n  const renderFee = (descriptions?: Contents) => {\n    if (!estimatedGas) return null\n\n    const renderTaxes = sortCoins(taxes ?? new Coins(), currency).filter(\n      ({ amount }) => has(amount)\n    )\n\n    return (\n      <Details>\n        <dl>\n          {descriptions?.map(({ title, content }, index) => (\n            <Fragment key={index}>\n              <dt>{title}</dt>\n              <dd>{content}</dd>\n            </Fragment>\n          ))}\n\n          {!!isClassic && (\n            <>\n              <dt>{t(\"Tax\")}</dt>\n              <dd>\n                {renderTaxes.map((coin) => (\n                  <p key={coin.denom}>\n                    <Read {...coin} />\n                  </p>\n                ))}\n                {!renderTaxes.length && (\n                  <Read amount=\"0\" token={token} decimals={decimals} />\n                )}\n              </dd>\n            </>\n          )}\n\n          <dt className={styles.gas}>\n            {t(\"Fee\")}\n            {availableGasDenoms.length > 1 && (\n              <Select\n                value={gasDenom}\n                onChange={(e) => setGasDenom(e.target.value)}\n                className={styles.select}\n                small\n              >\n                {availableGasDenoms.map((denom) => (\n                  <option value={denom} key={denom}>\n                    {readDenom(denom)}\n                  </option>\n                ))}\n              </Select>\n            )}\n          </dt>\n          <dd>{gasFee.amount && <Read {...gasFee} />}</dd>\n\n          {balanceAfterTx && (\n            <>\n              <dt>{t(\"Balance\")}</dt>\n              <dd>\n                <Read amount={balance} token={token} decimals={decimals} />\n              </dd>\n\n              <dt>{t(\"Balance after tx\")}</dt>\n              <dd>\n                <Read\n                  amount={balanceAfterTx}\n                  token={token}\n                  decimals={decimals}\n                  className={classNames(insufficient && \"danger\")}\n                />\n              </dd>\n            </>\n          )}\n        </dl>\n      </Details>\n    )\n  }\n\n  const walletError =\n    connectedWallet?.connectType === ConnectType.READONLY\n      ? t(\"Wallet is connected as read-only mode\")\n      : !availableGasDenoms.length\n      ? t(\"Insufficient balance to pay transaction fee\")\n      : isWalletEmpty\n      ? t(\"Coins required to post transactions\")\n      : \"\"\n\n  const submitButton = (\n    <>\n      {walletError && <FormError>{walletError}</FormError>}\n\n      {!address ? (\n        <ConnectWallet\n          renderButton={(open) => (\n            <Submit type=\"button\" onClick={open}>\n              {t(\"Connect wallet\")}\n            </Submit>\n          )}\n        />\n      ) : (\n        <Grid gap={4}>\n          {passwordRequired && (\n            <FormItem label={t(\"Password\")} error={incorrect}>\n              <Input\n                type=\"password\"\n                value={password}\n                onChange={(e) => {\n                  setIncorrect(undefined)\n                  setPassword(e.target.value)\n                }}\n              />\n            </FormItem>\n          )}\n\n          {failed && <FormError>{failed}</FormError>}\n\n          <Submit\n            disabled={!estimatedGas || !!disabled || !!walletError}\n            submitting={submitting}\n          >\n            {submitting ? submittingLabel : disabled}\n          </Submit>\n        </Grid>\n      )}\n    </>\n  )\n\n  const modal = !error\n    ? undefined\n    : {\n        title:\n          error instanceof UserDenied\n            ? t(\"User denied\")\n            : error instanceof CreateTxFailed\n            ? t(\"Failed to create tx\")\n            : error instanceof TxFailed\n            ? t(\"Tx failed\")\n            : t(\"Error\"),\n        children:\n          error instanceof UserDenied ? null : (\n            <Pre height={120} normal break>\n              {error.message}\n            </Pre>\n          ),\n      }\n\n  return (\n    <>\n      {children({\n        max: { amount: max ?? \"0\", render: renderMax, reset: resetMax },\n        fee: { render: renderFee },\n        submit: { fn: submit, button: submitButton },\n      })}\n\n      {modal && (\n        <Modal\n          {...modal}\n          icon={<ErrorOutlineIcon fontSize=\"inherit\" className=\"danger\" />}\n          onRequestClose={() => setError(undefined)}\n          isOpen\n        />\n      )}\n    </>\n  )\n}\n\nexport default Tx\n\n/* utils */\nexport const getInitialGasDenom = (bankBalance: Coins) => {\n  const denom = head(sortCoins(bankBalance))?.denom ?? \"uusd\"\n  const uusd = getAmount(bankBalance, \"uusd\")\n  return has(uusd) ? \"uusd\" : denom\n}\n\ninterface Params {\n  balance: Amount\n  rate: string\n  cap: Amount\n  gasAmount: Amount\n  taxRequired: boolean\n}\n\n// Receive tax and gas information and return the maximum payment amount\nexport const calcMax = ({\n  balance,\n  rate,\n  cap,\n  gasAmount,\n  taxRequired,\n}: Params) => {\n  const available = new BigNumber(balance).minus(gasAmount)\n\n  const tax = calcMinimumTaxAmount(available, {\n    rate: new BigNumber(rate).div(new BigNumber(1).plus(rate)),\n    cap,\n  })\n\n  const max = BigNumber.max(\n    new BigNumber(available).minus(taxRequired ? tax : 0),\n    0\n  )\n    .integerValue(BigNumber.ROUND_FLOOR)\n    .toString()\n\n  return { max, tax }\n}\n\nexport const calcMinimumTaxAmount = (\n  amount: BigNumber.Value,\n  { rate, cap }: { rate: BigNumber.Value; cap: BigNumber.Value }\n) => {\n  return BigNumber.min(new BigNumber(amount).times(rate), cap)\n    .integerValue(BigNumber.ROUND_FLOOR)\n    .toString()\n}\n\nconst sanitizeTaxes = (taxes?: Coins) => {\n  return taxes?.toArray().filter((tax) => has(tax.amount.toString())).length\n    ? taxes\n    : undefined\n}\n\n/* hooks */\nexport const useTxKey = () => {\n  const { txhash } = useRecoilValue(latestTxState)\n  const [key, setKey] = useState(txhash)\n\n  useEffect(() => {\n    if (txhash) setKey(txhash)\n  }, [txhash])\n\n  return key\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__EBLlD\",\"disabled\":\"Button_disabled__3yCOo\",\"loading\":\"Button_loading__2N3Cn\",\"small\":\"Button_small__2GAua\",\"default\":\"Button_default__1yg9_\",\"primary\":\"Button_primary__3-zqt\",\"danger\":\"Button_danger__3PrKY\",\"outline\":\"Button_outline__w7vxz\",\"block\":\"Button_block__27vg-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"ExtraActions_actions__1vrze\",\"end\":\"ExtraActions_end__2oVGE\",\"center\":\"ExtraActions_center__1ioDL\",\"stretch\":\"ExtraActions_stretch__2gSEP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tag\":\"Tag_tag__GkMqk\",\"small\":\"Tag_small__1zlnn\"};","import { DEFAULT_GAS_ADJUSTMENT, CLASSIC_DEFAULT_GAS_ADJUSTMENT } from \"config/constants\"\nimport themes from \"styles/themes/themes\"\n\nexport enum SettingKey {\n  Theme = \"Theme\",\n  Currency = \"Currency\",\n  CustomNetworks = \"CustomNetworks\",\n  GasAdjustment = \"GasAdjustment\", // Tx\n  ClassicGasAdjustment = \"ClassicGasAdjustment\",\n  AddressBook = \"AddressBook\", // Send\n  CustomTokens = \"CustomTokens\", // Wallet\n  MinimumValue = \"MinimumValue\", // Wallet (UST value to show on the list)\n  WithdrawAs = \"WithdrawAs\", // Rewards (Preferred denom to withdraw rewards)\n}\n\nconst isSystemDarkMode =\n  window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n\nexport const DefaultTheme = themes[Number(isSystemDarkMode)]\n\nexport const DefaultCustomTokensItem = { ibc: [], cw20: [], cw721: [] }\nconst DefaultCustomTokens = { mainnet: DefaultCustomTokensItem }\n\nexport const DefaultSettings = {\n  [SettingKey.Theme]: DefaultTheme,\n  [SettingKey.Currency]: \"uusd\",\n  [SettingKey.CustomNetworks]: [] as CustomNetwork[],\n  [SettingKey.GasAdjustment]: DEFAULT_GAS_ADJUSTMENT,\n  [SettingKey.ClassicGasAdjustment]: CLASSIC_DEFAULT_GAS_ADJUSTMENT,\n  [SettingKey.AddressBook]: [] as AddressBook[],\n  [SettingKey.CustomTokens]: DefaultCustomTokens as CustomTokens,\n  [SettingKey.MinimumValue]: 0,\n  [SettingKey.WithdrawAs]: \"\",\n}\n\nexport const getLocalSetting = <T>(key: SettingKey): T => {\n  const localItem = localStorage.getItem(key)\n\n  if (!localItem) return DefaultSettings[key] as unknown as T\n\n  try {\n    return JSON.parse(localItem)\n  } catch {\n    return localItem as unknown as T\n  }\n}\n\nexport const setLocalSetting = <T>(key: SettingKey, value: T) => {\n  const item = typeof value === \"string\" ? value : JSON.stringify(value)\n  localStorage.setItem(key, item)\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radio\":\"RadioButton_radio__3OjVb\",\"checked\":\"RadioButton_checked__1kmCb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Upload_label__iRQcd\",\"footer\":\"Upload_footer__Aml1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"RadioGroup_list__2iBW7\",\"item\":\"RadioGroup_item__3aTl1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"TokenIcon_icon__mIt5x\",\"inherit\":\"TokenIcon_inherit__1T565\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AuthButton_button__3FEBJ\",\"active\":\"AuthButton_active__2YlMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popover\":\"Connected_popover__2GWYg\",\"link\":\"Connected_link__3QNkp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"value\":\"DashboardContent_value__Vc5ND\",\"footer\":\"DashboardContent_footer__3Dsxw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"charts\":\"Charts_charts__f3M39\",\"trisect\":\"Charts_trisect__jbieM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"results\":\"TokenList_results__21nY7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"HistoryMessage_component__ECk17\",\"message\":\"HistoryMessage_message__3UpQT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"HistoryItem_footer__261GP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"amount\":\"StakedCard_amount__-L5hl\",\"small\":\"StakedCard_small__h-F6c\",\"value\":\"StakedCard_value__2JpZ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ContractDetails_header__1Q1Bs\",\"link\":\"ContractDetails_link__2_2Lx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"ContractItem_main__oU8Qw\",\"link\":\"ContractItem_link__2AluO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"TFMPoweredBy_component__3zFmb\",\"link\":\"TFMPoweredBy_link__3Qsxy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"price\":\"SwapMultipleForm_price__5sh26\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SelectAddress_button__3wID-\",\"coins\":\"SelectAddress_coins__dD_SQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"HeaderIconButton_wrapper__1GFYY\",\"button\":\"HeaderIconButton_button__3_Rzh\"};","import BigNumber from \"bignumber.js\"\nimport { readAmount, toAmount } from \"@terra.kitchen/utils\"\nimport { Coin, Coins } from \"@terra-money/terra.js\"\nimport { has } from \"utils/num\"\nimport { getShouldTax } from \"data/queries/treasury\"\nimport { calcMinimumTaxAmount } from \"./Tx\"\nimport { FindDecimals } from \"./IBCHelperContext\"\n\nexport const getPlaceholder = (decimals = 6) => \"0.\".padEnd(decimals + 2, \"0\")\n\nexport const toInput = (amount: BigNumber.Value, decimals = 6) =>\n  new BigNumber(readAmount(amount, { decimals })).toNumber()\n\n/* field array (coins) */\nexport interface CoinInput {\n  input?: number\n  denom: CoinDenom\n  taxRequired?: boolean\n}\n\nexport const getCoins = (coins: CoinInput[], findDecimals?: FindDecimals) => {\n  return new Coins(\n    coins\n      .map(({ input, denom }) => {\n        const decimals = findDecimals?.(denom)\n        return { amount: toAmount(input, { decimals }), denom }\n      })\n      .filter(({ amount }) => has(amount))\n      .map(({ amount, denom }) => new Coin(denom, amount))\n  )\n}\n\nexport interface TaxParams {\n  taxRate?: string\n  taxCaps?: Record<Denom, Amount>\n}\n\nexport const calcTaxes = (\n  coins: CoinInput[],\n  { taxRate = \"0\", taxCaps = {} }: TaxParams,\n  isClassic: boolean\n) => {\n  return new Coins(\n    coins\n      .filter(({ input, denom, taxRequired }) => {\n        const amount = toAmount(input)\n        return getShouldTax(denom, isClassic) && has(amount) && taxRequired\n      })\n      .map(({ input, denom, taxRequired }) => {\n        const amount = toAmount(input)\n        const tax = calcMinimumTaxAmount(amount, {\n          rate: taxRequired ? taxRate : \"0\",\n          cap: taxCaps[denom],\n        })\n\n        if (!tax) throw new Error()\n        return new Coin(denom, tax)\n      })\n  )\n}\n","import { useQuery } from \"react-query\"\nimport axios, { AxiosError } from \"axios\"\nimport { fromPairs, toPairs } from \"ramda\"\nimport { flatten, groupBy, map, mergeAll, values } from \"ramda\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { ASSETS } from \"config/constants\"\nimport shuffle from \"utils/shuffle\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useNetworkName } from \"../wallet\"\n\nconst config = { baseURL: ASSETS }\n\nexport const useTerraAssets = <T>(path: string, callback?: (data: T) => T) => {\n  return useQuery<T, AxiosError>(\n    [queryKey.TerraAssets, path],\n    async () => {\n      const { data } = await axios.get<T>(path, config)\n      return callback?.(data) ?? data\n    },\n    { ...RefetchOptions.INFINITY }\n  )\n}\n\nexport const useTerraAssetsByNetwork = <T>(\n  path: string,\n  disabled = false,\n  callback?: (data: T) => T\n) => {\n  const networkName = useNetworkName()\n\n  return useQuery<T | undefined, AxiosError>(\n    [queryKey.TerraAssets, path, networkName],\n    async () => {\n      const { data } = await axios.get<Record<NetworkName, T>>(path, config)\n      if (!data[networkName]) return {} as T\n      return callback?.(data[networkName]) ?? data[networkName]\n    },\n    { ...RefetchOptions.INFINITY, enabled: !disabled }\n  )\n}\n\nexport const useIBCWhitelist = () => {\n  return useTerraAssetsByNetwork<IBCWhitelist>(\"ibc/tokens.json\")\n}\n\nexport const useCW20Contracts = () => {\n  return useTerraAssetsByNetwork<CW20Contracts>(\"cw20/contracts.json\")\n}\n\nexport const useCW20Whitelist = (disabled = false) => {\n  return useTerraAssetsByNetwork<CW20Whitelist>(\n    \"cw20/tokens.json\",\n    disabled,\n    (data) => sortWhitelistCW20(shuffleByProtocol(data))\n  )\n}\n\nexport const useCW20Pairs = () => {\n  return useTerraAssetsByNetwork<CW20Pairs>(\"cw20/pairs.dex.json\")\n}\n\nexport type ContractNames =\n  | \"assertLimitOrder\"\n  | \"routeswap\"\n  | \"tnsRegistry\"\n  | \"tnsReverseRecord\"\n\nexport type TerraContracts = Record<ContractNames, AccAddress>\nexport const useTerraContracts = () => {\n  return useTerraAssetsByNetwork<TerraContracts>(\"contracts.json\")\n}\n\nexport const useCW721Whitelist = () => {\n  return useTerraAssetsByNetwork<CW721Whitelist>(\n    \"cw721/contracts.json\",\n    undefined,\n    shuffleByProtocol\n  )\n}\n\ninterface CW721MarketplaceItem {\n  name: string\n  link: string\n}\n\nexport const useCW721Marketplace = () => {\n  return useTerraAssets<CW721MarketplaceItem[]>(\"cw721/marketplace.json\")\n}\n\n/* helpers */\nconst sortWhitelistCW20 = (data: CW20Whitelist) => {\n  const sorted = toPairs(data).sort(\n    ([, a], [, b]) =>\n      Number(b.symbol === \"ANC\") - Number(a.symbol === \"ANC\") ||\n      Number(b.protocol === \"Anchor\") - Number(a.protocol === \"Anchor\") ||\n      Number(b.symbol === \"MIR\") - Number(a.symbol === \"MIR\") ||\n      Number(b.protocol === \"Mirror\") - Number(a.protocol === \"Mirror\")\n  )\n\n  return fromPairs(\n    sorted.map(([t, { decimals, ...item }]) => {\n      return [t, { ...item, decimals: decimals ?? 6 }]\n    })\n  )\n}\n\nexport const shuffleByProtocol = <T extends CW20Whitelist | CW721Whitelist>(\n  array: T\n) => {\n  const shuffledPair = shuffle(\n    toPairs(\n      groupBy(([, { protocol, name }]) => protocol ?? name, toPairs(array))\n    )\n  )\n\n  return mergeAll(flatten(map(fromPairs, values(fromPairs(shuffledPair)))))\n}\n","import { HTMLAttributes, PropsWithChildren, ReactNode } from \"react\"\nimport ArrowDownwardIcon from \"@mui/icons-material/ArrowDownward\"\nimport { Grid } from \"../layout\"\nimport styles from \"./Form.module.scss\"\n\nconst Form = (attrs: HTMLAttributes<HTMLFormElement>) => {\n  return <form {...attrs} className={styles.form} />\n}\n\nexport default Form\n\n/* arrow */\nexport const FormArrow = ({ onClick }: { onClick?: () => void }) => {\n  return (\n    <div className=\"center\">\n      {onClick ? (\n        <button type=\"button\" onClick={onClick}>\n          <ArrowDownwardIcon />\n        </button>\n      ) : (\n        <ArrowDownwardIcon />\n      )}\n    </div>\n  )\n}\n\n/* group */\ninterface FormGroupProps {\n  button?: { onClick: () => void; children: ReactNode }\n}\n\nexport const FormGroup = (props: PropsWithChildren<FormGroupProps>) => {\n  const { children, button } = props\n\n  return (\n    <div className={styles.group}>\n      {children}\n      {button && <button type=\"button\" className={styles.button} {...button} />}\n    </div>\n  )\n}\n\ninterface FormItemProps {\n  label?: ReactNode\n  extra?: ReactNode\n  error?: string\n}\n\n/* item */\nexport const FormItem = (props: PropsWithChildren<FormItemProps>) => {\n  const { label, extra, error, children } = props\n\n  return (\n    <Grid gap={4}>\n      <header className={styles.header}>\n        {label && <label className={styles.label}>{label}</label>}\n        <aside className={styles.extra}>{extra}</aside>\n      </header>\n\n      {children}\n\n      {error && <p className={styles.error}>{error}</p>}\n    </Grid>\n  )\n}\n","import { PropsWithChildren } from \"react\"\nimport classNames from \"classnames/bind\"\nimport InfoIcon from \"@mui/icons-material/Info\"\nimport { Flex } from \"../layout\"\nimport styles from \"./FormHelp.module.scss\"\n\nconst Component = (props: PropsWithChildren<{ className: string }>) => {\n  const { children, className } = props\n  return (\n    <div className={classNames(styles.component, className)}>\n      <Flex>\n        <InfoIcon fontSize=\"inherit\" style={{ fontSize: 18 }} />\n      </Flex>\n      <span>{children}</span>\n    </div>\n  )\n}\n\nexport const FormHelp = (props: PropsWithChildren<{}>) => {\n  return <Component {...props} className={styles.info} />\n}\n\nexport const FormWarning = (props: PropsWithChildren<{}>) => {\n  return <Component {...props} className={styles.warning} />\n}\n\nexport const FormError = (props: PropsWithChildren<{}>) => {\n  return <Component {...props} className={styles.error} />\n}\n","import { ForwardedRef, forwardRef, InputHTMLAttributes, ReactNode } from \"react\"\nimport classNames from \"classnames/bind\"\nimport SearchIcon from \"@mui/icons-material/Search\"\nimport { WithTokenItem } from \"data/token\"\nimport { Flex } from \"../layout\"\nimport styles from \"./Input.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\n  token?: Token\n  selectBefore?: ReactNode\n}\n\nconst Input = forwardRef(\n  (\n    { selectBefore, token, ...attrs }: Props,\n    ref: ForwardedRef<HTMLInputElement>\n  ) => {\n    return (\n      <div className={styles.wrapper}>\n        {selectBefore}\n\n        <input\n          {...attrs}\n          className={cx(styles.input, { before: token, after: selectBefore })}\n          autoComplete=\"off\"\n          ref={ref}\n        />\n\n        {token && (\n          <WithTokenItem token={token}>\n            {({ symbol }) => (\n              <Flex className={classNames(styles.symbol, styles.after)}>\n                {symbol}\n              </Flex>\n            )}\n          </WithTokenItem>\n        )}\n      </div>\n    )\n  }\n)\n\nexport default Input\n\n/* search */\nexport const SearchInput = forwardRef(\n  (\n    attrs: InputHTMLAttributes<HTMLInputElement>,\n    ref: ForwardedRef<HTMLInputElement>\n  ) => {\n    return (\n      <div className={classNames(styles.wrapper, styles.search)}>\n        <input\n          {...attrs}\n          className={styles.input}\n          inputMode=\"search\"\n          autoComplete=\"off\"\n          ref={ref}\n        />\n\n        <SearchIcon className={styles.icon} />\n      </div>\n    )\n  }\n)\n","import { ForwardedRef, PropsWithChildren, TextareaHTMLAttributes } from \"react\"\nimport { forwardRef } from \"react\"\nimport styles from \"./TextArea.module.scss\"\n\nconst TextArea = forwardRef(\n  (\n    attrs: TextareaHTMLAttributes<HTMLTextAreaElement>,\n    ref: ForwardedRef<HTMLTextAreaElement>\n  ) => {\n    return (\n      <textarea rows={3} {...attrs} className={styles.textarea} ref={ref} />\n    )\n  }\n)\n\nexport default TextArea\n\n/* editor */\nexport const EditorInput = forwardRef(\n  (\n    attrs: TextareaHTMLAttributes<HTMLTextAreaElement>,\n    ref: ForwardedRef<HTMLTextAreaElement>\n  ) => {\n    return <textarea {...attrs} className={styles.editor} rows={6} ref={ref} />\n  }\n)\n\nexport const Value = ({ children }: PropsWithChildren<{}>) => {\n  return <div className={styles.textarea}>{children}</div>\n}\n","import { ForwardedRef, forwardRef, SelectHTMLAttributes } from \"react\"\nimport classNames from \"classnames/bind\"\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\"\nimport styles from \"./Select.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends SelectHTMLAttributes<HTMLSelectElement> {\n  small?: boolean\n  before?: boolean\n}\n\nconst Select = forwardRef(\n  (\n    { small, before, ...attrs }: Props,\n    ref: ForwardedRef<HTMLSelectElement>\n  ) => {\n    const className = cx(styles.select, { small, before })\n\n    return (\n      <div className={classNames(styles.wrapper, attrs.className)}>\n        <select {...attrs} className={className} ref={ref} />\n        <ArrowDropDownIcon style={{ fontSize: 18 }} className={styles.caret} />\n      </div>\n    )\n  }\n)\n\nexport default Select\n","import { PropsWithChildren, ReactNode } from \"react\"\nimport classNames from \"classnames/bind\"\nimport { Flex, Grid } from \"../layout\"\nimport styles from \"./Radio.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  label: ReactNode\n  className?: string\n  checked: boolean\n  disabled?: boolean\n  onClick?: () => void\n  reversed?: boolean\n}\n\nconst Radio = (props: PropsWithChildren<Props>) => {\n  const { label, children, checked, disabled, onClick, reversed } = props\n  const className = cx(styles.component, { checked, disabled }, props.className)\n\n  const input = (\n    <Flex className={styles.track}>\n      <span className={styles.indicator} />\n    </Flex>\n  )\n\n  return (\n    <button type=\"button\" className={className} onClick={onClick}>\n      <Grid gap={4}>\n        <Flex gap={8} start className={cx({ reversed })}>\n          {reversed ? (\n            <>\n              {label}\n              {input}\n            </>\n          ) : (\n            <>\n              {input}\n              {label}\n            </>\n          )}\n        </Flex>\n\n        {children}\n      </Grid>\n    </button>\n  )\n}\n\nexport default Radio\n","import { ForwardedRef, forwardRef, InputHTMLAttributes } from \"react\"\nimport classNames from \"classnames/bind\"\nimport styles from \"./RadioButton.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\n  value: string\n  checked: boolean\n}\n\nconst RadioButton = forwardRef(\n  (\n    { value, checked, children, ...attrs }: Props,\n    ref: ForwardedRef<HTMLInputElement>\n  ) => {\n    return (\n      <label className={cx(styles.radio, { checked })}>\n        <input {...attrs} value={value} type=\"radio\" ref={ref} hidden />\n        <span>{children}</span>\n      </label>\n    )\n  }\n)\n\nexport default RadioButton\n","import { ForwardedRef, forwardRef, InputHTMLAttributes } from \"react\"\nimport classNames from \"classnames/bind\"\nimport styles from \"./Checkbox.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\n  disabled?: boolean\n}\n\nconst Checkbox = forwardRef(\n  (\n    { className, children, ...attrs }: Props,\n    ref: ForwardedRef<HTMLInputElement>\n  ) => {\n    const { checked, disabled } = attrs\n    return (\n      <label className={cx(styles.checkbox, { checked, disabled }, className)}>\n        <input {...attrs} type=\"checkbox\" hidden ref={ref} />\n        <span className={styles.track}>\n          <span className={styles.indicator} />\n        </span>\n        <span className={styles.text}>{children}</span>\n      </label>\n    )\n  }\n)\n\nexport default Checkbox\n","import { PropsWithChildren } from \"react\"\nimport classNames from \"classnames/bind\"\nimport styles from \"./Toggle.module.scss\"\n\nconst cx = classNames.bind(styles)\n\ninterface Props {\n  checked: boolean\n  onChange: () => void\n}\n\nconst Toggle = (props: PropsWithChildren<Props>) => {\n  const { checked, onChange, children } = props\n\n  return (\n    <button className={cx(styles.toggle, { checked })} onClick={onChange}>\n      <span className={styles.track}>\n        <span className={styles.indicator} />\n      </span>\n      <span className={styles.text}>{children}</span>\n    </button>\n  )\n}\n\nexport default Toggle\n","import { ChangeEvent } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport numeral from \"numeral\"\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\"\nimport styles from \"./Upload.module.scss\"\n\ninterface Props {\n  value?: File\n  onUpload: (file: File) => void\n}\n\nconst Upload = ({ value, onUpload }: Props) => {\n  const { t } = useTranslation()\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { files } = e.target\n    if (!files?.length) return\n    const file = files[0]\n    onUpload(file)\n  }\n\n  return (\n    <>\n      <input type=\"file\" id=\"file\" onChange={handleChange} hidden />\n\n      <label className={styles.label} htmlFor=\"file\">\n        {value?.name ?? (\n          <>\n            <CloudUploadIcon fontSize=\"small\" />\n            {t(\"Upload a wasm file\")}\n          </>\n        )}\n      </label>\n\n      {value && (\n        <footer className={styles.footer}>\n          <strong>{t(\"Size\")}:</strong> {numeral(value.size).format(\"0b\")}\n        </footer>\n      )}\n    </>\n  )\n}\n\nexport default Upload\n","import { useTranslation } from \"react-i18next\"\nimport ContentPasteIcon from \"@mui/icons-material/ContentPaste\"\nimport { Flex } from \"../layout\"\n\nconst Paste = ({ paste }: { paste: (lines: string[]) => void }) => {\n  const { t } = useTranslation()\n\n  const handleClick = async () => {\n    const text = await navigator.clipboard.readText()\n    const lines = text\n      .split(\"\\n\")\n      .filter((str) => str)\n      .map((str) => str.trim())\n\n    paste(lines)\n  }\n\n  return (\n    <button type=\"button\" onClick={handleClick}>\n      <Flex gap={4}>\n        <ContentPasteIcon fontSize=\"inherit\" />\n        {t(\"Paste\")}\n      </Flex>\n    </button>\n  )\n}\n\nexport default Paste\n","import { Key } from \"react\"\nimport Radio from \"./Radio\"\nimport styles from \"./RadioGroup.module.scss\"\n\ninterface Props<T> {\n  options: { value: T; label: string; disabled?: boolean }[]\n  value: T\n  onChange: (value: T) => void\n  reversed?: boolean\n}\n\nfunction RadioGroup<T extends Key>(props: Props<T>) {\n  const { options, value, onChange, reversed } = props\n\n  return (\n    <section className={styles.list}>\n      {options.map(({ label, disabled, ...option }) => {\n        const checked = option.value === value\n        return (\n          <Radio\n            label={label}\n            className={styles.item}\n            checked={checked}\n            onClick={() => !disabled && onChange(option.value)}\n            disabled={disabled}\n            key={option.value}\n            reversed={reversed}\n          />\n        )\n      })}\n    </section>\n  )\n}\n\nexport default RadioGroup\n","import { ButtonHTMLAttributes } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Button } from \"../general\"\nimport { LoadingCircular } from \"../feedback\"\nimport styles from \"./Form.module.scss\"\n\ninterface Props extends ButtonHTMLAttributes<HTMLButtonElement> {\n  submitting?: boolean\n}\n\nconst Submit = ({ submitting, ...attrs }: Props) => {\n  const { t } = useTranslation()\n\n  return (\n    <Button\n      {...attrs}\n      icon={submitting && <LoadingCircular size={18} />}\n      disabled={attrs.disabled || submitting}\n      type={attrs.type ?? \"submit\"}\n      className={styles.submit}\n      color=\"primary\"\n      block\n    >\n      {attrs.children || t(\"Submit\")}\n    </Button>\n  )\n}\n\nexport default Submit\n","import { ReactNode } from \"react\"\nimport { isDenomIBC, isDenomTerra } from \"@terra.kitchen/utils\"\nimport { readDenom, truncate } from \"@terra.kitchen/utils\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { ASSETS } from \"config/constants\"\nimport { useIsClassic } from \"./query\"\nimport { useIBCBaseDenom } from \"./queries/ibc\"\nimport { useTokenInfoCW20 } from \"./queries/wasm\"\nimport { useCustomTokensCW20 } from \"./settings/CustomTokens\"\nimport { useCW20Whitelist, useIBCWhitelist } from \"./Terra/TerraAssets\"\n\nexport const useTokenItem = (token: Token): TokenItem | undefined => {\n  const isClassic = useIsClassic()\n\n  /* CW20 */\n  const matchToken = (item: TokenItem) => item.token === token\n\n  // 1. Local storage\n  const { list } = useCustomTokensCW20()\n  const customTokenItem = list.find(matchToken)\n\n  // 2. Whitelist\n  const cw20WhitelistResult = useCW20Whitelist(!!customTokenItem)\n  const { data: cw20Whitelist = {} } = cw20WhitelistResult\n  const listedCW20TokenItem = Object.values(cw20Whitelist).find(matchToken)\n\n  // 3. Contract query - token info\n  const shouldQueryCW20 = cw20WhitelistResult.isSuccess && !listedCW20TokenItem\n  const tokenInfoResult = useTokenInfoCW20(token, shouldQueryCW20)\n  const { data: tokenInfo } = tokenInfoResult\n  const tokenInfoItem = tokenInfo ? { token, ...tokenInfo } : undefined\n\n  /* IBC */\n  // 1. Whitelist\n  const { data: ibcWhitelist = {}, ...ibcWhitelistState } = useIBCWhitelist()\n  const listedIBCTokenItem = ibcWhitelist[token.replace(\"ibc/\", \"\")]\n\n  // 2. Query denom trace\n  const shouldQueryIBC = ibcWhitelistState.isSuccess && !listedIBCTokenItem\n  const { data: base_denom } = useIBCBaseDenom(token, shouldQueryIBC)\n\n  if (AccAddress.validate(token)) {\n    return customTokenItem ?? listedCW20TokenItem ?? tokenInfoItem\n  }\n\n  if (isDenomIBC(token)) {\n    const item = {\n      ...listedIBCTokenItem,\n      denom: token,\n      base_denom: listedIBCTokenItem?.base_denom ?? base_denom,\n    }\n\n    return readIBCDenom(item)\n  }\n\n  return readNativeDenom(token, isClassic)\n}\n\ninterface Props {\n  token: Token\n  children: (token: TokenItem) => ReactNode\n}\n\nexport const WithTokenItem = ({ token, children }: Props) => {\n  const tokenItem = useTokenItem(token)\n  if (!tokenItem) return null\n  return <>{children(tokenItem)}</>\n}\n\n/* helpers */\nexport const getIcon = (path: string) => `${ASSETS}/icon/svg/${path}`\n\nexport const readNativeDenom = (\n  denom: Denom,\n  isClassic?: boolean\n): TokenItem => {\n  const symbol = readDenom(denom)\n  const symbolClassic = denom === \"uluna\" ? \"LUNC\" : symbol + \"C\"\n\n  const path = isDenomTerra(denom)\n    ? `Terra/${symbol}.svg`\n    : isClassic\n    ? \"LUNC.svg\"\n    : \"Luna.svg\"\n\n  return {\n    token: denom,\n    symbol: isClassic ? symbolClassic : symbol,\n    name: isDenomTerra(denom)\n      ? `Terra ${denom.slice(1).toUpperCase()}`\n      : undefined,\n    icon: getIcon(path),\n    decimals: 6,\n  }\n}\n\nexport const readIBCDenom = (item: IBCTokenItem): TokenItem => {\n  const { denom, base_denom } = item\n  const symbol =\n    item.symbol ?? ((base_denom && readDenom(base_denom)) || base_denom)\n  const path = symbol ? `ibc/${symbol}.svg` : \"IBC.svg\"\n\n  return {\n    token: denom,\n    symbol: symbol ?? truncate(denom),\n    icon: getIcon(path),\n    decimals: item.decimals ?? 6,\n  }\n}\n","import { useQuery } from \"react-query\"\nimport { isDenomIBC } from \"@terra.kitchen/utils\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { useLCDClient } from \"./lcdClient\"\n\nexport const useIBCBaseDenom = (denom: Denom, enabled: boolean) => {\n  const lcd = useLCDClient()\n\n  return useQuery(\n    [queryKey.ibc.denomTrace, denom],\n    async () => {\n      const { base_denom } = await lcd.ibcTransfer.denomTrace(\n        denom.replace(\"ibc/\", \"\")\n      )\n\n      return base_denom\n    },\n    { ...RefetchOptions.INFINITY, enabled: isDenomIBC(denom) && enabled }\n  )\n}\n","import { always } from \"ramda\"\nimport BigNumber from \"bignumber.js\"\nimport { AccAddress } from \"@terra-money/terra.js\"\nimport { validateMsg } from \"utils/data\"\n\nconst lessThan = (max: number, label = \"Amount\", optional = false) => {\n  return (value = 0) => {\n    if (optional)\n      return !value || value <= max || `${label} must be less than ${max}`\n\n    return (\n      (value > 0 && value <= max) || `${label} must be between 0 and ${max}`\n    )\n  }\n}\n\nconst decimal = (decimals = 6, label = \"Amount\", optional = false) => {\n  return (value = 0) => {\n    return (\n      (optional && !value) ||\n      new BigNumber(value).times(new BigNumber(10).pow(decimals)).isInteger() ||\n      `${label} must be within ${decimals} decimal points`\n    )\n  }\n}\n\nconst input = (\n  max: number,\n  decimals = 6,\n  label = \"Amount\",\n  optional = false\n) => {\n  if (max <= 0) return always(\"Insufficient balance\")\n  return {\n    required: (value = 0) => optional || !!value || `${label} is required`,\n    lessThan: lessThan(max, label, optional),\n    decimal: decimal(decimals, label, optional),\n  }\n}\n\nconst recipient = () => {\n  return {\n    required: (recipient = \"\") => !!recipient || \"Recipient is required\",\n    validate: (recipient = \"\") =>\n      validateRecipient(recipient) || \"Invalid recipient\",\n  }\n}\n\nconst address = (label = \"Recipient\", optional = false) => {\n  return (address?: string) => {\n    if (!address) return optional || `${label} is required`\n    return (address && AccAddress.validate(address)) || \"Invalid address\"\n  }\n}\n\nconst size = (length: number, label = \"Memo\") => {\n  return (value?: string) => {\n    if (!value) return\n    return new Blob([value]).size <= length || `${label} is too long`\n  }\n}\n\nconst memo = () => (value?: string) => {\n  if (!value) return\n  return (\n    [\"<\", \">\"].every((char) => !value.includes(char)) ||\n    \"Memo cannot include `<` or `>`\"\n  )\n}\n\nconst msg = () => {\n  return (value?: string) => {\n    if (!value) return `Msg is required`\n    return !!validateMsg(value) || `Msg is invalid`\n  }\n}\n\nconst validate = {\n  input,\n  decimal,\n  lessThan,\n  recipient,\n  address,\n  size,\n  memo,\n  msg,\n}\n\nexport default validate\n\n/* tns */\nexport const validateRecipient = (address: string) =>\n  AccAddress.validate(address) || address.endsWith(\".ust\")\n","import { useQuery } from \"react-query\"\nimport axios, { AxiosError } from \"axios\"\nimport { useNetwork } from \"data/wallet\"\nimport { useNetworks } from \"app/InitNetworks\"\nimport { queryKey, RefetchOptions } from \"../query\"\nimport { terraFCDURL } from \"../../config/constants\"\n\n/* terra FCD map*/\nexport const useTerraFCDURL = (mainnet?: true) => {\n  const network = useNetwork()\n  const networks = useNetworks()\n  return mainnet\n    ? terraFCDURL(networks[\"mainnet\"].name)\n    : terraFCDURL(network.name)\n}\n//\nexport const useIsTerraFCDAvailable = () => {\n  const url = useTerraFCDURL()\n  return !!url\n}\n//\nexport const useTerraFCD = <T>(path: string, params?: object, fallback?: T) => {\n  const baseURL = useTerraFCDURL()\n  const available = useIsTerraFCDAvailable()\n  const shouldFallback = !available && fallback\n\n  return useQuery<T, AxiosError>(\n    [queryKey.TerraAPI, baseURL, path, params],\n    async () => {\n      if (shouldFallback) return fallback\n      const { data } = await axios.get(path, { baseURL, params })\n      return data\n    },\n    { ...RefetchOptions.INFINITY, enabled: !!(baseURL || shouldFallback) }\n  )\n}\n\n/* fee */\nexport type GasPrices = Record<Denom, Amount>\n\nexport const useGasPrices = () => {\n  const current = useTerraFCDURL()\n  const mainnet = useTerraFCDURL(true)\n  const baseURL = current ?? mainnet\n  const path = \"/v1/txs/gas_prices\"\n\n  return useQuery(\n    [queryKey.TerraAPI, baseURL, path],\n    async () => {\n      const { data } = await axios.get<GasPrices>(path, { baseURL })\n      return data\n    },\n    { ...RefetchOptions.INFINITY, enabled: !!baseURL }\n  )\n}\n","import { PropsWithChildren } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport createContext from \"utils/createContext\"\nimport { GasPrices, useGasPrices } from \"data/Terra/TerraFCD\"\nimport { Card } from \"components/layout\"\nimport { ErrorBoundary, Wrong } from \"components/feedback\"\nimport { useTxKey } from \"./Tx\"\nimport TaxParamsContext from \"./wasm/TaxParams\"\n\nexport const [useTx, TxProvider] = createContext<{ gasPrices: GasPrices }>(\n  \"useTx\"\n)\n\nconst TxContext = ({ children }: PropsWithChildren<{}>) => {\n  const { t } = useTranslation()\n  const txKey = useTxKey()\n  const { data: gasPrices } = useGasPrices()\n\n  /* on error */\n  const fallback = () => (\n    <Card>\n      <Wrong>{t(\"Transaction is not available at the moment\")}</Wrong>\n    </Card>\n  )\n\n  // If the gas prices doesn't exist, nothing is worth rendering.\n  if (!gasPrices) return null\n\n  return (\n    <TaxParamsContext>\n      <TxProvider value={{ gasPrices }} key={txKey}>\n        <ErrorBoundary fallback={fallback}>{children}</ErrorBoundary>\n      </TxProvider>\n    </TaxParamsContext>\n  )\n}\n\nexport default TxContext\n","import { atom, useRecoilState } from \"recoil\"\nimport { SettingKey } from \"utils/localStorage\"\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\n\nexport const currencyState = atom({\n  key: \"currency\",\n  default: getLocalSetting<string>(SettingKey.Currency),\n})\n\nexport const useCurrency = () => {\n  return \"uluna\"\n}\n\nexport const useCurrencyState = () => {\n  const [currency, setCurrency] = useRecoilState(currencyState)\n\n  const set = (currency: string) => {\n    setLocalSetting(SettingKey.Currency, currency)\n    setCurrency(currency)\n  }\n\n  return [currency, set] as const\n}\n","import is from \"./is\"\nimport encrypt from \"./encrypt\"\nimport decrypt from \"./decrypt\"\n\n/* wallet */\nexport const getWallet = () => {\n  const user = localStorage.getItem(\"user\")\n  if (!user) return\n  return JSON.parse(user) as Wallet\n}\n\nexport const storeWallet = (user: Wallet) => {\n  localStorage.setItem(\"user\", JSON.stringify(user))\n}\n\nexport const clearWallet = () => {\n  localStorage.removeItem(\"user\")\n}\n\n/* stored wallets */\ntype StoredKey = StoredWallet | StoredWalletLegacy | MultisigWallet\nexport const getStoredWallets = () => {\n  const keys = localStorage.getItem(\"keys\") ?? \"[]\"\n  return JSON.parse(keys) as StoredKey[]\n}\n\nconst storeWallets = (wallets: StoredKey[]) => {\n  localStorage.setItem(\"keys\", JSON.stringify(wallets))\n}\n\n/* stored wallet */\nexport const getStoredWallet = (name: string) => {\n  const wallets = getStoredWallets()\n  const wallet = wallets.find((wallet) => wallet.name === name)\n  if (!wallet) throw new Error(\"Wallet does not exist\")\n  return wallet\n}\n\ninterface Params {\n  name: string\n  password: string\n}\n\nexport const getDecryptedKey = ({ name, password }: Params) => {\n  const wallet = getStoredWallet(name)\n\n  try {\n    if (\"encrypted\" in wallet) {\n      return decrypt(wallet.encrypted, password)\n    } else if (\"wallet\" in wallet) {\n      // legacy\n      const { privateKey: key } = JSON.parse(decrypt(wallet.wallet, password))\n      return key as string\n    } else {\n      return \"\"\n    }\n  } catch {\n    throw new PasswordError(\"Incorrect password\")\n  }\n}\n\nexport class PasswordError extends Error {}\nexport const testPassword = (params: Params) => {\n  if (!getDecryptedKey(params)) throw new PasswordError(\"Incorrect password\")\n  return true\n}\n\ntype AddWalletParams =\n  | { name: string; address: string; password: string; key: Buffer }\n  | MultisigWallet\n\nexport const addWallet = (params: AddWalletParams) => {\n  const wallets = getStoredWallets()\n\n  if (wallets.find((wallet) => wallet.name === params.name))\n    throw new Error(\"Wallet already exists\")\n\n  const next = wallets.filter((wallet) => wallet.address !== params.address)\n\n  if (is.multisig(params)) {\n    storeWallets([...next, params])\n  } else {\n    const { name, password, address, key } = params\n    const encrypted = encrypt(key.toString(\"hex\"), password)\n    storeWallets([...next, { name, address, encrypted }])\n  }\n}\n\ninterface ChangePasswordParams {\n  name: string\n  oldPassword: string\n  newPassword: string\n}\n\nexport const changePassword = (params: ChangePasswordParams) => {\n  const { name, oldPassword, newPassword } = params\n  testPassword({ name, password: oldPassword })\n  const key = getDecryptedKey({ name, password: oldPassword })\n  const encrypted = encrypt(key, newPassword)\n  const wallets = getStoredWallets()\n  const next = wallets.map((wallet) => {\n    if (wallet.name === name) {\n      const { address } = wallet\n      return { name, address, encrypted }\n    }\n\n    return wallet\n  })\n\n  storeWallets(next)\n}\n\nexport const deleteWallet = (name: string) => {\n  const wallets = getStoredWallets()\n  const next = wallets.filter((wallet) => wallet.name !== name)\n  storeWallets(next)\n}\n\nexport const lockWallet = (name: string) => {\n  const wallets = getStoredWallets()\n  const next = wallets.map((wallet) =>\n    wallet.name === name ? { ...wallet, lock: true } : wallet\n  )\n\n  storeWallets(next)\n}\n\nexport const unlockWallet = (name: string, password = \"\") => {\n  const wallets = getStoredWallets()\n\n  testPassword({ name, password })\n\n  const next = wallets.map((wallet) => {\n    const { lock, ...rest } = wallet\n    return wallet.name === name ? rest : wallet\n  })\n\n  storeWallets(next)\n}\n","import { useChainID } from \"auth/hooks/useNetwork\"\nimport { LAZY_LIMIT } from \"config/constants\"\n\nexport const useIsClassic = () => {\n  const chainId = useChainID()\n  return chainId.startsWith(\"columbus\")\n}\n\n/* refetch */\nexport const RefetchOptions = {\n  DEFAULT: /* onMount, onFocus */ {},\n  INFINITY: { staleTime: Infinity, retry: false },\n}\n\n/* params */\nexport const Pagination = {\n  \"pagination.limit\": String(LAZY_LIMIT),\n}\n\n/* helpers */\nexport const combineState = (...results: QueryState[]) => ({\n  isIdle: results.some((result) => result.isIdle),\n  isLoading: results.some((result) => result.isLoading),\n  isFetching: results.some((result) => result.isFetching),\n  isSuccess: results.every((result) => result.isSuccess),\n  error: results.find((result) => result.error)?.error,\n})\n\n/* queryKey */\nconst mirror = <T>(obj: T, parentKey?: string): T =>\n  Object.entries(obj).reduce((acc, [key, value]) => {\n    const next = value \n      ? mirror(value, key) \n      : [parentKey, key].filter(Boolean).join(\".\")\n\n    return { ...acc, [key]: next }\n  }, {} as T)\n\nexport const queryKey = mirror({\n  /* assets */\n  TerraAssets: \"\",\n  TerraAPI: \"\",\n  History: \"\",\n\n  /* lcd */\n  auth: { accountInfo: \"\" },\n  bank: { balance: \"\", balances: \"\", supply: \"\" },\n  distribution: {\n    rewards: \"\",\n    communityPool: \"\",\n    validatorCommission: \"\",\n    withdrawAddress: \"\",\n  },\n  gov: {\n    votingParams: \"\",\n    depositParams: \"\",\n    tallyParams: \"\",\n    proposals: \"\",\n    proposal: \"\",\n    deposits: \"\",\n    votes: \"\",\n    tally: \"\",\n  },\n  ibc: { denomTrace: \"\" },\n  market: { params: \"\" },\n  oracle: { activeDenoms: \"\", exchangeRates: \"\", params: \"\" },\n  tendermint: { nodeInfo: \"\" },\n  staking: {\n    validators: \"\",\n    validator: \"\",\n    delegations: \"\",\n    delegation: \"\",\n    unbondings: \"\",\n    pool: \"\",\n  },\n  treasury: { taxRate: \"\", taxCap: \"\" },\n  tx: { txInfo: \"\", create: \"\" },\n  wasm: { contractInfo: \"\", contractQuery: \"\" },\n\n  /* external */\n  Anchor: { TotalDeposit: \"\", APY: \"\", MarketEpochState: \"\" },\n  TNS: \"\",\n})\n","import { useTranslation } from \"react-i18next\"\nimport AddCircleOutlineIcon from \"@mui/icons-material/AddCircleOutline\"\nimport SettingsBackupRestoreIcon from \"@mui/icons-material/SettingsBackupRestore\"\nimport KeyIcon from \"@mui/icons-material/Key\"\nimport GroupsIcon from \"@mui/icons-material/Groups\"\nimport { sandbox } from \"../scripts/env\"\n\nconst useAvailable = () => {\n  const { t } = useTranslation()\n\n  if (!sandbox) return []\n\n  return [\n    {\n      to: \"/auth/new\",\n      children: t(\"New wallet\"),\n      icon: <AddCircleOutlineIcon />,\n    },\n    {\n      to: \"/auth/recover\",\n      children: t(\"Recover wallet\"),\n      icon: <SettingsBackupRestoreIcon />,\n    },\n    {\n      to: \"/auth/import\",\n      children: t(\"Import wallet\"),\n      icon: <KeyIcon />,\n    },\n    {\n      to: \"/auth/multisig/new\",\n      children: t(\"New multisig wallet\"),\n      icon: <GroupsIcon />,\n    },\n  ]\n}\n\nexport default useAvailable\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__tF2RZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress\":\"Fetching_progress__2SeW1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"FinderLink_link__3py6Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Details_component__1HCSk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dl\":\"Dl_dl__37y1p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"screen\":\"Splash_screen__3hCGR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Overlay_overlay__pxuCc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Online_title__2ImSk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"NetworkError_title__2gqR_\"};","import React, { useContext } from \"react\"\n\nconst createContext = <A>(name: string) => {\n  const ctx = React.createContext<A | undefined>(undefined)\n\n  const useCtx = () => {\n    const c = useContext(ctx)\n    if (!c) throw new Error(`${name} must be inside a provider with a value`)\n    return c\n  }\n\n  return [useCtx, ctx.Provider] as const\n}\n\nexport default createContext\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tag\":\"DashboardTag_tag__1Hb8t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Range_grid__Dbn70\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"total\":\"Coins_total__2NgUa\",\"select\":\"Coins_select__zU5Ot\"};","import { atom, useRecoilState } from \"recoil\"\nimport update from \"immutability-helper\"\nimport { DefaultCustomTokensItem } from \"utils/localStorage\"\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\nimport { SettingKey } from \"utils/localStorage\"\nimport { useNetworkName } from \"../wallet\"\n\nconst customTokensState = atom({\n  key: \"customTokens\",\n  default: getLocalSetting<CustomTokens>(SettingKey.CustomTokens),\n})\n\ninterface Params<T> {\n  type: \"ibc\" | \"cw20\" | \"cw721\"\n  key: keyof T\n}\n\nconst useCustomTokens = <T extends CustomToken>({ type, key }: Params<T>) => {\n  const [customTokens, setCustomTokens] = useRecoilState(customTokensState)\n  const networkName = useNetworkName()\n  const list = (customTokens[networkName]?.[type] ?? []) as T[]\n\n  const getIsAdded = (param: T) =>\n    !!list.find((item) => item[key] === param[key])\n\n  const updateList = (list: T[]) => {\n    const prev = { [networkName]: DefaultCustomTokensItem, ...customTokens }\n    const next = update(prev, { [networkName]: { [type]: { $set: list } } })\n    setCustomTokens(next)\n    setLocalSetting(SettingKey.CustomTokens, next)\n  }\n\n  const add = (newItem: T) => {\n    if (getIsAdded(newItem)) return\n    updateList([...list, newItem])\n  }\n\n  const remove = (oldItem: T) =>\n    updateList(list.filter((item) => item[key] !== oldItem[key]))\n\n  return { list, getIsAdded, update: updateList, add, remove }\n}\n\nexport const useCustomTokensIBC = () => {\n  return useCustomTokens<CustomTokenIBC>({ type: \"ibc\", key: \"denom\" })\n}\n\nexport const useCustomTokensCW20 = () => {\n  return useCustomTokens<CustomTokenCW20>({ type: \"cw20\", key: \"token\" })\n}\n\nexport const useCustomTokensCW721 = () => {\n  return useCustomTokens<CustomTokenCW721>({ type: \"cw721\", key: \"contract\" })\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"amount\":\"Vesting_amount__1nZP_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"placeholder\":\"NFTAssets_placeholder__30zTX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"NFTMarketplace_link__3WY6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"HistoryItem_footer__2E66F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"ProfileIcon_icon__1ow9C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProposalItem_item__21lpC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addresses\":\"ValidatorAddresses_addresses__2wuW1\",\"item\":\"ValidatorAddresses_item__3B_VD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modes\":\"SwapForm_modes__1RybH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modes\":\"SwapForm_modes__v3cKp\"};","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useForm } from \"react-hook-form\"\nimport { AccAddress, SignatureV2 } from \"@terra-money/terra.js\"\nimport { SAMPLE_ADDRESS } from \"config/constants\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\nimport { Pre } from \"components/general\"\nimport { Form, FormError, FormItem } from \"components/form\"\nimport { Input, Submit, TextArea } from \"components/form\"\nimport { Modal } from \"components/feedback\"\nimport { isWallet, useAuth } from \"auth\"\nimport { PasswordError } from \"auth/scripts/keystore\"\nimport { SAMPLE_ENCODED_TX } from \"./utils/placeholder\"\nimport ReadTx from \"./ReadTx\"\n\ninterface TxValues {\n  address: AccAddress\n  tx: string\n}\n\ninterface Props {\n  defaultValues: TxValues\n}\n\nconst SignMultisigTxForm = ({ defaultValues }: Props) => {\n  const { t } = useTranslation()\n  const { wallet, createSignature } = useAuth()\n  const lcd = useLCDClient()\n\n  /* form */\n  const form = useForm<TxValues>({ mode: \"onChange\", defaultValues })\n  const { register, watch, handleSubmit, formState } = form\n  const { isValid } = formState\n  const { tx } = watch()\n\n  /* submit */\n  const passwordRequired = isWallet.single(wallet)\n  const [password, setPassword] = useState(\"\")\n  const [incorrect, setIncorrect] = useState<string>()\n\n  const disabled = passwordRequired && !password ? t(\"Enter password\") : \"\"\n\n  const [signature, setSignature] = useState<SignatureV2>()\n  const [submitting, setSubmitting] = useState(false)\n  const [error, setError] = useState<Error>()\n\n  const submit = async ({ address, tx }: TxValues) => {\n    setSubmitting(true)\n\n    try {\n      const decoded = lcd.tx.decode(tx.trim())\n      if (!decoded) throw new Error(\"Invalid tx\")\n      const signature = await createSignature(decoded, address, password)\n      setSignature(signature)\n    } catch (error) {\n      if (error instanceof PasswordError) setIncorrect(error.message)\n      else setError(error as Error)\n    }\n\n    setSubmitting(false)\n  }\n\n  const submittingLabel = isWallet.ledger(wallet) ? t(\"Confirm in ledger\") : \"\"\n\n  return (\n    <ReadTx tx={tx.trim()}>\n      <Form onSubmit={handleSubmit(submit)}>\n        <FormItem label={t(\"Multisig address\")}>\n          <Input\n            {...register(\"address\", { validate: AccAddress.validate })}\n            placeholder={SAMPLE_ADDRESS}\n            autoFocus\n          />\n        </FormItem>\n\n        <FormItem label={t(\"Tx\")}>\n          <TextArea\n            {...register(\"tx\", { required: true })}\n            placeholder={SAMPLE_ENCODED_TX}\n            rows={6}\n          />\n        </FormItem>\n\n        {passwordRequired && (\n          <FormItem label={t(\"Password\")} error={incorrect}>\n            <Input\n              type=\"password\"\n              value={password}\n              onChange={(e) => {\n                setIncorrect(undefined)\n                setPassword(e.target.value)\n              }}\n            />\n          </FormItem>\n        )}\n\n        {error && <FormError>{error.message}</FormError>}\n\n        <Submit submitting={submitting} disabled={!!disabled || !isValid}>\n          {submitting ? submittingLabel : disabled}\n        </Submit>\n      </Form>\n\n      {signature && (\n        <Modal\n          title={t(\"Signature\")}\n          isOpen\n          onRequestClose={() => setSignature(undefined)}\n        >\n          <Pre normal break copy>\n            {toBytes(signature)}\n          </Pre>\n        </Modal>\n      )}\n    </ReadTx>\n  )\n}\n\nexport default SignMultisigTxForm\n\n/* utils */\nconst toBytes = (signature: SignatureV2) => {\n  const string = JSON.stringify(signature.toData())\n  return Buffer.from(string).toString(\"base64\")\n}\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useFieldArray, useForm } from \"react-hook-form\"\nimport { useSetRecoilState } from \"recoil\"\nimport { AccAddress, isTxError } from \"@terra-money/terra.js\"\nimport { LegacyAminoMultisigPublicKey } from \"@terra-money/terra.js\"\nimport { SimplePublicKey } from \"@terra-money/terra.js\"\nimport { SignatureV2, MultiSignature } from \"@terra-money/terra.js\"\nimport { SAMPLE_ADDRESS } from \"config/constants\"\nimport { useLCDClient } from \"data/queries/lcdClient\"\nimport { latestTxState } from \"data/queries/tx\"\nimport { Copy } from \"components/general\"\nimport { Form, FormError, FormGroup, FormItem } from \"components/form\"\nimport { Input, Submit, TextArea } from \"components/form\"\nimport { SAMPLE_ENCODED_TX, SAMPLE_SIGNATURE } from \"./utils/placeholder\"\nimport ReadTx from \"./ReadTx\"\n\ninterface Values {\n  address: AccAddress\n  tx: string\n  signatures: SignatureValue[]\n}\n\ninterface SignatureValue {\n  address: string\n  publicKey: SimplePublicKey.Data\n  signature: string\n}\n\ninterface Props {\n  publicKey: LegacyAminoMultisigPublicKey\n  sequence: number\n  defaultValues: Values\n}\n\nconst PostMultisigTxForm = ({ publicKey, sequence, ...props }: Props) => {\n  const { defaultValues } = props\n  const { t } = useTranslation()\n\n  /* form */\n  const form = useForm<Values>({ mode: \"onChange\", defaultValues })\n  const { register, control, watch, handleSubmit, formState } = form\n  const { isValid } = formState\n  const { tx } = watch()\n\n  const fieldArray = useFieldArray({ control, name: \"signatures\" })\n  const { fields } = fieldArray\n\n  /* submit */\n  const lcd = useLCDClient()\n  const setLatestTx = useSetRecoilState(latestTxState)\n\n  const [submitting, setSubmitting] = useState(false)\n  const [error, setError] = useState<Error>()\n\n  const getSignature = (signature: string) => {\n    const data = JSON.parse(Buffer.from(signature.trim(), \"base64\").toString())\n    return SignatureV2.fromData(data)\n  }\n\n  const submit = async ({ signatures, tx: encoded }: Values) => {\n    setSubmitting(true)\n    setError(undefined)\n\n    try {\n      const tx = lcd.tx.decode(encoded.trim())\n      if (!tx) throw new Error(\"Invalid tx\")\n\n      // signatures\n      const multisig = new MultiSignature(publicKey)\n      const values = signatures\n        .filter(({ signature }) => signature)\n        .map(({ signature }) => signature)\n\n      multisig.appendSignatureV2s(values.map(getSignature))\n\n      // signatures >> tx\n      const descriptor = multisig.toSignatureDescriptor()\n      tx.appendSignatures([new SignatureV2(publicKey, descriptor, sequence)])\n\n      // broadcast\n      const result = await lcd.tx.broadcastSync(tx)\n      if (isTxError(result)) throw new Error(result.raw_log)\n      setLatestTx({ txhash: result.txhash })\n    } catch (error) {\n      setError(error as Error)\n    }\n\n    setSubmitting(false)\n  }\n\n  return (\n    <ReadTx tx={tx.trim()}>\n      <Form onSubmit={handleSubmit(submit)}>\n        <FormItem label={t(\"Multisig address\")}>\n          <Input\n            {...register(\"address\", { validate: AccAddress.validate })}\n            placeholder={SAMPLE_ADDRESS}\n          />\n        </FormItem>\n\n        <FormItem label={t(\"Tx\")} extra={<Copy text={tx} />}>\n          <TextArea\n            {...register(\"tx\", { required: true })}\n            placeholder={SAMPLE_ENCODED_TX}\n            rows={6}\n          />\n        </FormItem>\n\n        <FormItem label={t(\"Signature\")}>\n          {fields.map(({ address, id }, index) => (\n            <FormGroup key={id}>\n              <FormItem label={address}>\n                <TextArea\n                  {...register(`signatures.${index}.signature`)}\n                  placeholder={SAMPLE_SIGNATURE}\n                  rows={6}\n                  autoFocus={!index}\n                />\n              </FormItem>\n            </FormGroup>\n          ))}\n        </FormItem>\n\n        {error && <FormError>{error.message}</FormError>}\n\n        <Submit submitting={submitting} disabled={!isValid} />\n      </Form>\n    </ReadTx>\n  )\n}\n\nexport default PostMultisigTxForm\n","import { useState } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport { decode } from \"js-base64\"\nimport { Form, FormError, FormItem } from \"components/form\"\nimport { Input, TextArea, Submit } from \"components/form\"\nimport decrypt from \"../../scripts/decrypt\"\nimport { addWallet, PasswordError } from \"../../scripts/keystore\"\nimport useAuth from \"../../hooks/useAuth\"\n\ninterface Values {\n  key: string\n  password: string\n}\n\nconst ImportWalletForm = () => {\n  const { t } = useTranslation()\n  const navigate = useNavigate()\n  const { connect } = useAuth()\n\n  /* form */\n  const form = useForm<Values>({ mode: \"onChange\" })\n\n  const { register, handleSubmit, formState } = form\n  const { errors, isValid } = formState\n\n  const [error, setError] = useState<Error>()\n\n  /* submit */\n  const submit = ({ key, password }: Values) => {\n    try {\n      interface Decoded {\n        name: string\n        address: string\n        encrypted_key: string\n      }\n\n      const { name, address, encrypted_key }: Decoded = JSON.parse(decode(key))\n      const pk = decrypt(encrypted_key, password)\n\n      if (!pk) throw new PasswordError(t(\"Incorrect password\"))\n\n      addWallet({ name, password, address, key: Buffer.from(pk, \"hex\") })\n      connect(name)\n      navigate(\"/wallet\")\n    } catch (error) {\n      setError(error as Error)\n    }\n  }\n\n  /* render */\n  return (\n    <Form onSubmit={handleSubmit(submit)}>\n      <FormItem label={t(\"Key\")} error={errors.key?.message}>\n        <TextArea\n          {...register(\"key\", {\n            required: true,\n            validate: (value) => isEncodedJSON(value) || \"Invalid\",\n          })}\n        />\n      </FormItem>\n\n      <FormItem label={t(\"Password\")} error={errors.password?.message}>\n        <Input {...register(\"password\", { required: true })} type=\"password\" />\n      </FormItem>\n\n      {error && <FormError>{error.message}</FormError>}\n\n      <Submit disabled={!isValid} />\n    </Form>\n  )\n}\n\nexport default ImportWalletForm\n\n/* helpers */\nconst isEncodedJSON = (encoded: string) => {\n  try {\n    JSON.parse(decode(encoded))\n    return true\n  } catch {\n    return false\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"GoBack_link__RU6Oc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__3zOuN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"NetworkName_component__1kIvJ\"};"],"sourceRoot":""}